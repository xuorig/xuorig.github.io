!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),a=e[t[0]];return function(e,t,r){a.apply(this,[e,t,r].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){n(375);return e()}function o(){y.onRouteUpdate&&(0,y.onRouteUpdate)(v)}function s(e,t){var n=t.location.pathname;if(e){var a=e.location.pathname;if(a===n)return!1}return!0}var i=n(2),l=a(i),u=n(31),c=a(u),p=n(164),d=n(226),h=a(d),f=n(236),m=a(f),y=n(477),g=n(478),v=null;p.browserHistory.listen(function(e){v=e,y.onRouteChange&&(console.warn("onRouteChange is now deprecated and will be removed in the next major Gatsby release (0.13). Please use onRouteUpdate instead. See the PR for more info (https://github.com/gatsbyjs/gatsby/pull/321)."),(0,y.onRouteChange)(e))});var b=void 0;r(function(){return g(function(e){var t=n(375),a=t.pages;b?(0,m.default)(a,e):b=(0,m.default)(a,e),c.default.render(l.default.createElement(p.Router,{history:p.browserHistory,routes:b,render:(0,p.applyRouterMiddleware)((0,h.default)(s)),onUpdate:o}),"undefined"!=typeof window?document.getElementById("react-mount"):void 0)})})},function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){"use strict";var a=n(4),r=n(5),o=n(17),s=n(20),i=n(21),l=n(26),u=n(9),c=n(27),p=n(29),d=n(30),h=(n(11),u.createElement),f=u.createFactory,m=u.cloneElement,y=a,g={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:d},Component:o,PureComponent:s,createElement:h,cloneElement:m,isValidElement:u.isValidElement,PropTypes:c,createClass:i.createClass,createFactory:f,createMixin:function(e){return e},DOM:l,version:p,__spread:y};e.exports=g},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==a.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=a()?Object.assign:function(e,t){for(var a,s,i=n(e),l=1;l<arguments.length;l++){a=Object(arguments[l]);for(var u in a)r.call(a,u)&&(i[u]=a[u]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(a);for(var c=0;c<s.length;c++)o.call(a,s[c])&&(i[s[c]]=a[s[c]])}}return i}},function(e,t,n){"use strict";function a(e){return(""+e).replace(w,"$&/")}function r(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var a=e.func,r=e.context;a.call(r,t,e.count++)}function s(e,t,n){if(null==e)return e;var a=r.getPooled(t,n);g(e,o,a),r.release(a)}function i(e,t,n,a){this.result=e,this.keyPrefix=t,this.func=n,this.context=a,this.count=0}function l(e,t,n){var r=e.result,o=e.keyPrefix,s=e.func,i=e.context,l=s.call(i,t,e.count++);Array.isArray(l)?u(l,r,n,y.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,o+(!l.key||t&&t.key===l.key?"":a(l.key)+"/")+n)),r.push(l))}function u(e,t,n,r,o){var s="";null!=n&&(s=a(n)+"/");var u=i.getPooled(t,s,r,o);g(e,l,u),i.release(u)}function c(e,t,n){if(null==e)return e;var a=[];return u(e,a,null,t,n),a}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function h(e){var t=[];return u(e,t,null,y.thatReturnsArgument),t}var f=n(6),m=n(9),y=n(12),g=n(14),v=f.twoArgumentPooler,b=f.fourArgumentPooler,w=/\/+/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(r,v),i.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(i,b);var _={forEach:s,map:c,mapIntoWithKeyPrefixInternal:u,count:d,toArray:h};e.exports=_},function(e,t,n){"use strict";var a=n(7),r=(n(8),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var a=n.instancePool.pop();return n.call(a,e,t),a}return new n(e,t)},s=function(e,t,n){var a=this;if(a.instancePool.length){var r=a.instancePool.pop();return a.call(r,e,t,n),r}return new a(e,t,n)},i=function(e,t,n,a){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n,a),o}return new r(e,t,n,a)},l=function(e,t,n,a,r){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,e,t,n,a,r),s}return new o(e,t,n,a,r)},u=function(e){var t=this;e instanceof t?void 0:a("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=r,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=u,n},h={addPoolingTo:d,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:s,fourArgumentPooler:i,fiveArgumentPooler:l};e.exports=h},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,a=0;a<t;a++)n+="&args[]="+encodeURIComponent(arguments[a+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var r=new Error(n);throw r.name="Invariant Violation",r.framesToPop=1,r}e.exports=n},function(e,t,n){"use strict";function a(e,t,n,a,r,o,s,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,r,o,s,i],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=a},function(e,t,n){"use strict";function a(e){return void 0!==e.ref}function r(e){return void 0!==e.key}var o=n(4),s=n(10),i=(n(11),n(13),Object.prototype.hasOwnProperty),l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,u={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,a,r,o,s){var i={$$typeof:l,type:e,key:t,ref:n,props:s,_owner:o};return i};c.createElement=function(e,t,n){var o,l={},p=null,d=null,h=null,f=null;if(null!=t){a(t)&&(d=t.ref),r(t)&&(p=""+t.key),h=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source;for(o in t)i.call(t,o)&&!u.hasOwnProperty(o)&&(l[o]=t[o])}var m=arguments.length-2;if(1===m)l.children=n;else if(m>1){for(var y=Array(m),g=0;g<m;g++)y[g]=arguments[g+2];l.children=y}if(e&&e.defaultProps){var v=e.defaultProps;for(o in v)void 0===l[o]&&(l[o]=v[o])}return c(e,p,d,h,f,s.current,l)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var l,p=o({},e.props),d=e.key,h=e.ref,f=e._self,m=e._source,y=e._owner;if(null!=t){a(t)&&(h=t.ref,y=s.current),r(t)&&(d=""+t.key);var g;e.type&&e.type.defaultProps&&(g=e.type.defaultProps);for(l in t)i.call(t,l)&&!u.hasOwnProperty(l)&&(void 0===t[l]&&void 0!==g?p[l]=g[l]:p[l]=t[l])}var v=arguments.length-2;if(1===v)p.children=n;else if(v>1){for(var b=Array(v),w=0;w<v;w++)b[w]=arguments[w+2];p.children=b}return c(e.type,d,h,f,m,y,p)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===l},c.REACT_ELEMENT_TYPE=l,e.exports=c},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";var a=n(12),r=a;e.exports=r},function(e,t){"use strict";function n(e){return function(){return e}}var a=function(){};a.thatReturns=n,a.thatReturnsFalse=n(!1),a.thatReturnsTrue=n(!0),a.thatReturnsNull=n(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";var a=!1;e.exports=a},function(e,t,n){"use strict";function a(e,t){return e&&"object"==typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function r(e,t,n,o){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||i.isValidElement(e))return n(o,e,""===t?c+a(e,0):t),1;var h,f,m=0,y=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)h=e[g],f=y+a(h,g),m+=r(h,f,n,o);else{var v=l(e);if(v){var b,w=v.call(e);if(v!==e.entries)for(var _=0;!(b=w.next()).done;)h=b.value,f=y+a(h,_++),m+=r(h,f,n,o);else for(;!(b=w.next()).done;){var k=b.value;k&&(h=k[1],f=y+u.escape(k[0])+p+a(h,0),m+=r(h,f,n,o))}}else if("object"===d){var j="",x=String(e);s("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,j)}}return m}function o(e,t,n){return null==e?0:r(e,"",t,n)}var s=n(7),i=(n(10),n(9)),l=n(15),u=(n(8),n(16)),c=(n(11),"."),p=":";e.exports=o},function(e,t){"use strict";function n(e){var t=e&&(a&&e[a]||e[r]);if("function"==typeof t)return t}var a="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";e.exports=n},function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},a=(""+e).replace(t,function(e){return n[e]});return"$"+a}function a(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},a="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+a).replace(t,function(e){return n[e]})}var r={escape:n,unescape:a};e.exports=r},function(e,t,n){"use strict";function a(e,t,n){this.props=e,this.context=t,this.refs=s,this.updater=n||o}var r=n(7),o=n(18),s=(n(13),n(19));n(8),n(11);a.prototype.isReactComponent={},a.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?r("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=a},function(e,t,n){"use strict";function a(e,t){}var r=(n(11),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){a(e,"forceUpdate")},enqueueReplaceState:function(e,t){a(e,"replaceState")},enqueueSetState:function(e,t){a(e,"setState")}});e.exports=r},function(e,t,n){"use strict";var a={};e.exports=a},function(e,t,n){"use strict";function a(e,t,n){this.props=e,this.context=t,this.refs=l,this.updater=n||i}function r(){}var o=n(4),s=n(17),i=n(18),l=n(19);r.prototype=s.prototype,a.prototype=new r,a.prototype.constructor=a,o(a.prototype,s.prototype),a.prototype.isPureReactComponent=!0,e.exports=a},function(e,t,n){"use strict";function a(e,t){var n=k.hasOwnProperty(t)?k[t]:null;x.hasOwnProperty(t)&&(n!==w.OVERRIDE_BASE?p("73",t):void 0),e&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?p("74",t):void 0)}function r(e,t){if(t){"function"==typeof t?p("75"):void 0,f.isValidElement(t)?p("76"):void 0;var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&j.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==b){var s=t[o],u=n.hasOwnProperty(o);if(a(u,o),j.hasOwnProperty(o))j[o](e,s);else{var c=k.hasOwnProperty(o),d="function"==typeof s,h=d&&!c&&!u&&t.autobind!==!1;if(h)r.push(o,s),n[o]=s;else if(u){var m=k[o];!c||m!==w.DEFINE_MANY_MERGED&&m!==w.DEFINE_MANY?p("77",m,o):void 0,m===w.DEFINE_MANY_MERGED?n[o]=i(n[o],s):m===w.DEFINE_MANY&&(n[o]=l(n[o],s))}else n[o]=s}}}else;}function o(e,t){if(t)for(var n in t){var a=t[n];if(t.hasOwnProperty(n)){var r=n in j;r?p("78",n):void 0;var o=n in e;o?p("79",n):void 0,e[n]=a}}}function s(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:p("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?p("81",n):void 0,e[n]=t[n]);return e}function i(e,t){return function(){var n=e.apply(this,arguments),a=t.apply(this,arguments);if(null==n)return a;if(null==a)return n;var r={};return s(r,n),s(r,a),r}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function u(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var a=t[n],r=t[n+1];e[a]=u(e,r)}}var p=n(7),d=n(4),h=n(17),f=n(9),m=(n(22),n(24),n(18)),y=n(19),g=(n(8),n(23)),v=n(25),b=(n(11),v({mixins:null})),w=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],k={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},j={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)r(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=i(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},x={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},T=function(){};d(T.prototype,h.prototype,x);var E={createClass:function(e){var t=function(e,n,a){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=n,this.refs=y,this.updater=a||m,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?p("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=r};t.prototype=new T,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],_.forEach(r.bind(null,t)),r(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:p("83");for(var n in k)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){_.push(e)}}};e.exports=E},function(e,t,n){"use strict";var a=n(23),r=a({prop:null,context:null,childContext:null});e.exports=r},function(e,t,n){"use strict";var a=n(8),r=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:a(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=r},function(e,t,n){"use strict";var a={};e.exports=a},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";var a=n(9),r=a.createFactory,o={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=o},function(e,t,n){"use strict";function a(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function r(e){this.message=e,this.stack=""}function o(e){function t(t,n,a,o,s,i,l){o=o||E,i=i||a;if(null==n[a]){var u=k[s];return t?new r("Required "+u+" `"+i+"` was not specified in "+("`"+o+"`.")):null}return e(n,a,o,s,i)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function s(e){function t(t,n,a,o,s,i){var l=t[n],u=v(l);if(u!==e){var c=k[o],p=b(l);return new r("Invalid "+c+" `"+s+"` of type "+("`"+p+"` supplied to `"+a+"`, expected ")+("`"+e+"`."))}return null}return o(t)}function i(){return o(x.thatReturns(null))}function l(e){function t(t,n,a,o,s){if("function"!=typeof e)return new r("Property `"+s+"` of component `"+a+"` has invalid PropType notation inside arrayOf.");var i=t[n];if(!Array.isArray(i)){var l=k[o],u=v(i);return new r("Invalid "+l+" `"+s+"` of type "+("`"+u+"` supplied to `"+a+"`, expected an array."))}for(var c=0;c<i.length;c++){var p=e(i,c,a,o,s+"["+c+"]",j);if(p instanceof Error)return p}return null}return o(t)}function u(){function e(e,t,n,a,o){var s=e[t];if(!_.isValidElement(s)){var i=k[a],l=v(s);return new r("Invalid "+i+" `"+o+"` of type "+("`"+l+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return o(e)}function c(e){function t(t,n,a,o,s){if(!(t[n]instanceof e)){var i=k[o],l=e.name||E,u=w(t[n]);return new r("Invalid "+i+" `"+s+"` of type "+("`"+u+"` supplied to `"+a+"`, expected ")+("instance of `"+l+"`."))}return null}return o(t)}function p(e){function t(t,n,o,s,i){for(var l=t[n],u=0;u<e.length;u++)if(a(l,e[u]))return null;var c=k[s],p=JSON.stringify(e);return new r("Invalid "+c+" `"+i+"` of value `"+l+"` "+("supplied to `"+o+"`, expected one of "+p+"."))}return Array.isArray(e)?o(t):x.thatReturnsNull}function d(e){function t(t,n,a,o,s){if("function"!=typeof e)return new r("Property `"+s+"` of component `"+a+"` has invalid PropType notation inside objectOf.");var i=t[n],l=v(i);if("object"!==l){var u=k[o];return new r("Invalid "+u+" `"+s+"` of type "+("`"+l+"` supplied to `"+a+"`, expected an object."))}for(var c in i)if(i.hasOwnProperty(c)){var p=e(i,c,a,o,s+"."+c,j);if(p instanceof Error)return p}return null}return o(t)}function h(e){function t(t,n,a,o,s){for(var i=0;i<e.length;i++){var l=e[i];if(null==l(t,n,a,o,s,j))return null}var u=k[o];return new r("Invalid "+u+" `"+s+"` supplied to "+("`"+a+"`."))}return Array.isArray(e)?o(t):x.thatReturnsNull}function f(){function e(e,t,n,a,o){if(!y(e[t])){var s=k[a];return new r("Invalid "+s+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function m(e){function t(t,n,a,o,s){var i=t[n],l=v(i);if("object"!==l){var u=k[o];return new r("Invalid "+u+" `"+s+"` of type `"+l+"` "+("supplied to `"+a+"`, expected `object`."))}for(var c in e){var p=e[c];if(p){var d=p(i,c,a,o,s+"."+c,j);if(d)return d}}return null}return o(t)}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||_.isValidElement(e))return!0;var t=T(e);if(!t)return!1;var n,a=t.call(e);if(t!==e.entries){for(;!(n=a.next()).done;)if(!y(n.value))return!1}else for(;!(n=a.next()).done;){var r=n.value;if(r&&!y(r[1]))return!1}return!0;default:return!1}}function g(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(t,e)?"symbol":t}function b(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var _=n(9),k=n(24),j=n(28),x=n(12),T=n(15),E=(n(11),"<<anonymous>>"),C={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:i(),arrayOf:l,element:u(),instanceOf:c,node:f(),objectOf:d,oneOf:p,oneOfType:h,shape:m};r.prototype=Error.prototype,e.exports=C},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t){"use strict";e.exports="15.3.2"},function(e,t,n){"use strict";function a(e){return o.isValidElement(e)?void 0:r("143"),e}var r=n(7),o=n(9);n(8);e.exports=a},function(e,t,n){"use strict";e.exports=n(32)},function(e,t,n){"use strict";var a=n(33),r=n(36),o=n(156),s=n(56),i=n(53),l=n(29),u=n(161),c=n(162),p=n(163);n(11);r.inject();var d={findDOMNode:u,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:l,unstable_batchedUpdates:i.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:a.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?a.getNodeFromInstance(e):null}},Mount:o,Reconciler:s});e.exports=d},function(e,t,n){"use strict";function a(e){for(var t;t=e._renderedComponent;)e=t;return e}function r(e,t){var n=a(e);n._hostNode=t,t[m]=n}function o(e){var t=e._hostNode;t&&(delete t[m],e._hostNode=null)}function s(e,t){if(!(e._flags&f.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var i=n[s],l=a(i)._domID;if(0!==l){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(h)===String(l)||8===o.nodeType&&o.nodeValue===" react-text: "+l+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+l+" "){r(i,o);continue e}c("32",l)}}e._flags|=f.hasCachedChildNodes}}function i(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,a;e&&(a=e[m]);e=t.pop())n=a,t.length&&s(a,e);return n}function l(e){var t=i(e);return null!=t&&t._hostNode===e?t:null}function u(e){if(void 0===e._hostNode?c("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:c("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var c=n(7),p=n(34),d=n(35),h=(n(8),p.ID_ATTRIBUTE_NAME),f=d,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:i,getInstanceFromNode:l,getNodeFromInstance:u,precacheChildNodes:s,precacheNode:r,uncacheNode:o};e.exports=y},function(e,t,n){"use strict";function a(e,t){return(e&t)===t}var r=n(7),o=(n(8),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},s=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&i._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){i.properties.hasOwnProperty(p)?r("48",p):void 0;var d=p.toLowerCase(),h=n[p],f={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:a(h,t.MUST_USE_PROPERTY),hasBooleanValue:a(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:a(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:a(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:a(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r("50",p),l.hasOwnProperty(p)){var m=l[p];f.attributeName=m}s.hasOwnProperty(p)&&(f.attributeNamespace=s[p]),u.hasOwnProperty(p)&&(f.propertyName=u[p]),c.hasOwnProperty(p)&&(f.mutationMethod=c[p]),i.properties[p]=f}}}),s=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:s,ATTRIBUTE_NAME_CHAR:s+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<i._isCustomAttributeFunctions.length;t++){var n=i._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:o};e.exports=i},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function a(){k||(k=!0,g.EventEmitter.injectReactEventListener(y),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginUtils.injectComponentTree(p),g.EventPluginUtils.injectTreeTraversal(h),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:_,EnterLeaveEventPlugin:i,ChangeEventPlugin:o,SelectEventPlugin:w,BeforeInputEventPlugin:r}),g.HostComponent.injectGenericComponentClass(c),g.HostComponent.injectTextComponentClass(f),g.DOMProperty.injectDOMPropertyConfig(l),g.DOMProperty.injectDOMPropertyConfig(b),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),g.Updates.injectReconcileTransaction(v),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(u))}var r=n(37),o=n(52),s=n(64),i=n(65),l=n(70),u=n(71),c=n(85),p=n(33),d=n(127),h=n(128),f=n(129),m=n(130),y=n(131),g=n(134),v=n(135),b=n(143),w=n(144),_=n(145),k=!1;e.exports={inject:a}},function(e,t,n){"use strict";function a(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case R.topCompositionStart:return M.compositionStart;case R.topCompositionEnd:return M.compositionEnd;case R.topCompositionUpdate:return M.compositionUpdate}}function s(e,t){return e===R.topKeyDown&&t.keyCode===_}function i(e,t){switch(e){case R.topKeyUp:return w.indexOf(t.keyCode)!==-1;case R.topKeyDown:return t.keyCode!==_;case R.topKeyPress:case R.topMouseDown:case R.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,a){var r,u;if(k?r=o(e):P?i(e,n)&&(r=M.compositionEnd):s(e,n)&&(r=M.compositionStart),!r)return null;T&&(P||r!==M.compositionStart?r===M.compositionEnd&&P&&(u=P.getData()):P=y.getPooled(a));var c=g.getPooled(r,t,n,a);if(u)c.data=u;else{var p=l(n);null!==p&&(c.data=p)}return f.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case R.topCompositionEnd:return l(t);case R.topKeyPress:var n=t.which;return n!==E?null:(S=!0,C);case R.topTextInput:var a=t.data;return a===C&&S?null:a;default:return null}}function p(e,t){if(P){if(e===R.topCompositionEnd||!k&&i(e,t)){var n=P.getData();return y.release(P),P=null,n}return null}switch(e){case R.topPaste:return null;case R.topKeyPress:return t.which&&!r(t)?String.fromCharCode(t.which):null;case R.topCompositionEnd:return T?null:t.data;default:return null}}function d(e,t,n,a){var r;if(r=x?c(e,n):p(e,n),!r)return null;var o=v.getPooled(M.beforeInput,t,n,a);return o.data=r,f.accumulateTwoPhaseDispatches(o),o}var h=n(38),f=n(39),m=n(46),y=n(47),g=n(49),v=n(51),b=n(25),w=[9,13,27,32],_=229,k=m.canUseDOM&&"CompositionEvent"in window,j=null;m.canUseDOM&&"documentMode"in document&&(j=document.documentMode);var x=m.canUseDOM&&"TextEvent"in window&&!j&&!a(),T=m.canUseDOM&&(!k||j&&j>8&&j<=11),E=32,C=String.fromCharCode(E),R=h.topLevelTypes,M={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[R.topCompositionEnd,R.topKeyPress,R.topTextInput,R.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[R.topBlur,R.topCompositionEnd,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[R.topBlur,R.topCompositionStart,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[R.topBlur,R.topCompositionUpdate,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]}},S=!1,P=null,O={eventTypes:M,extractEvents:function(e,t,n,a){return[u(e,t,n,a),d(e,t,n,a)]}};e.exports=O},function(e,t,n){"use strict";var a=n(23),r=a({bubbled:null,captured:null}),o=a({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),s={topLevelTypes:o,PropagationPhases:r};e.exports=s},function(e,t,n){"use strict";function a(e,t,n){var a=t.dispatchConfig.phasedRegistrationNames[n];return b(e,a)}function r(e,t,n){var r=t?v.bubbled:v.captured,o=a(e,n,r);o&&(n._dispatchListeners=y(n._dispatchListeners,o),n._dispatchInstances=y(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,r,e)}function s(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,r,e)}}function i(e,t,n){if(n&&n.dispatchConfig.registrationName){var a=n.dispatchConfig.registrationName,r=b(e,a);r&&(n._dispatchListeners=y(n._dispatchListeners,r),n._dispatchInstances=y(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&i(e._targetInst,null,e)}function u(e){g(e,o)}function c(e){g(e,s)}function p(e,t,n,a){m.traverseEnterLeave(n,a,i,e,t)}function d(e){g(e,l)}var h=n(38),f=n(40),m=n(42),y=n(44),g=n(45),v=(n(11),h.PropagationPhases),b=f.getListener,w={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};e.exports=w},function(e,t,n){"use strict";var a=n(7),r=n(41),o=n(42),s=n(43),i=n(44),l=n(45),u=(n(8),{}),c=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},h=function(e){return p(e,!1)},f=function(e){
return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?a("94",t,typeof n):void 0;var o=f(e),s=u[t]||(u[t]={});s[o]=n;var i=r.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t],a=f(e);return n&&n[a]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var a=u[t];if(a){var o=f(e);delete a[o]}},deleteAllListeners:function(e){var t=f(e);for(var n in u)if(u.hasOwnProperty(n)&&u[n][t]){var a=r.registrationNameModules[n];a&&a.willDeleteListener&&a.willDeleteListener(e,n),delete u[n][t]}},extractEvents:function(e,t,n,a){for(var o,s=r.plugins,l=0;l<s.length;l++){var u=s[l];if(u){var c=u.extractEvents(e,t,n,a);c&&(o=i(o,c))}}return o},enqueueEvents:function(e){e&&(c=i(c,e))},processEventQueue:function(e){var t=c;c=null,e?l(t,d):l(t,h),c?a("95"):void 0,s.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};e.exports=m},function(e,t,n){"use strict";function a(){if(i)for(var e in l){var t=l[e],n=i.indexOf(e);if(n>-1?void 0:s("96",e),!u.plugins[n]){t.extractEvents?void 0:s("97",e),u.plugins[n]=t;var a=t.eventTypes;for(var o in a)r(a[o],t,o)?void 0:s("98",o,e)}}}function r(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?s("99",n):void 0,u.eventNameDispatchConfigs[n]=e;var a=e.phasedRegistrationNames;if(a){for(var r in a)if(a.hasOwnProperty(r)){var i=a[r];o(i,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){u.registrationNameModules[e]?s("100",e):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var s=n(7),i=(n(8),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){i?s("101"):void 0,i=Array.prototype.slice.call(e),a()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];l.hasOwnProperty(n)&&l[n]===r||(l[n]?s("102",n):void 0,l[n]=r,t=!0)}t&&a()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var a=u.registrationNameModules[t.phasedRegistrationNames[n]];if(a)return a}return null},_resetEventPlugins:function(){i=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var a=u.registrationNameModules;for(var r in a)a.hasOwnProperty(r)&&delete a[r]}};e.exports=u},function(e,t,n){"use strict";function a(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function r(e){return e===v.topMouseMove||e===v.topTouchMove}function o(e){return e===v.topMouseDown||e===v.topTouchStart}function s(e,t,n,a){var r=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(a),t?y.invokeGuardedCallbackWithCatch(r,n,e):y.invokeGuardedCallback(r,n,e),e.currentTarget=null}function i(e,t){var n=e._dispatchListeners,a=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)s(e,t,n[r],a[r]);else n&&s(e,t,n,a);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var a=0;a<t.length&&!e.isPropagationStopped();a++)if(t[a](e,n[a]))return n[a]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?f("103"):void 0,e.currentTarget=t?b.getNodeFromInstance(n):null;var a=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,a}function p(e){return!!e._dispatchListeners}var d,h,f=n(7),m=n(38),y=n(43),g=(n(8),n(11),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){h=e}}),v=m.topLevelTypes,b={isEndish:a,isMoveish:r,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,a,r){return h.traverseEnterLeave(e,t,n,a,r)},injection:g};e.exports=b},function(e,t,n){"use strict";function a(e,t,n,a){try{return t(n,a)}catch(e){return void(null===r&&(r=e))}}var r=null,o={invokeGuardedCallback:a,invokeGuardedCallbackWithCatch:a,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=o},function(e,t,n){"use strict";function a(e,t){return null==t?r("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var r=n(7);n(8);e.exports=a},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=a},function(e,t,n){"use strict";function a(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=n(4),o=n(6),s=n(48);r(a.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,a=n.length,r=this.getText(),o=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[o-t];t++);var i=t>1?1-t:void 0;return this._fallbackText=r.slice(e,i),this._fallbackText}}),o.addPoolingTo(a),e.exports=a},function(e,t,n){"use strict";function a(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(46),o=null;e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(50),o={data:null};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i?this[o]=i(n):"target"===o?this.target=a:this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return l?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}var r=n(4),o=n(6),s=n(12),i=(n(11),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<i.length;n++)this[i[n]]=null}}),a.Interface=l,a.augmentClass=function(e,t){var n=this,a=function(){};a.prototype=n.prototype;var s=new a;r(s,e.prototype),e.prototype=s,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(a,o.fourArgumentPooler),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(50),o={data:null};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function r(e){var t=x.getPooled(S.change,O,e,T(e));w.accumulateTwoPhaseDispatches(t),j.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function s(e,t){P=e,O=t,P.attachEvent("onchange",r)}function i(){P&&(P.detachEvent("onchange",r),P=null,O=null)}function l(e,t){if(e===M.topChange)return t}function u(e,t,n){e===M.topFocus?(i(),s(t,n)):e===M.topBlur&&i()}function c(e,t){P=e,O=t,A=e.value,L=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(P,"value",D),P.attachEvent?P.attachEvent("onpropertychange",d):P.addEventListener("propertychange",d,!1)}function p(){P&&(delete P.value,P.detachEvent?P.detachEvent("onpropertychange",d):P.removeEventListener("propertychange",d,!1),P=null,O=null,A=null,L=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==A&&(A=t,r(e))}}function h(e,t){if(e===M.topInput)return t}function f(e,t,n){e===M.topFocus?(p(),c(t,n)):e===M.topBlur&&p()}function m(e,t){if((e===M.topSelectionChange||e===M.topKeyUp||e===M.topKeyDown)&&P&&P.value!==A)return A=P.value,O}function y(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){if(e===M.topClick)return t}var v=n(38),b=n(40),w=n(39),_=n(46),k=n(33),j=n(53),x=n(50),T=n(61),E=n(62),C=n(63),R=n(25),M=v.topLevelTypes,S={change:{phasedRegistrationNames:{bubbled:R({onChange:null}),captured:R({onChangeCapture:null})},dependencies:[M.topBlur,M.topChange,M.topClick,M.topFocus,M.topInput,M.topKeyDown,M.topKeyUp,M.topSelectionChange]}},P=null,O=null,A=null,L=null,I=!1;_.canUseDOM&&(I=E("change")&&(!document.documentMode||document.documentMode>8));var N=!1;_.canUseDOM&&(N=E("input")&&(!document.documentMode||document.documentMode>11));var D={get:function(){return L.get.call(this)},set:function(e){A=""+e,L.set.call(this,e)}},q={eventTypes:S,extractEvents:function(e,t,n,r){var o,s,i=t?k.getNodeFromInstance(t):window;if(a(i)?I?o=l:s=u:C(i)?N?o=h:(o=m,s=f):y(i)&&(o=g),o){var c=o(e,t);if(c){var p=x.getPooled(S.change,c,n,r);return p.type="change",w.accumulateTwoPhaseDispatches(p),p}}s&&s(e,i,t)}};e.exports=q},function(e,t,n){"use strict";function a(){C.ReactReconcileTransaction&&_?void 0:c("123")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,r,o,s){a(),_.batchedUpdates(e,t,n,r,o,s)}function s(e,t){return e._mountOrder-t._mountOrder}function i(e){var t=e.dirtyComponentsLength;t!==g.length?c("124",t,g.length):void 0,g.sort(s),v++;for(var n=0;n<t;n++){var a=g[n],r=a._pendingCallbacks;a._pendingCallbacks=null;var o;if(f.logTopLevelRenders){var i=a;a._currentElement.props===a._renderedComponent._currentElement&&(i=a._renderedComponent),o="React update: "+i.getName(),console.time(o)}if(m.performUpdateIfNecessary(a,e.reconcileTransaction,v),o&&console.timeEnd(o),r)for(var l=0;l<r.length;l++)e.callbackQueue.enqueue(r[l],a.getPublicInstance())}}function l(e){return a(),_.isBatchingUpdates?(g.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=v+1))):void _.batchedUpdates(l,e)}function u(e,t){_.isBatchingUpdates?void 0:c("125"),b.enqueue(e,t),w=!0}var c=n(7),p=n(4),d=n(54),h=n(6),f=n(55),m=n(56),y=n(60),g=(n(8),[]),v=0,b=d.getPooled(),w=!1,_=null,k={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},j={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[k,j];p(r.prototype,y.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return y.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(r);var T=function(){for(;g.length||w;){if(g.length){var e=r.getPooled();e.perform(i,null,e),r.release(e)}if(w){w=!1;var t=b;b=d.getPooled(),t.notifyAll(),d.release(t)}}},E={injectReconcileTransaction:function(e){e?void 0:c("126"),C.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,_=e}},C={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:T,injection:E,asap:u};e.exports=C},function(e,t,n){"use strict";function a(){this._callbacks=null,this._contexts=null}var r=n(7),o=n(4),s=n(6);n(8);o(a.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?r("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),s.addPoolingTo(a),e.exports=a},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function a(){r.attachRefs(this,this._currentElement)}var r=n(57),o=(n(59),n(11),{mountComponent:function(e,t,n,r,o,s){var i=e.mountComponent(t,n,r,o,s);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(a,e),i},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){r.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var s=e._currentElement;if(t!==s||o!==e._context){var i=r.shouldUpdateRefs(s,t);i&&r.detachRefs(e,s),e.receiveComponent(t,n,o),i&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(a,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=o},function(e,t,n){"use strict";function a(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function r(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(58),s={};s.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&a(n,e,t._owner)}},s.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,a=null===t||t===!1;return n||a||t.ref!==e.ref||"string"==typeof t.ref&&t._owner!==e._owner},s.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},e.exports=s},function(e,t,n){"use strict";var a=n(7),r=(n(8),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r.isValidOwner(n)?void 0:a("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r.isValidOwner(n)?void 0:a("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=r},function(e,t,n){"use strict";var a=null;e.exports={debugTool:a}},function(e,t,n){"use strict";var a=n(7),r=(n(8),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,r,o,s,i,l){this.isInTransaction()?a("27"):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,r,o,s,i,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var a=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=a.initialize?a.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:a("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r,s=t[n],i=this.wrapperInitData[n];try{r=!0,i!==o.OBSERVED_ERROR&&s.close&&s.close.call(this,i),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}}),o={Mixin:r,OBSERVED_ERROR:{}};e.exports=o},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function a(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var s=document.createElement("div");s.setAttribute(n,"return;"),a="function"==typeof s[n]}return!a&&r&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}var r,o=n(46);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=a},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!a[e.type]:"textarea"===t}var a={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var a=n(25),r=[a({ResponderEventPlugin:null}),a({SimpleEventPlugin:null}),a({TapEventPlugin:null}),a({EnterLeaveEventPlugin:null}),a({ChangeEventPlugin:null}),a({SelectEventPlugin:null}),a({BeforeInputEventPlugin:null})];e.exports=r},function(e,t,n){"use strict";var a=n(38),r=n(39),o=n(33),s=n(66),i=n(25),l=a.topLevelTypes,u={mouseEnter:{registrationName:i({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:i({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},c={eventTypes:u,extractEvents:function(e,t,n,a){if(e===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var i;if(a.window===a)i=a;else{var c=a.ownerDocument;i=c?c.defaultView||c.parentWindow:window}var p,d;if(e===l.topMouseOut){p=t;var h=n.relatedTarget||n.toElement;d=h?o.getClosestInstanceFromNode(h):null}else p=null,d=t;if(p===d)return null;var f=null==p?i:o.getNodeFromInstance(p),m=null==d?i:o.getNodeFromInstance(d),y=s.getPooled(u.mouseLeave,p,n,a);y.type="mouseleave",y.target=f,y.relatedTarget=m;var g=s.getPooled(u.mouseEnter,d,n,a);return g.type="mouseenter",g.target=m,g.relatedTarget=f,r.accumulateEnterLeaveDispatches(y,g,p,d),[y,g]}};e.exports=c},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(67),o=n(68),s=n(69),i={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};r.augmentClass(a,i),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(50),o=n(61),s={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(a,s),e.exports=a},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var a=r[e];return!!a&&!!n[a]}function a(e){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=a},function(e,t,n){"use strict";var a=n(34),r=a.injection.MUST_USE_PROPERTY,o=a.injection.HAS_BOOLEAN_VALUE,s=a.injection.HAS_NUMERIC_VALUE,i=a.injection.HAS_POSITIVE_NUMERIC_VALUE,l=a.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+a.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:r|o,cite:0,classID:0,className:0,cols:i,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:r|o,muted:r|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:i,rowSpan:s,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:r|o,shape:0,size:i,sizes:0,span:i,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:s,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=u},function(e,t,n){"use strict";var a=n(72),r=n(84),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:a.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";function a(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function r(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?i(e,t[0],t[1],n):y(e,t,n)}function s(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function i(e,t,n,a){for(var r=t;;){var o=r.nextSibling;if(y(e,r,a),r===n)break;r=o}}function l(e,t,n){for(;;){var a=t.nextSibling;if(a===n)break;e.removeChild(a)}}function u(e,t,n){var a=e.parentNode,r=e.nextSibling;r===t?n&&y(a,document.createTextNode(n),r):n?(m(r,n),l(a,r,t)):l(a,e,t)}var c=n(73),p=n(79),d=n(83),h=(n(33),n(59),n(76)),f=n(75),m=n(77),y=h(function(e,t,n){e.insertBefore(t,n)}),g=p.dangerouslyReplaceNodeWithMarkup,v={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var i=t[n];switch(i.type){case d.INSERT_MARKUP:r(e,i.content,a(e,i.afterNode));break;case d.MOVE_EXISTING:o(e,i.fromNode,a(e,i.afterNode));break;case d.SET_MARKUP:f(e,i.content);break;case d.TEXT_CONTENT:m(e,i.content);break;case d.REMOVE_NODE:s(e,i.fromNode)}}}};e.exports=v},function(e,t,n){"use strict";function a(e){if(y){var t=e.node,n=e.children;if(n.length)for(var a=0;a<n.length;a++)g(t,n[a],null);else null!=e.html?p(t,e.html):null!=e.text&&h(t,e.text)}}function r(e,t){e.parentNode.replaceChild(t.node,e),a(t)}function o(e,t){y?e.children.push(t):e.node.appendChild(t.node)}function s(e,t){y?e.html=t:p(e.node,t)}function i(e,t){y?e.text=t:h(e.node,t)}function l(){return this.node.nodeName}function u(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=n(74),p=n(75),d=n(76),h=n(77),f=1,m=11,y="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),g=d(function(e,t,n){t.node.nodeType===m||t.node.nodeType===f&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(a(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),a(t))});u.insertTreeBefore=g,u.replaceChildWithTree=r,u.queueChild=o,u.queueHTML=s,u.queueText=i,e.exports=u},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";var a,r=n(46),o=n(74),s=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n(76),u=l(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{a=a||document.createElement("div"),a.innerHTML="<svg>"+t+"</svg>";for(var n=a.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(r.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),s.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=u},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,a,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,r)})}:e};e.exports=n},function(e,t,n){"use strict";var a=n(46),r=n(78),o=n(75),s=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};a.canUseDOM&&("textContent"in document.documentElement||(s=function(e,t){o(e,r(t))})),e.exports=s},function(e,t){"use strict";function n(e){var t=""+e,n=r.exec(t);if(!n)return t;var a,o="",s=0,i=0;for(s=n.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#x27;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}i!==s&&(o+=t.substring(i,s)),i=s+1,o+=a}return i!==s?o+t.substring(i,s):o}function a(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var r=/["'&<>]/;e.exports=a},function(e,t,n){"use strict";var a=n(7),r=n(73),o=n(46),s=n(80),i=n(12),l=(n(8),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM?void 0:a("56"),t?void 0:a("57"),"HTML"===e.nodeName?a("58"):void 0,"string"==typeof t){var n=s(t,i)[0];e.parentNode.replaceChild(n,e)}else r.replaceChildWithTree(e,t)}});e.exports=l},function(e,t,n){"use strict";function a(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var n=u;u?void 0:l(!1);var r=a(e),o=r&&i(r);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:l(!1),s(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var o=n(46),s=n(81),i=n(82),l=n(8),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=r},function(e,t,n){"use strict";function a(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?s(!1):void 0,"number"!=typeof t?s(!1):void 0,0===t||t-1 in e?void 0:s(!1),"function"==typeof e.callee?s(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),a=0;a<t;a++)n[a]=e[a];return n}function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():a(e):[e]}var s=n(8);e.exports=o},function(e,t,n){"use strict";function a(e){return s?void 0:o(!1),d.hasOwnProperty(e)||(e="*"),i.hasOwnProperty(e)||("*"===e?s.innerHTML="<link />":s.innerHTML="<"+e+"></"+e+">",i[e]=!s.firstChild),i[e]?d[e]:null}var r=n(46),o=n(8),s=r.canUseDOM?document.createElement("div"):null,i={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(e){d[e]=p,i[e]=!0}),e.exports=a},function(e,t,n){"use strict";var a=n(23),r=a({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=r},function(e,t,n){"use strict";var a=n(72),r=n(33),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=r.getNodeFromInstance(e);a.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function a(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function r(e,t){t&&($[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?m("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&B in t.dangerouslySetInnerHTML?void 0:m("61")),null!=t.style&&"object"!=typeof t.style?m("62",a(e)):void 0)}function o(e,t,n,a){if(!(a instanceof I)){var r=e._hostContainerInfo,o=r._node&&r._node.nodeType===V,i=o?r._node:r._ownerDocument;G(t,i),a.getReactMountReady().enqueue(s,{inst:e,registrationName:t,listener:n})}}function s(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function i(){var e=this;S.postMountWrapper(e)}function l(){var e=this;A.postMountWrapper(e)}function u(){var e=this;P.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:m("63");var t=F(e);switch(t?void 0:m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[E.trapBubbledEvent(j.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in z)z.hasOwnProperty(n)&&e._wrapperState.listeners.push(E.trapBubbledEvent(j.topLevelTypes[n],z[n],t));break;case"source":e._wrapperState.listeners=[E.trapBubbledEvent(j.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[E.trapBubbledEvent(j.topLevelTypes.topError,"error",t),E.trapBubbledEvent(j.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[E.trapBubbledEvent(j.topLevelTypes.topReset,"reset",t),E.trapBubbledEvent(j.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[E.trapBubbledEvent(j.topLevelTypes.topInvalid,"invalid",t)]}}function p(){O.postUpdateWrapper(this)}function d(e){ee.call(J,e)||(X.test(e)?void 0:m("65",e),J[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function f(e){var t=e.type;d(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=n(7),y=n(4),g=n(86),v=n(88),b=n(73),w=n(74),_=n(34),k=n(96),j=n(38),x=n(40),T=n(41),E=n(98),C=n(101),R=n(35),M=n(33),S=n(103),P=n(105),O=n(106),A=n(107),L=(n(59),n(108)),I=n(123),N=(n(12),n(78)),D=(n(8),n(62),n(25)),q=(n(118),n(126),n(11),R),U=x.deleteListener,F=M.getNodeFromInstance,G=E.listenTo,W=T.registrationNameModules,Q={string:!0,number:!0},H=D({style:null}),B=D({__html:null}),Y={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},V=11,z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},K={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Z={listing:!0,pre:!0,textarea:!0},$=y({menuitem:!0},K),X=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},ee={}.hasOwnProperty,te=1;f.displayName="ReactDOMComponent",f.Mixin={mountComponent:function(e,t,n,a){this._rootNodeID=te++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"button":o=C.getHostProps(this,o,t);break;case"input":S.mountWrapper(this,o,t),o=S.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":P.mountWrapper(this,o,t),o=P.getHostProps(this,o);break;case"select":O.mountWrapper(this,o,t),o=O.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":A.mountWrapper(this,o,t),o=A.getHostProps(this,o),e.getReactMountReady().enqueue(c,this)}r(this,o);var s,p;null!=t?(s=t._namespaceURI,p=t._tag):n._tag&&(s=n._namespaceURI,p=n._tag),(null==s||s===w.svg&&"foreignobject"===p)&&(s=w.html),s===w.html&&("svg"===this._tag?s=w.svg:"math"===this._tag&&(s=w.mathml)),this._namespaceURI=s;var d;if(e.useCreateElement){var h,f=n._ownerDocument;if(s===w.html)if("script"===this._tag){var m=f.createElement("div"),y=this._currentElement.type;m.innerHTML="<"+y+"></"+y+">",h=m.removeChild(m.firstChild)}else h=o.is?f.createElement(this._currentElement.type,o.is):f.createElement(this._currentElement.type);else h=f.createElementNS(s,this._currentElement.type);M.precacheNode(this,h),this._flags|=q.hasCachedChildNodes,this._hostParent||k.setAttributeForRoot(h),this._updateDOMProperties(null,o,e);var v=b(h);this._createInitialChildren(e,o,a,v),d=v}else{var _=this._createOpenTagMarkupAndPutListeners(e,o),j=this._createContentMarkup(e,o,a);d=!j&&K[this._tag]?_+"/>":_+">"+j+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(i,this),o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"select":o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"button":o.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return d},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];if(null!=r)if(W.hasOwnProperty(a))r&&o(this,a,r,e);else{a===H&&(r&&(r=this._previousStyleCopy=y({},t.style)),r=v.createMarkupForStyles(r,this));var s=null;null!=this._tag&&h(this._tag,t)?Y.hasOwnProperty(a)||(s=k.createMarkupForCustomAttribute(a,r)):s=k.createMarkupForProperty(a,r),s&&(n+=" "+s)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+k.createMarkupForRoot()),n+=" "+k.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var a="",r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(a=r.__html);else{var o=Q[typeof t.children]?t.children:null,s=null!=o?null:t.children;if(null!=o)a=N(o);else if(null!=s){var i=this.mountChildren(s,e,n);a=i.join("")}}return Z[this._tag]&&"\n"===a.charAt(0)?"\n"+a:a},_createInitialChildren:function(e,t,n,a){var r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&b.queueHTML(a,r.__html);else{var o=Q[typeof t.children]?t.children:null,s=null!=o?null:t.children;if(null!=o)b.queueText(a,o);else if(null!=s)for(var i=this.mountChildren(s,e,n),l=0;l<i.length;l++)b.queueChild(a,i[l])}},receiveComponent:function(e,t,n){var a=this._currentElement;this._currentElement=e,this.updateComponent(t,a,e,n)},updateComponent:function(e,t,n,a){var o=t.props,s=this._currentElement.props;switch(this._tag){case"button":o=C.getHostProps(this,o),s=C.getHostProps(this,s);break;case"input":o=S.getHostProps(this,o),s=S.getHostProps(this,s);break;case"option":o=P.getHostProps(this,o),s=P.getHostProps(this,s);break;case"select":o=O.getHostProps(this,o),s=O.getHostProps(this,s);break;case"textarea":o=A.getHostProps(this,o),s=A.getHostProps(this,s)}switch(r(this,s),this._updateDOMProperties(o,s,e),this._updateDOMChildren(o,s,e,a),this._tag){case"input":S.updateWrapper(this);break;case"textarea":A.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(p,this)}},_updateDOMProperties:function(e,t,n){var a,r,s;for(a in e)if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&null!=e[a])if(a===H){var i=this._previousStyleCopy;for(r in i)i.hasOwnProperty(r)&&(s=s||{},s[r]="");this._previousStyleCopy=null}else W.hasOwnProperty(a)?e[a]&&U(this,a):h(this._tag,e)?Y.hasOwnProperty(a)||k.deleteValueForAttribute(F(this),a):(_.properties[a]||_.isCustomAttribute(a))&&k.deleteValueForProperty(F(this),a);for(a in t){var l=t[a],u=a===H?this._previousStyleCopy:null!=e?e[a]:void 0;if(t.hasOwnProperty(a)&&l!==u&&(null!=l||null!=u))if(a===H)if(l?l=this._previousStyleCopy=y({},l):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(s=s||{},s[r]="");for(r in l)l.hasOwnProperty(r)&&u[r]!==l[r]&&(s=s||{},s[r]=l[r])}else s=l;else if(W.hasOwnProperty(a))l?o(this,a,l,n):u&&U(this,a);else if(h(this._tag,t))Y.hasOwnProperty(a)||k.setValueForAttribute(F(this),a,l);else if(_.properties[a]||_.isCustomAttribute(a)){var c=F(this);null!=l?k.setValueForProperty(c,a,l):k.deleteValueForProperty(c,a)}}s&&v.setValueForStyles(F(this),s,this)},_updateDOMChildren:function(e,t,n,a){var r=Q[typeof e.children]?e.children:null,o=Q[typeof t.children]?t.children:null,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,i=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,u=null!=o?null:t.children,c=null!=r||null!=s,p=null!=o||null!=i;null!=l&&null==u?this.updateChildren(null,n,a):c&&!p&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=i?s!==i&&this.updateMarkup(""+i):null!=u&&this.updateChildren(u,n,a)},getHostNode:function(){return F(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),M.uncacheNode(this),x.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return F(this)}},y(f.prototype,f.Mixin,L.Mixin),e.exports=f},function(e,t,n){"use strict";var a=n(33),r=n(87),o={focusDOMComponent:function(){r(a.getNodeFromInstance(this))}};e.exports=o},function(e,t){"use strict";function n(e){try{e.focus()}catch(e){}}e.exports=n},function(e,t,n){"use strict";var a=n(89),r=n(46),o=(n(59),n(90),n(92)),s=n(93),i=n(95),l=(n(11),i(function(e){return s(e)})),u=!1,c="cssFloat";if(r.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){u=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var a in e)if(e.hasOwnProperty(a)){var r=e[a];null!=r&&(n+=l(a)+":",n+=o(a,r,t)+";")}return n||null},setValueForStyles:function(e,t,n){var r=e.style;for(var s in t)if(t.hasOwnProperty(s)){var i=o(s,t[s],n);if("float"!==s&&"cssFloat"!==s||(s=c),i)r[s]=i;else{var l=u&&a.shorthandPropertyExpansions[s];if(l)for(var p in l)r[p]="";else r[s]=""}}}};e.exports=d},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var a={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(a).forEach(function(e){r.forEach(function(t){a[n(t,e)]=a[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:a,shorthandPropertyExpansions:o};e.exports=s},function(e,t,n){"use strict";function a(e){return r(e.replace(o,"ms-"))}var r=n(91),o=/^-ms-/;e.exports=a},function(e,t){"use strict";function n(e){return e.replace(a,function(e,t){return t.toUpperCase()})}var a=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function a(e,t,n){var a=null==t||"boolean"==typeof t||""===t;if(a)return"";var r=isNaN(t);if(r||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var r=n(89),o=(n(11),r.isUnitlessNumber);e.exports=a},function(e,t,n){"use strict";function a(e){return r(e).replace(o,"-ms-")}var r=n(94),o=/^ms-/;e.exports=a},function(e,t){"use strict";function n(e){return e.replace(a,"-$1").toLowerCase()}var a=/([A-Z])/g;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){"use strict";function a(e){return!!u.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(i.test(e)?(u[e]=!0,!0):(l[e]=!0,!1))}function r(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var o=n(34),s=(n(33),n(59),n(97)),i=(n(11),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),l={},u={},c={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(r(n,t))return"";var a=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?a+'=""':a+"="+s(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return a(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var a=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(a){var s=a.mutationMethod;if(s)s(e,n);else{if(r(a,n))return void this.deleteValueForProperty(e,t);if(a.mustUseProperty)e[a.propertyName]=n;else{var i=a.attributeName,l=a.attributeNamespace;l?e.setAttributeNS(l,i,""+n):a.hasBooleanValue||a.hasOverloadedBooleanValue&&n===!0?e.setAttribute(i,""):e.setAttribute(i,""+n)}}}else if(o.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(a(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var a=n.mutationMethod;if(a)a(e,void 0);else if(n.mustUseProperty){var r=n.propertyName;n.hasBooleanValue?e[r]=!1:e[r]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,n){"use strict";function a(e){return'"'+r(e)+'"'}var r=n(78);e.exports=a},function(e,t,n){"use strict";function a(e){return Object.prototype.hasOwnProperty.call(e,y)||(e[y]=f++,d[e[y]]={}),d[e[y]]}var r,o=n(4),s=n(38),i=n(41),l=n(99),u=n(68),c=n(100),p=n(62),d={},h=!1,f=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),g=o({},l,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,r=a(n),o=i.registrationNameDependencies[e],l=s.topLevelTypes,u=0;u<o.length;u++){var c=o[u];r.hasOwnProperty(c)&&r[c]||(c===l.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),r[l.topBlur]=!0,r[l.topFocus]=!0):m.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,m[c],n),r[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=g.supportsEventPageXY()),!r&&!h){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}}});e.exports=g},function(e,t,n){"use strict";function a(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=n(40),o={handleTopLevel:function(e,t,n,o){var s=r.extractEvents(e,t,n,o);a(s)}};e.exports=o},function(e,t,n){"use strict";function a(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function r(e){if(i[e])return i[e];if(!s[e])return e;var t=s[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return i[e]=t[n];return""}var o=n(46),s={
animationend:a("Animation","AnimationEnd"),animationiteration:a("Animation","AnimationIteration"),animationstart:a("Animation","AnimationStart"),transitionend:a("Transition","TransitionEnd")},i={},l={};o.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete s.animationend.animation,delete s.animationiteration.animation,delete s.animationstart.animation),"TransitionEvent"in window||delete s.transitionend.transition),e.exports=r},function(e,t,n){"use strict";var a=n(102),r={getHostProps:a.getHostProps};e.exports=r},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},a={getHostProps:function(e,t){if(!t.disabled)return t;var a={};for(var r in t)!n[r]&&t.hasOwnProperty(r)&&(a[r]=t[r]);return a}};e.exports=a},function(e,t,n){"use strict";function a(){this._rootNodeID&&d.updateWrapper(this)}function r(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);p.asap(a,this);var r=t.name;if("radio"===t.type&&null!=r){for(var s=c.getNodeFromInstance(this),i=s;i.parentNode;)i=i.parentNode;for(var l=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),d=0;d<l.length;d++){var h=l[d];if(h!==s&&h.form===s.form){var f=c.getInstanceFromNode(h);f?void 0:o("90"),p.asap(a,f)}}}return n}var o=n(7),s=n(4),i=n(102),l=n(96),u=n(104),c=n(33),p=n(53),d=(n(8),n(11),{getHostProps:function(e,t){var n=u.getValue(t),a=u.getChecked(t),r=s({type:void 0,step:void 0,min:void 0,max:void 0},i.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=a?a:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&l.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var a=c.getNodeFromInstance(e),r=u.getValue(t);if(null!=r){var o=""+r;o!==a.value&&(a.value=o)}else null==t.value&&null!=t.defaultValue&&(a.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(a.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var a=n.name;""!==a&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==a&&(n.name=a)}});e.exports=d},function(e,t,n){"use strict";function a(e){null!=e.checkedLink&&null!=e.valueLink?i("87"):void 0}function r(e){a(e),null!=e.value||null!=e.onChange?i("88"):void 0}function o(e){a(e),null!=e.checked||null!=e.onChange?i("89"):void 0}function s(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var i=n(7),l=n(27),u=n(22),c=n(28),p=(n(8),n(11),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t,n){return!e[t]||p[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func},h={},f={checkPropTypes:function(e,t,n){for(var a in d){if(d.hasOwnProperty(a))var r=d[a](t,a,e,u.prop,null,c);if(r instanceof Error&&!(r.message in h)){h[r.message]=!0;s(n)}}},getValue:function(e){return e.valueLink?(r(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(r(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,t,n){"use strict";function a(e){var t="";return o.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:l||(l=!0))}),t}var r=n(4),o=n(5),s=n(33),i=n(106),l=(n(11),!1),u={mountWrapper:function(e,t,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(r=i.getSelectValueContext(o))}var s=null;if(null!=r){var l;if(l=null!=t.value?t.value+"":a(t.children),s=!1,Array.isArray(r)){for(var u=0;u<r.length;u++)if(""+r[u]===l){s=!0;break}}else s=""+r===l}e._wrapperState={selected:s}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=s.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=a(t.children);return o&&(n.children=o),n}};e.exports=u},function(e,t,n){"use strict";function a(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&r(this,Boolean(e.multiple),t)}}function r(e,t,n){var a,r,o=u.getNodeFromInstance(e).options;if(t){for(a={},r=0;r<n.length;r++)a[""+n[r]]=!0;for(r=0;r<o.length;r++){var s=a.hasOwnProperty(o[r].value);o[r].selected!==s&&(o[r].selected=s)}}else{for(a=""+n,r=0;r<o.length;r++)if(o[r].value===a)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(a,this),n}var s=n(4),i=n(102),l=n(104),u=n(33),c=n(53),p=(n(11),!1),d={getHostProps:function(e,t){return s({},i.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var a=l.getValue(t);null!=a?(e._wrapperState.pendingUpdate=!1,r(e,Boolean(t.multiple),a)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?r(e,Boolean(t.multiple),t.defaultValue):r(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=d},function(e,t,n){"use strict";function a(){this._rootNodeID&&p.updateWrapper(this)}function r(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);return c.asap(a,this),n}var o=n(7),s=n(4),i=n(102),l=n(104),u=n(33),c=n(53),p=(n(8),n(11),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?o("91"):void 0;var n=s({},i.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=l.getValue(t),a=n;if(null==n){var s=t.defaultValue,i=t.children;null!=i&&(null!=s?o("92"):void 0,Array.isArray(i)&&(i.length<=1?void 0:o("93"),i=i[0]),s=""+i),null==s&&(s=""),a=s}e._wrapperState={initialValue:""+a,listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),a=l.getValue(t);if(null!=a){var r=""+a;r!==n.value&&(n.value=r),null==t.defaultValue&&(n.defaultValue=r)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e);t.value=t.textContent}});e.exports=p},function(e,t,n){"use strict";function a(e,t,n){return{type:d.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function r(e,t,n){return{type:d.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:h.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:d.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function s(e){return{type:d.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function i(e){return{type:d.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){p.processChildrenUpdates(e,t)}var c=n(7),p=n(109),d=(n(110),n(59),n(83)),h=(n(10),n(56)),f=n(111),m=(n(12),n(122)),y=(n(8),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,a,r,o){var s,i=0;return s=m(t,i),f.updateChildren(e,s,n,a,r,this,this._hostContainerInfo,o,i),s},mountChildren:function(e,t,n){var a=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=a;var r=[],o=0;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s],l=0,u=h.mountComponent(i,t,this,this._hostContainerInfo,n,l);i._mountIndex=o++,r.push(u)}return r},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var a=[i(e)];u(this,a)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var a=[s(e)];u(this,a)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var a=this._renderedChildren,r={},o=[],s=this._reconcilerUpdateChildren(a,e,o,r,t,n);if(s||a){var i,c=null,p=0,d=0,f=0,m=null;for(i in s)if(s.hasOwnProperty(i)){var y=a&&a[i],g=s[i];y===g?(c=l(c,this.moveChild(y,m,p,d)),d=Math.max(y._mountIndex,d),y._mountIndex=p):(y&&(d=Math.max(y._mountIndex,d)),c=l(c,this._mountChildAtIndex(g,o[f],m,p,t,n)),f++),p++,m=h.getHostNode(g)}for(i in r)r.hasOwnProperty(i)&&(c=l(c,this._unmountChild(a[i],r[i])));c&&u(this,c),this._renderedChildren=s}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,a){if(e._mountIndex<a)return r(e,t,n)},createChild:function(e,t,n){return a(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,a,r,o){return e._mountIndex=a,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=y},function(e,t,n){"use strict";var a=n(7),r=(n(8),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r?a("104"):void 0,o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};e.exports=o},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){(function(t){"use strict";function a(e,t,n,a){var r=void 0===e[n];null!=t&&r&&(e[n]=o(t,!0))}var r=n(56),o=n(113),s=(n(16),n(119)),i=n(14),l=(n(11),{instantiateChildren:function(e,t,n,r){if(null==e)return null;var o={};return i(e,a,o),o},updateChildren:function(e,t,n,a,i,l,u,c,p){if(t||e){var d,h;for(d in t)if(t.hasOwnProperty(d)){h=e&&e[d];var f=h&&h._currentElement,m=t[d];if(null!=h&&s(f,m))r.receiveComponent(h,m,i,c),t[d]=h;else{h&&(a[d]=r.getHostNode(h),r.unmountComponent(h,!1));var y=o(m,!0);t[d]=y;var g=r.mountComponent(y,i,l,u,c,p);n.push(g)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(h=e[d],a[d]=r.getHostNode(h),r.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];r.unmountComponent(a,t)}}});e.exports=l}).call(t,n(112))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){m&&h&&(m=!1,h.length?f=h.concat(f):y=-1,f.length&&i())}function i(){if(!m){var e=r(s);m=!0;for(var t=f.length;t;){for(h=f,f=[];++y<t;)h&&h[y].run();y=-1,t=f.length}h=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,p,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(e){p=a}}();var h,f=[],m=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||r(i)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||e===!1)n=u.create(o);else if("object"==typeof e){var i=e;!i||"function"!=typeof i.type&&"string"!=typeof i.type?s("130",null==i.type?i.type:typeof i.type,a(i._owner)):void 0,"string"==typeof i.type?n=c.createInternalComponent(i):r(i.type)?(n=new i.type(i),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(i)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):s("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var s=n(7),i=n(4),l=n(114),u=n(120),c=n(121),p=(n(8),n(11),function(e){this.construct(e)});i(p.prototype,l.Mixin,{_instantiateReactComponent:o});e.exports=o},function(e,t,n){"use strict";function a(e){}function r(e,t){}function o(e){return!(!e.prototype||!e.prototype.isReactComponent)}function s(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var i=n(7),l=n(4),u=n(109),c=n(10),p=n(9),d=n(43),h=n(110),f=(n(59),n(115)),m=(n(22),n(56)),y=n(116),g=n(19),v=(n(8),n(118)),b=n(119),w=(n(11),{ImpureClass:0,PureClass:1,StatelessFunctional:2});a.prototype.render=function(){var e=h.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return r(e,t),t};var _=1,k={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,l){this._context=l,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var u,c=this._currentElement.props,d=this._processContext(l),f=this._currentElement.type,m=e.getUpdateQueue(),y=o(f),v=this._constructComponent(y,c,d,m);y||null!=v&&null!=v.render?s(f)?this._compositeType=w.PureClass:this._compositeType=w.ImpureClass:(u=v,r(f,u),null===v||v===!1||p.isValidElement(v)?void 0:i("105",f.displayName||f.name||"Component"),v=new a(f),this._compositeType=w.StatelessFunctional);v.props=c,v.context=d,v.refs=g,v.updater=m,this._instance=v,h.set(v,this);var b=v.state;void 0===b&&(v.state=b=null),"object"!=typeof b||Array.isArray(b)?i("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var k;return k=v.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,l):this.performInitialMount(u,t,n,e,l),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),k},_constructComponent:function(e,t,n,a){return this._constructComponentWithoutOwner(e,t,n,a)},_constructComponentWithoutOwner:function(e,t,n,a){var r=this._currentElement.type;return e?new r(t,n,a):r(t,n,a)},performInitialMountWithErrorHandling:function(e,t,n,a,r){var o,s=a.checkpoint();try{o=this.performInitialMount(e,t,n,a,r)}catch(i){a.rollback(s),this._instance.unstable_handleError(i),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=a.checkpoint(),this._renderedComponent.unmountComponent(!0),a.rollback(s),o=this.performInitialMount(e,t,n,a,r)}return o},performInitialMount:function(e,t,n,a,r){var o=this._instance,s=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var i=f.getType(e);this._renderedNodeType=i;var l=this._instantiateReactComponent(e,i!==f.EMPTY);this._renderedComponent=l;var u=m.mountComponent(l,a,t,n,this._processChildContext(r),s);return u},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var a={};for(var r in n)a[r]=e[r];return a},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,a=this._instance;if(a.getChildContext&&(t=a.getChildContext()),t){"object"!=typeof n.childContextTypes?i("107",this.getName()||"ReactCompositeComponent"):void 0;for(var r in t)r in n.childContextTypes?void 0:i("108",this.getName()||"ReactCompositeComponent",r);return l({},e,t)}return e},_checkContextTypes:function(e,t,n){y(e,t,n,this.getName(),null,this._debugID)},receiveComponent:function(e,t,n){var a=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,a,e,r,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,a,r){var o=this._instance;null==o?i("136",this.getName()||"ReactCompositeComponent"):void 0;var s,l=!1;this._context===r?s=o.context:(s=this._processContext(r),l=!0);var u=t.props,c=n.props;t!==n&&(l=!0),l&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,s);var p=this._processPendingState(c,s),d=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?d=o.shouldComponentUpdate(c,p,s):this._compositeType===w.PureClass&&(d=!v(u,c)||!v(o.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,s,e,r)):(this._currentElement=n,this._context=r,o.props=c,o.state=p,o.context=s)},_processPendingState:function(e,t){var n=this._instance,a=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!a)return n.state;if(r&&1===a.length)return a[0];for(var o=l({},r?a[0]:n.state),s=r?1:0;s<a.length;s++){var i=a[s];l(o,"function"==typeof i?i.call(n,o,e,t):i)}return o},_performComponentUpdate:function(e,t,n,a,r,o){var s,i,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(s=u.props,i=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,a),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=a,this._updateRenderedComponent(r,o),c&&r.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,s,i,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,a=n._currentElement,r=this._renderValidatedComponent(),o=0;if(b(a,r))m.receiveComponent(n,r,e,this._processChildContext(t));else{var s=m.getHostNode(n);m.unmountComponent(n,!1);var i=f.getType(r);this._renderedNodeType=i;var l=this._instantiateReactComponent(r,i!==f.EMPTY);this._renderedComponent=l;var u=m.mountComponent(l,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);this._replaceNodeWithMarkup(s,u,n)}},_replaceNodeWithMarkup:function(e,t,n){u.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==w.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||p.isValidElement(e)?void 0:i("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?i("110"):void 0;var a=t.getPublicInstance(),r=n.refs===g?n.refs={}:n.refs;r[e]=a},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===w.StatelessFunctional?null:e},_instantiateReactComponent:null},j={Mixin:k};e.exports=j},function(e,t,n){"use strict";var a=n(7),r=n(9),o=(n(8),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?o.EMPTY:r.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void a("26",e)}});e.exports=o},function(e,t,n){(function(t){"use strict";function a(e,t,n,a,l,u){for(var c in e)if(e.hasOwnProperty(c)){var p;try{"function"!=typeof e[c]?r("84",a||"React class",o[n],c):void 0,p=e[c](t,c,a,n,null,s)}catch(e){p=e}if(p instanceof Error&&!(p.message in i)){i[p.message]=!0}}}var r=n(7),o=n(24),s=n(28),i=(n(8),n(11),{});e.exports=a}).call(t,n(112))},function(e,t,n){"use strict";function a(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,a=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var r=t.call(e);return a.test(r)}catch(e){return!1}}function r(e){return"."+e}function o(e){return parseInt(e.substr(1),10)}function s(e){if(j)return g.get(e);var t=r(e);return b[t]}function i(e){if(j)g.delete(e);else{var t=r(e);delete b[t]}}function l(e,t,n){var a={element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};if(j)g.set(e,a);else{var o=r(e);b[o]=a}}function u(e){if(j)v.add(e);else{var t=r(e);w[t]=!0}}function c(e){if(j)v.delete(e);else{var t=r(e);delete w[t]}}function p(){return j?Array.from(g.keys()):Object.keys(b).map(o)}function d(){return j?Array.from(v.keys()):Object.keys(w).map(o)}function h(e){var t=s(e);if(t){var n=t.childIDs;i(e),n.forEach(h)}}function f(e,t,n){return"\n    in "+e+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function m(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function y(e){var t,n=T.getDisplayName(e),a=T.getElement(e),r=T.getOwnerID(e);return r&&(t=T.getDisplayName(r)),f(n,a&&a._source,t)}var g,v,b,w,_=n(7),k=n(10),j=(n(8),n(11),"function"==typeof Array.from&&"function"==typeof Map&&a(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&a(Map.prototype.keys)&&"function"==typeof Set&&a(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&a(Set.prototype.keys));j?(g=new Map,v=new Set):(b={},w={});var x=[],T={onSetChildren:function(e,t){var n=s(e);n.childIDs=t;for(var a=0;a<t.length;a++){var r=t[a],o=s(r);o?void 0:_("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element?_("141"):void 0,o.isMounted?void 0:_("71"),null==o.parentID&&(o.parentID=e),o.parentID!==e?_("142",r,o.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){l(e,t,n)},onBeforeUpdateComponent:function(e,t){var n=s(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=s(e);t.isMounted=!0;var n=0===t.parentID;n&&u(e)},onUpdateComponent:function(e){var t=s(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=s(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&c(e)}x.push(e)},purgeUnmountedComponents:function(){if(!T._preventPurging){for(var e=0;e<x.length;e++){var t=x[e];h(t)}x.length=0}},isMounted:function(e){var t=s(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=e.type,a="function"==typeof n?n.displayName||n.name:n,r=e._owner;t+=f(a||"Unknown",e._source,r&&r.getName())}var o=k.current,s=o&&o._debugID;return t+=T.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=y(e),e=T.getParentID(e);return t},getChildIDs:function(e){var t=s(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=T.getElement(e);return t?m(t):null},getElement:function(e){var t=s(e);return t?t.element:null},getOwnerID:function(e){var t=T.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=s(e);return t?t.parentID:null},getSource:function(e){var t=s(e),n=t?t.element:null,a=null!=n?n._source:null;return a},getText:function(e){var t=T.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=s(e);return t?t.updateCount:0},getRegisteredIDs:p,getRootIDs:d};e.exports=T},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function a(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=0;s<a.length;s++)if(!r.call(t,a[s])||!n(e[a[s]],t[a[s]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=a},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,a=null===t||t===!1;if(n||a)return n===a;var r=typeof e,o=typeof t;return"string"===r||"number"===r?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t){"use strict";var n,a={injectEmptyComponentFactory:function(e){n=e}},r={create:function(e){return n(e)}};r.injection=a,e.exports=r},function(e,t,n){"use strict";function a(e){return l?void 0:s("111",e.type),new l(e)}function r(e){return new c(e)}function o(e){return e instanceof c}var s=n(7),i=n(4),l=(n(8),null),u={},c=null,p={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){c=e},injectComponentClasses:function(e){i(u,e)}},d={createInternalComponent:a,createInstanceForText:r,isTextComponent:o,injection:p};e.exports=d},function(e,t,n){(function(t){"use strict";function a(e,t,n,a){if(e&&"object"==typeof e){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}}function r(e,t){if(null==e)return e;var n={};return o(e,a,n),n}var o=(n(16),n(14));n(11);e.exports=r}).call(t,n(112))},function(e,t,n){"use strict";function a(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new i(this)}var r=n(4),o=n(6),s=n(60),i=(n(59),n(124)),l=[],u={enqueue:function(){}},c={getTransactionWrappers:function(){return l},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(a.prototype,s.Mixin,c),o.addPoolingTo(a),e.exports=a},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){}var o=n(125),s=(n(60),n(11),function(){function e(t){a(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?o.enqueueForceUpdate(e):r(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?o.enqueueReplaceState(e,t):r(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?o.enqueueSetState(e,t):r(e,"setState")},e}());e.exports=s},function(e,t,n){"use strict";function a(e){l.enqueueUpdate(e)}function r(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,a=Object.keys(e);return a.length>0&&a.length<20?n+" (keys: "+a.join(", ")+")":n}function o(e,t){var n=i.get(e);if(!n){return null}return n}var s=n(7),i=(n(10),n(110)),l=(n(59),n(53)),u=(n(8),n(11),{isMounted:function(e){var t=i.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var r=o(e);return r?(r._pendingCallbacks?r._pendingCallbacks.push(t):r._pendingCallbacks=[t],void a(r)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],a(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,a(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,a(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var r=n._pendingStateQueue||(n._pendingStateQueue=[]);r.push(t),a(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,a(e)},validateCallback:function(e,t){e&&"function"!=typeof e?s("122",t,r(e)):void 0}});e.exports=u},function(e,t,n){"use strict";var a=(n(4),n(12)),r=(n(11),a);e.exports=r},function(e,t,n){"use strict";var a=n(4),r=n(73),o=n(33),s=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};a(s.prototype,{mountComponent:function(e,t,n,a){var s=n._idCounter++;this._domID=s,this._hostParent=t,this._hostContainerInfo=n;var i=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(i);return o.precacheNode(this,u),r(u)}return e.renderToStaticMarkup?"":"<!--"+i+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=s},function(e,t,n){"use strict";function a(e,t){"_hostNode"in e?void 0:l("33"),"_hostNode"in t?void 0:l("33");for(var n=0,a=e;a;a=a._hostParent)n++;for(var r=0,o=t;o;o=o._hostParent)r++;for(;n-r>0;)e=e._hostParent,n--;for(;r-n>0;)t=t._hostParent,r--;for(var s=n;s--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function r(e,t){"_hostNode"in e?void 0:l("35"),"_hostNode"in t?void 0:l("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e?void 0:l("36"),e._hostParent}function s(e,t,n){for(var a=[];e;)a.push(e),e=e._hostParent;var r;for(r=a.length;r-- >0;)t(a[r],!1,n);for(r=0;r<a.length;r++)t(a[r],!0,n)}function i(e,t,n,r,o){for(var s=e&&t?a(e,t):null,i=[];e&&e!==s;)i.push(e),
e=e._hostParent;for(var l=[];t&&t!==s;)l.push(t),t=t._hostParent;var u;for(u=0;u<i.length;u++)n(i[u],!0,r);for(u=l.length;u-- >0;)n(l[u],!1,o)}var l=n(7);n(8);e.exports={isAncestor:r,getLowestCommonAncestor:a,getParentInstance:o,traverseTwoPhase:s,traverseEnterLeave:i}},function(e,t,n){"use strict";var a=n(7),r=n(4),o=n(72),s=n(73),i=n(33),l=n(78),u=(n(8),n(126),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(u.prototype,{mountComponent:function(e,t,n,a){var r=n._idCounter++,o=" react-text: "+r+" ",u=" /react-text ";if(this._domID=r,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,p=c.createComment(o),d=c.createComment(u),h=s(c.createDocumentFragment());return s.queueChild(h,s(p)),this._stringText&&s.queueChild(h,s(c.createTextNode(this._stringText))),s.queueChild(h,s(d)),i.precacheNode(this,p),this._closingComment=d,h}var f=l(this._stringText);return e.renderToStaticMarkup?f:"<!--"+o+"-->"+f+"<!--"+u+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var a=this.getHostNode();o.replaceDelimitedText(a[0],a[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=i.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?a("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,i.uncacheNode(this)}}),e.exports=u},function(e,t,n){"use strict";function a(){this.reinitializeTransaction()}var r=n(4),o=n(53),s=n(60),i=n(12),l={initialize:i,close:function(){d.isBatchingUpdates=!1}},u={initialize:i,close:o.flushBatchedUpdates.bind(o)},c=[u,l];r(a.prototype,s.Mixin,{getTransactionWrappers:function(){return c}});var p=new a,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,a,r,o){var s=d.isBatchingUpdates;d.isBatchingUpdates=!0,s?e(t,n,a,r,o):p.perform(e,null,t,n,a,r,o)}};e.exports=d},function(e,t,n){"use strict";function a(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=h(e.nativeEvent),n=p.getClosestInstanceFromNode(t),r=n;do e.ancestors.push(r),r=r&&a(r);while(r);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,h(e.nativeEvent))}function s(e){var t=f(window);e(t)}var i=n(4),l=n(132),u=n(46),c=n(6),p=n(33),d=n(53),h=n(61),f=n(133);i(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var a=n;return a?l.listen(a,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var a=n;return a?l.capture(a,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=r.getPooled(e,t);try{d.batchedUpdates(o,n)}finally{r.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var a=n(12),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:a}},registerDefault:function(){}};e.exports=r},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t,n){"use strict";var a=n(34),r=n(40),o=n(42),s=n(109),i=n(21),l=n(120),u=n(98),c=n(121),p=n(53),d={Component:s.injection,Class:i.injection,DOMProperty:a.injection,EmptyComponent:l.injection,EventPluginHub:r.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,HostComponent:c.injection,Updates:p.injection};e.exports=d},function(e,t,n){"use strict";function a(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var r=n(4),o=n(54),s=n(6),i=n(98),l=n(136),u=(n(59),n(60)),c=n(125),p={initialize:l.getSelectionInformation,close:l.restoreSelection},d={initialize:function(){var e=i.isEnabled();return i.setEnabled(!1),e},close:function(e){i.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[p,d,h],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};r(a.prototype,u.Mixin,m),s.addPoolingTo(a),e.exports=a},function(e,t,n){"use strict";function a(e){return o(document.documentElement,e)}var r=n(137),o=n(139),s=n(87),i=n(142),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=i();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=i(),n=e.focusedElem,r=e.selectionRange;t!==n&&a(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),s(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,a=t.end;if(void 0===a&&(a=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(a,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",a-n),o.select()}else r.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";function a(e,t,n,a){return e===n&&t===a}function r(e){var t=document.selection,n=t.createRange(),a=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length,s=o+a;return{start:o,end:s}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,s=t.focusOffset,i=t.getRangeAt(0);try{i.startContainer.nodeType,i.endContainer.nodeType}catch(e){return null}var l=a(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:i.toString().length,c=i.cloneRange();c.selectNodeContents(e),c.setEnd(i.startContainer,i.startOffset);var p=a(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,h=d+u,f=document.createRange();f.setStart(n,r),f.setEnd(o,s);var m=f.collapsed;return{start:m?h:d,end:m?d:h}}function s(e,t){var n,a,r=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,a=n):t.start>t.end?(n=t.end,a=t.start):(n=t.start,a=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",a-n),r.select()}function i(e,t){if(window.getSelection){var n=window.getSelection(),a=e[c()].length,r=Math.min(t.start,a),o=void 0===t.end?r:Math.min(t.end,a);if(!n.extend&&r>o){var s=o;o=r,r=s}var i=u(e,r),l=u(e,o);if(i&&l){var p=document.createRange();p.setStart(i.node,i.offset),n.removeAllRanges(),r>o?(n.addRange(p),n.extend(l.node,l.offset)):(p.setEnd(l.node,l.offset),n.addRange(p))}}}var l=n(46),u=n(138),c=n(48),p=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?r:o,setOffsets:p?s:i};e.exports=d},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var r=n(e),o=0,s=0;r;){if(3===r.nodeType){if(s=o+r.textContent.length,o<=t&&s>=t)return{node:r,offset:t-o};o=s}r=n(a(r))}}e.exports=r},function(e,t,n){"use strict";function a(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?a(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var r=n(140);e.exports=a},function(e,t,n){"use strict";function a(e){return r(e)&&3==e.nodeType}var r=n(141);e.exports=a},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(a).forEach(function(e){r.Properties[e]=0,a[e]&&(r.DOMAttributeNames[e]=a[e])}),e.exports=r},function(e,t,n){"use strict";function a(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(e,t){if(_||null==v||v!==p())return null;var n=a(v);if(!w||!f(w,n)){w=n;var r=c.getPooled(g.select,b,e,t);return r.type="select",r.target=v,s.accumulateTwoPhaseDispatches(r),r}return null}var o=n(38),s=n(39),i=n(46),l=n(33),u=n(136),c=n(50),p=n(142),d=n(63),h=n(25),f=n(118),m=o.topLevelTypes,y=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topKeyUp,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},v=null,b=null,w=null,_=!1,k=!1,j=h({onSelect:null}),x={eventTypes:g,extractEvents:function(e,t,n,a){if(!k)return null;var o=t?l.getNodeFromInstance(t):window;switch(e){case m.topFocus:(d(o)||"true"===o.contentEditable)&&(v=o,b=t,w=null);break;case m.topBlur:v=null,b=null,w=null;break;case m.topMouseDown:_=!0;break;case m.topContextMenu:case m.topMouseUp:return _=!1,r(n,a);case m.topSelectionChange:if(y)break;case m.topKeyDown:case m.topKeyUp:return r(n,a)}return null},didPutListener:function(e,t,n){t===j&&(k=!0)}};e.exports=x},function(e,t,n){"use strict";function a(e){return"."+e._rootNodeID}var r=n(7),o=n(38),s=n(132),i=n(39),l=n(33),u=n(146),c=n(147),p=n(50),d=n(148),h=n(149),f=n(66),m=n(152),y=n(153),g=n(154),v=n(67),b=n(155),w=n(12),_=n(150),k=(n(8),n(25)),j=o.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:k({onAbort:!0}),captured:k({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:k({onAnimationEnd:!0}),captured:k({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:k({onAnimationIteration:!0}),captured:k({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:k({onAnimationStart:!0}),captured:k({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:k({onBlur:!0}),captured:k({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:k({onCanPlay:!0}),captured:k({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:k({onCanPlayThrough:!0}),captured:k({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:k({onClick:!0}),captured:k({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:k({onContextMenu:!0}),captured:k({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:k({onCopy:!0}),captured:k({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:k({onCut:!0}),captured:k({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:k({onDoubleClick:!0}),captured:k({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:k({onDrag:!0}),captured:k({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:k({onDragEnd:!0}),captured:k({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:k({onDragEnter:!0}),captured:k({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:k({onDragExit:!0}),captured:k({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:k({onDragLeave:!0}),captured:k({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:k({onDragOver:!0}),captured:k({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:k({onDragStart:!0}),captured:k({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:k({onDrop:!0}),captured:k({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:k({onDurationChange:!0}),captured:k({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:k({onEmptied:!0}),captured:k({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:k({onEncrypted:!0}),captured:k({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:k({onEnded:!0}),captured:k({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:k({onError:!0}),captured:k({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:k({onFocus:!0}),captured:k({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:k({onInput:!0}),captured:k({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:k({onInvalid:!0}),captured:k({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:k({onKeyDown:!0}),captured:k({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:k({onKeyPress:!0}),captured:k({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:k({onKeyUp:!0}),captured:k({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:k({onLoad:!0}),captured:k({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:k({onLoadedData:!0}),captured:k({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:k({onLoadedMetadata:!0}),captured:k({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:k({onLoadStart:!0}),captured:k({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:k({onMouseDown:!0}),captured:k({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:k({onMouseMove:!0}),captured:k({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:k({onMouseOut:!0}),captured:k({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:k({onMouseOver:!0}),captured:k({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:k({onMouseUp:!0}),captured:k({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:k({onPaste:!0}),captured:k({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:k({onPause:!0}),captured:k({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:k({onPlay:!0}),captured:k({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:k({onPlaying:!0}),captured:k({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:k({onProgress:!0}),captured:k({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:k({onRateChange:!0}),captured:k({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:k({onReset:!0}),captured:k({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:k({onScroll:!0}),captured:k({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:k({onSeeked:!0}),captured:k({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:k({onSeeking:!0}),captured:k({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:k({onStalled:!0}),captured:k({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:k({onSubmit:!0}),captured:k({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:k({onSuspend:!0}),captured:k({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:k({onTimeUpdate:!0}),captured:k({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:k({onTouchCancel:!0}),captured:k({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:k({onTouchEnd:!0}),captured:k({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:k({onTouchMove:!0}),captured:k({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:k({onTouchStart:!0}),captured:k({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:k({onTransitionEnd:!0}),captured:k({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:k({onVolumeChange:!0}),captured:k({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:k({onWaiting:!0}),captured:k({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:k({onWheel:!0}),captured:k({onWheelCapture:!0})}}},T={topAbort:x.abort,topAnimationEnd:x.animationEnd,topAnimationIteration:x.animationIteration,topAnimationStart:x.animationStart,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topInvalid:x.invalid,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topTransitionEnd:x.transitionEnd,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var E in T)T[E].dependencies=[E];var C=k({onClick:null}),R={},M={eventTypes:x,extractEvents:function(e,t,n,a){var o=T[e];if(!o)return null;var s;switch(e){case j.topAbort:case j.topCanPlay:case j.topCanPlayThrough:case j.topDurationChange:case j.topEmptied:case j.topEncrypted:case j.topEnded:case j.topError:case j.topInput:case j.topInvalid:case j.topLoad:case j.topLoadedData:case j.topLoadedMetadata:case j.topLoadStart:case j.topPause:case j.topPlay:case j.topPlaying:case j.topProgress:case j.topRateChange:case j.topReset:case j.topSeeked:case j.topSeeking:case j.topStalled:case j.topSubmit:case j.topSuspend:case j.topTimeUpdate:case j.topVolumeChange:case j.topWaiting:s=p;break;case j.topKeyPress:if(0===_(n))return null;case j.topKeyDown:case j.topKeyUp:s=h;break;case j.topBlur:case j.topFocus:s=d;break;case j.topClick:if(2===n.button)return null;case j.topContextMenu:case j.topDoubleClick:case j.topMouseDown:case j.topMouseMove:case j.topMouseOut:case j.topMouseOver:case j.topMouseUp:s=f;break;case j.topDrag:case j.topDragEnd:case j.topDragEnter:case j.topDragExit:case j.topDragLeave:case j.topDragOver:case j.topDragStart:case j.topDrop:s=m;break;case j.topTouchCancel:case j.topTouchEnd:case j.topTouchMove:case j.topTouchStart:s=y;break;case j.topAnimationEnd:case j.topAnimationIteration:case j.topAnimationStart:s=u;break;case j.topTransitionEnd:s=g;break;case j.topScroll:s=v;break;case j.topWheel:s=b;break;case j.topCopy:case j.topCut:case j.topPaste:s=c}s?void 0:r("86",e);var l=s.getPooled(o,t,n,a);return i.accumulateTwoPhaseDispatches(l),l},didPutListener:function(e,t,n){if(t===C){var r=a(e),o=l.getNodeFromInstance(e);R[r]||(R[r]=s.listen(o,"click",w))}},willDeleteListener:function(e,t){if(t===C){var n=a(e);R[n].remove(),delete R[n]}}};e.exports=M},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(50),o={animationName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(50),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(67),o={relatedTarget:null};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(67),o=n(150),s=n(151),i=n(69),l={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:i,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(a,l),e.exports=a},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t,n){"use strict";function a(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?s[e.keyCode]||"Unidentified":""}var r=n(150),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(66),o={dataTransfer:null};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(67),o=n(69),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(a,s),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(50),o={propertyName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a){return r.call(this,e,t,n,a)}var r=n(66),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";function a(e,t){for(var n=Math.min(e.length,t.length),a=0;a<n;a++)if(e.charAt(a)!==t.charAt(a))return a;return e.length===t.length?-1:n}function r(e){return e?e.nodeType===L?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(P)||""}function s(e,t,n,a,r){var o;if(_.logTopLevelRenders){var s=e._currentElement.props,i=s.type;o="React mount: "+("string"==typeof i?i:i.displayName||i.name),console.time(o)}var l=x.mountComponent(e,n,null,v(e,t),r,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,U._mountImageIntoNode(l,t,e,a,n)}function i(e,t,n,a){var r=E.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);r.perform(s,null,e,t,r,n,a),E.ReactReconcileTransaction.release(r)}function l(e,t,n){for(x.unmountComponent(e,n),t.nodeType===L&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=r(e);if(t){var n=g.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==A&&e.nodeType!==L&&e.nodeType!==I)}function p(e){var t=r(e),n=t&&g.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var h=n(7),f=n(73),m=n(34),y=n(98),g=(n(10),n(33)),v=n(157),b=n(158),w=n(9),_=n(55),k=n(110),j=(n(59),n(159)),x=n(56),T=n(125),E=n(53),C=n(19),R=n(113),M=(n(8),n(75)),S=n(119),P=(n(11),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,A=1,L=9,I=11,N={},D=1,q=function(){this.rootID=D++};q.prototype.isReactComponent={},q.prototype.render=function(){return this.props};var U={TopLevelWrapper:q,_instancesByReactRootID:N,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,a,r){return U.scrollMonitor(a,function(){T.enqueueElementInternal(e,t,n),r&&T.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,n,a){c(t)?void 0:h("37"),y.ensureScrollValueMonitoring();var r=R(e,!1);E.batchedUpdates(i,r,t,n,a);var o=r._instance.rootID;return N[o]=r,r},renderSubtreeIntoContainer:function(e,t,n,a){return null!=e&&k.has(e)?void 0:h("38"),U._renderSubtreeIntoContainer(e,t,n,a)},_renderSubtreeIntoContainer:function(e,t,n,a){T.validateCallback(a,"ReactDOM.render"),w.isValidElement(t)?void 0:h("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var s,i=w(q,null,null,null,null,null,t);if(e){var l=k.get(e);s=l._processChildContext(l._context)}else s=C;var c=d(n);if(c){var p=c._currentElement,f=p.props;if(S(f,t)){var m=c._renderedComponent.getPublicInstance(),y=a&&function(){a.call(m)};return U._updateRootComponent(c,i,s,n,y),
m}U.unmountComponentAtNode(n)}var g=r(n),v=g&&!!o(g),b=u(n),_=v&&!c&&!b,j=U._renderNewRootComponent(i,n,_,s)._renderedComponent.getPublicInstance();return a&&a.call(j),j},render:function(e,t,n){return U._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:h("40");var t=d(e);if(!t){u(e),1===e.nodeType&&e.hasAttribute(O);return!1}return delete N[t._instance.rootID],E.batchedUpdates(l,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,s){if(c(t)?void 0:h("41"),o){var i=r(t);if(j.canReuseMarkup(e,i))return void g.precacheNode(n,i);var l=i.getAttribute(j.CHECKSUM_ATTR_NAME);i.removeAttribute(j.CHECKSUM_ATTR_NAME);var u=i.outerHTML;i.setAttribute(j.CHECKSUM_ATTR_NAME,l);var p=e,d=a(p,u),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+u.substring(d-20,d+20);t.nodeType===L?h("42",m):void 0}if(t.nodeType===L?h("43"):void 0,s.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);f.insertTreeBefore(t,e,null)}else M(t,e),g.precacheNode(n,t.firstChild)}};e.exports=U},function(e,t,n){"use strict";function a(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===r?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var r=(n(126),9);e.exports=a},function(e,t){"use strict";var n={useCreateElement:!0};e.exports=n},function(e,t,n){"use strict";var a=n(160),r=/\/?>/,o=/^<\!\-\-/,s={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=a(e);return o.test(e)?e:e.replace(r," "+s.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(s.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=a(e);return r===n}};e.exports=s},function(e,t){"use strict";function n(e){for(var t=1,n=0,r=0,o=e.length,s=o&-4;r<s;){for(var i=Math.min(r+4096,s);r<i;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=a,n%=a}for(;r<o;r++)n+=t+=e.charCodeAt(r);return t%=a,n%=a,t|n<<16}var a=65521;e.exports=n},function(e,t,n){"use strict";function a(e){if(null==e)return null;if(1===e.nodeType)return e;var t=s.get(e);return t?(t=i(t),t?o.getNodeFromInstance(t):null):void("function"==typeof e.render?r("44"):r("45",Object.keys(e)))}var r=n(7),o=(n(10),n(33)),s=n(110),i=n(162);n(8),n(11);e.exports=a},function(e,t,n){"use strict";function a(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.HOST?e._renderedComponent:t===r.EMPTY?null:void 0}var r=n(115);e.exports=a},function(e,t,n){"use strict";var a=n(156);e.exports=a.renderSubtreeIntoContainer},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.PropTypes=t.RoutingContext=t.RouterContext=t.createRoutes=t.useRoutes=t.RouteContext=t.Lifecycle=t.History=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var r=n(165);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return r.createRoutes}});var o=n(166);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var s=n(171);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return s.formatPattern}});var i=n(173),l=a(i),u=n(203),c=a(u),p=n(204),d=a(p),h=n(205),f=a(h),m=n(207),y=a(m),g=n(209),v=a(g),b=n(208),w=a(b),_=n(210),k=a(_),j=n(211),x=a(j),T=n(212),E=a(T),C=n(213),R=a(C),M=n(214),S=a(M),P=n(200),O=a(P),A=n(215),L=a(A),I=a(o),N=n(216),D=a(N),q=n(220),U=a(q),F=n(221),G=a(F),W=n(222),Q=a(W),H=n(225),B=a(H),Y=n(217),V=a(Y);t.Router=l.default,t.Link=c.default,t.IndexLink=d.default,t.withRouter=f.default,t.IndexRedirect=y.default,t.IndexRoute=v.default,t.Redirect=w.default,t.Route=k.default,t.History=x.default,t.Lifecycle=E.default,t.RouteContext=R.default,t.useRoutes=S.default,t.RouterContext=O.default,t.RoutingContext=L.default,t.PropTypes=I.default,t.match=D.default,t.useRouterHistory=U.default,t.applyRouterMiddleware=G.default,t.browserHistory=Q.default,t.hashHistory=B.default,t.createMemoryHistory=V.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return null==e||d.default.isValidElement(e)}function o(e){return r(e)||Array.isArray(e)&&e.every(r)}function s(e,t){return c({},e,t)}function i(e){var t=e.type,n=s(t.defaultProps,e.props);if(n.children){var a=l(n.children,n);a.length&&(n.childRoutes=a),delete n.children}return n}function l(e,t){var n=[];return d.default.Children.forEach(e,function(e){if(d.default.isValidElement(e))if(e.type.createRouteFromReactElement){var a=e.type.createRouteFromReactElement(e,t);a&&n.push(a)}else n.push(i(e))}),n}function u(e){return o(e)?e=l(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.isReactChildren=o,t.createRouteFromReactElement=i,t.createRoutesFromReactChildren=l,t.createRoutes=u;var p=n(2),d=a(p)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.router=t.routes=t.route=t.components=t.component=t.location=t.history=t.falsy=t.locationShape=t.routerShape=void 0;var o=n(2),s=n(167),i=(r(s),n(170)),l=a(i),u=n(168),c=(r(u),o.PropTypes.func),p=o.PropTypes.object,d=o.PropTypes.shape,h=o.PropTypes.string,f=t.routerShape=d({push:c.isRequired,replace:c.isRequired,go:c.isRequired,goBack:c.isRequired,goForward:c.isRequired,setRouteLeaveHook:c.isRequired,isActive:c.isRequired}),m=t.locationShape=d({pathname:h.isRequired,search:h.isRequired,state:p,action:h.isRequired,key:h}),y=t.falsy=l.falsy,g=t.history=l.history,v=t.location=m,b=t.component=l.component,w=t.components=l.components,_=t.route=l.route,k=(t.routes=l.routes,t.router=f),j={falsy:y,history:g,location:v,component:b,components:w,route:_,router:k};t.default=j},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.canUseMembrane=void 0;var r=n(168),o=(a(r),t.canUseMembrane=!1,function(e){return e});t.default=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(t.indexOf("deprecated")!==-1){if(l[t])return;l[t]=!0}t="[react-router] "+t;for(var n=arguments.length,a=Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];i.default.apply(void 0,[e,t].concat(a))}function o(){l={}}t.__esModule=!0,t.default=r,t._resetWarned=o;var s=n(169),i=a(s),l={}},function(e,t,n){"use strict";var a=function(){};e.exports=a},function(e,t,n){"use strict";function a(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=a;var r=n(2),o=r.PropTypes.func,s=r.PropTypes.object,i=r.PropTypes.arrayOf,l=r.PropTypes.oneOfType,u=r.PropTypes.element,c=r.PropTypes.shape,p=r.PropTypes.string,d=(t.history=c({listen:o.isRequired,push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired}),t.component=l([o,p])),h=(t.components=l([d,s]),t.route=l([s,u]));t.routes=l([h,i(h)])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){for(var t="",n=[],a=[],o=void 0,s=0,i=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;o=i.exec(e);)o.index!==s&&(a.push(e.slice(s,o.index)),t+=r(e.slice(s,o.index))),o[1]?(t+="([^/]+)",n.push(o[1])):"**"===o[0]?(t+="(.*)",n.push("splat")):"*"===o[0]?(t+="(.*?)",n.push("splat")):"("===o[0]?t+="(?:":")"===o[0]&&(t+=")?"),a.push(o[0]),s=i.lastIndex;return s!==e.length&&(a.push(e.slice(s,e.length)),t+=r(e.slice(s,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:a}}function s(e){return h[e]||(h[e]=o(e)),h[e]}function i(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=s(e),a=n.regexpSource,r=n.paramNames,o=n.tokens;"/"!==e.charAt(e.length-1)&&(a+="/?"),"*"===o[o.length-1]&&(a+="$");var i=t.match(new RegExp("^"+a,"i"));if(null==i)return null;var l=i[0],u=t.substr(l.length);if(u){if("/"!==l.charAt(l.length-1))return null;u="/"+u}return{remainingPathname:u,paramNames:r,paramValues:i.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function l(e){return s(e).paramNames}function u(e,t){var n=i(e,t);if(!n)return null;var a=n.paramNames,r=n.paramValues,o={};return a.forEach(function(e,t){o[e]=r[t]}),o}function c(e,t){t=t||{};for(var n=s(e),a=n.tokens,r=0,o="",i=0,l=void 0,u=void 0,c=void 0,p=0,h=a.length;p<h;++p)l=a[p],"*"===l||"**"===l?(c=Array.isArray(t.splat)?t.splat[i++]:t.splat,null!=c||r>0?void 0:(0,d.default)(!1),null!=c&&(o+=encodeURI(c))):"("===l?r+=1:")"===l?r-=1:":"===l.charAt(0)?(u=l.substring(1),c=t[u],null!=c||r>0?void 0:(0,d.default)(!1),null!=c&&(o+=encodeURIComponent(c))):o+=l;return o.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=s,t.matchPattern=i,t.getParamNames=l,t.getParams=u,t.formatPattern=c;var p=n(172),d=a(p),h=Object.create(null)},function(e,t,n){"use strict";var a=function(e,t,n,a,r,o,s,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,r,o,s,i],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e){return!e||!e.__v2_compatible__}function s(e){return e&&e.getCurrentLocation}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(174),u=a(l),c=n(189),p=a(c),d=n(172),h=a(d),f=n(2),m=a(f),y=n(192),g=a(y),v=n(170),b=n(200),w=a(b),_=n(165),k=n(202),j=n(168),x=(a(j),m.default.PropTypes),T=x.func,E=x.object,C=m.default.createClass({displayName:"Router",propTypes:{history:E,children:v.routes,routes:v.routes,render:T,createElement:T,onError:T,onUpdate:T,parseQueryString:T,stringifyQuery:T,matchContext:E},getDefaultProps:function(){return{render:function(e){return m.default.createElement(w.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},componentWillMount:function(){var e=this,t=this.props,n=(t.parseQueryString,t.stringifyQuery,this.createRouterObjects()),a=n.history,r=n.transitionManager,o=n.router;this._unlisten=r.listen(function(t,n){t?e.handleError(t):e.setState(n,e.props.onUpdate)}),this.history=a,this.router=o},createRouterObjects:function(){var e=this.props.matchContext;if(e)return e;var t=this.props.history,n=this.props,a=n.routes,r=n.children;s(t)?(0,h.default)(!1):void 0,o(t)&&(t=this.wrapDeprecatedHistory(t));var i=(0,g.default)(t,(0,_.createRoutes)(a||r)),l=(0,k.createRouterObject)(t,i),u=(0,k.createRoutingHistory)(t,i);return{history:u,transitionManager:i,router:l}},wrapDeprecatedHistory:function(e){var t=this.props,n=t.parseQueryString,a=t.stringifyQuery,r=void 0;return r=e?function(){return e}:u.default,(0,p.default)(r)({parseQueryString:n,stringifyQuery:a})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,a=t.routes,o=t.params,s=t.components,l=this.props,u=l.createElement,e=l.render,c=r(l,["createElement","render"]);return null==n?null:(Object.keys(C.propTypes).forEach(function(e){return delete c[e]}),e(i({},c,{history:this.history,router:this.router,location:n,routes:a,params:o,components:s,createElement:u})))}});t.default=C,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return"string"==typeof e&&"/"===e.charAt(0)}function o(){var e=g.getHashPath();return!!r(e)||(g.replaceHashPath("/"+e),!1)}function s(e,t,n){return e+(e.indexOf("?")===-1?"?":"&")+(t+"="+n)}function i(e,t){return e.replace(new RegExp("[?&]?"+t+"=[a-zA-Z0-9]+"),"")}function l(e,t){var n=e.match(new RegExp("\\?.*?\\b"+t+"=(.+?)\\b"));return n&&n[1]}function u(){function e(){var e=g.getHashPath(),t=void 0,n=void 0;C?(t=l(e,C),e=i(e,C),t?n=v.readState(t):(n=null,t=R.createKey(),g.replaceHashPath(s(e,C,t)))):t=n=null;var a=m.parsePath(e);return R.createLocation(c({},a,{state:n}),void 0,t)}function t(t){function n(){o()&&a(e())}var a=t.transitionTo;return o(),g.addEventListener(window,"hashchange",n),function(){g.removeEventListener(window,"hashchange",n)}}function n(e){var t=e.basename,n=e.pathname,a=e.search,r=e.state,o=e.action,i=e.key;if(o!==f.POP){var l=(t||"")+n+a;C?(l=s(l,C,i),v.saveState(i,r)):e.key=e.state=null;var u=g.getHashPath();o===f.PUSH?u!==l&&(window.location.hash=l):u!==l&&g.replaceHashPath(l)}}function a(e){1===++M&&(S=t(R));var n=R.listenBefore(e);return function(){n(),0===--M&&S()}}function r(e){1===++M&&(S=t(R));var n=R.listen(e);return function(){n(),0===--M&&S()}}function u(e){R.push(e)}function p(e){R.replace(e)}function d(e){R.go(e)}function b(e){return"#"+R.createHref(e)}function k(e){1===++M&&(S=t(R)),R.registerTransitionHook(e)}function j(e){R.unregisterTransitionHook(e),0===--M&&S()}function x(e,t){R.pushState(e,t)}function T(e,t){R.replaceState(e,t)}var E=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];y.canUseDOM?void 0:h.default(!1);var C=E.queryKey;(void 0===C||C)&&(C="string"==typeof C?C:_);var R=w.default(c({},E,{getCurrentLocation:e,finishTransition:n,saveState:v.saveState})),M=0,S=void 0;g.supportsGoWithoutReloadUsingHash();return c({},R,{listenBefore:a,listen:r,push:u,replace:p,go:d,createHref:b,registerTransitionHook:k,unregisterTransitionHook:j,pushState:x,replaceState:T})}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=n(169),d=(a(p),n(172)),h=a(d),f=n(175),m=n(176),y=n(177),g=n(178),v=n(179),b=n(180),w=a(b),_="_k";t.default=u,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var n="PUSH";t.PUSH=n;var a="REPLACE";t.REPLACE=a;var r="POP";t.POP=r,t.default={PUSH:n,REPLACE:a,POP:r}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.match(/^https?:\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}function o(e){var t=r(e),n="",a="",o=t.indexOf("#");o!==-1&&(a=t.substring(o),t=t.substring(0,o));var s=t.indexOf("?");return s!==-1&&(n=t.substring(s),t=t.substring(0,s)),""===t&&(t="/"),{pathname:t,search:n,hash:a}}t.__esModule=!0,t.extractPath=r,t.parsePath=o;var s=n(169);a(s)},function(e,t){"use strict";t.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.canUseDOM=n},function(e,t){"use strict";function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function a(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function r(){return window.location.href.split("#")[1]||""}function o(e){window.location.replace(window.location.pathname+window.location.search+"#"+e)}function s(){return window.location.pathname+window.location.search+window.location.hash}function i(e){e&&window.history.go(e)}function l(e,t){t(window.confirm(e))}function u(){var e=navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}function c(){var e=navigator.userAgent;return e.indexOf("Firefox")===-1}t.__esModule=!0,t.addEventListener=n,t.removeEventListener=a,t.getHashPath=r,t.replaceHashPath=o,t.getWindowPath=s,t.go=i,t.getUserConfirmation=l,t.supportsHistory=u,t.supportsGoWithoutReloadUsingHash=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return l+e}function o(e,t){try{null==t?window.sessionStorage.removeItem(r(e)):window.sessionStorage.setItem(r(e),JSON.stringify(t))}catch(e){if(e.name===c)return;if(u.indexOf(e.name)>=0&&0===window.sessionStorage.length)return;throw e}}function s(e){var t=void 0;try{t=window.sessionStorage.getItem(r(e))}catch(e){if(e.name===c)return null}if(t)try{return JSON.parse(t)}catch(e){}return null}t.__esModule=!0,t.saveState=o,t.readState=s;var i=n(169),l=(a(i),"@@History/"),u=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],c="SecurityError"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){return l.canUseDOM?void 0:i.default(!1),n.listen(e)}var n=p.default(o({getUserConfirmation:u.getUserConfirmation},e,{go:u.go}));return o({},n,{listen:t})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(172),i=a(s),l=n(177),u=n(178),c=n(181),p=a(c);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return Math.random().toString(36).substr(2,e)}function o(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.key===t.key&&c.default(e.state,t.state)}function s(){function e(e){return q.push(e),function(){q=q.filter(function(t){return t!==e})}}function t(){return W&&W.action===h.POP?U.indexOf(W.key):G?U.indexOf(G.key):-1}function n(e){var n=t();G=e,G.action===h.PUSH?U=[].concat(U.slice(0,n+1),[G.key]):G.action===h.REPLACE&&(U[n]=G.key),F.forEach(function(e){e(G)})}function a(e){if(F.push(e),G)e(G);else{var t=O();U=[t.key],n(t)}return function(){F=F.filter(function(t){return t!==e})}}function s(e,t){d.loopAsync(q.length,function(t,n,a){g.default(q[t],e,function(e){null!=e?a(e):n()})},function(e){N&&"string"==typeof e?N(e,function(e){t(e!==!1)}):t(e!==!1)})}function l(e){G&&o(G,e)||(W=e,s(e,function(t){if(W===e)if(t){if(e.action===h.PUSH){var a=k(G),r=k(e);r===a&&c.default(G.state,e.state)&&(e.action=h.REPLACE)}A(e)!==!1&&n(e)}else if(G&&e.action===h.POP){var o=U.indexOf(G.key),s=U.indexOf(e.key);o!==-1&&s!==-1&&I(o-s)}}))}function u(e){l(x(e,h.PUSH,_()))}function f(e){l(x(e,h.REPLACE,_()))}function y(){I(-1)}function v(){I(1)}function _(){return r(D)}function k(e){if(null==e||"string"==typeof e)return e;var t=e.pathname,n=e.search,a=e.hash,r=t;return n&&(r+=n),a&&(r+=a),r}function j(e){return k(e)}function x(e,t){var n=arguments.length<=2||void 0===arguments[2]?_():arguments[2];return"object"==typeof t&&("string"==typeof e&&(e=p.parsePath(e)),e=i({},e,{state:t}),t=n,n=arguments[3]||_()),m.default(e,t,n)}function T(e){G?(E(G,e),n(G)):E(O(),e)}function E(e,t){e.state=i({},e.state,t),L(e.key,e.state)}function C(e){q.indexOf(e)===-1&&q.push(e)}function R(e){q=q.filter(function(t){return t!==e})}function M(e,t){"string"==typeof t&&(t=p.parsePath(t)),u(i({state:e},t))}function S(e,t){"string"==typeof t&&(t=p.parsePath(t)),f(i({state:e},t))}var P=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],O=P.getCurrentLocation,A=P.finishTransition,L=P.saveState,I=P.go,N=P.getUserConfirmation,D=P.keyLength;"number"!=typeof D&&(D=w);var q=[],U=[],F=[],G=void 0,W=void 0;return{listenBefore:e,listen:a,transitionTo:l,push:u,replace:f,go:I,goBack:y,goForward:v,createKey:_,createPath:k,createHref:j,createLocation:x,setState:b.default(T,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:b.default(C,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:b.default(R,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:b.default(M,"pushState is deprecated; use push instead"),replaceState:b.default(S,"replaceState is deprecated; use replace instead")}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(169),u=(a(l),n(182)),c=a(u),p=n(176),d=n(185),h=n(175),f=n(186),m=a(f),y=n(187),g=a(y),v=n(188),b=a(v),w=6;t.default=s,e.exports=t.default},function(e,t,n){function a(e){return null===e||void 0===e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){var o,c;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=s.call(e),t=s.call(t),u(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var p=i(e),d=i(t)}catch(e){return!1}if(p.length!=d.length)return!1;for(p.sort(),d.sort(),o=p.length-1;o>=0;o--)if(p[o]!=d[o])return!1;for(o=p.length-1;o>=0;o--)if(c=p[o],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var s=Array.prototype.slice,i=n(183),l=n(184),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:a,t.supported=n,t.unsupported=a},function(e,t){"use strict";function n(e,t,n){function r(){return i=!0,l?void(c=[].concat(a.call(arguments))):void n.apply(this,arguments)}function o(){if(!i&&(u=!0,!l)){for(l=!0;!i&&s<e&&u;)u=!1,t.call(this,s++,o,r);return l=!1,i?void n.apply(this,c):void(s>=e&&u&&(i=!0,n()))}}var s=0,i=!1,l=!1,u=!1,c=void 0;o()}t.__esModule=!0;var a=Array.prototype.slice;t.loopAsync=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],t=arguments.length<=1||void 0===arguments[1]?i.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],a=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof e&&(e=l.parsePath(e)),"object"==typeof t&&(e=o({},e,{state:t}),t=n||i.POP,n=a);var r=e.pathname||"/",s=e.search||"",u=e.hash||"",c=e.state||null;return{pathname:r,search:s,hash:u,state:c,action:t,key:n}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(169),i=(a(s),n(175)),l=n(176);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var a=e(t,n);e.length<2&&n(a)}t.__esModule=!0;var o=n(169);a(o);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return function(){return e.apply(this,arguments)}}t.__esModule=!0;var o=n(169);a(o);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return l.stringify(e).replace(/%20/g,"+")}function o(e){return function(){function t(e){if(null==e.query){var t=e.search;e.query=k(t.substring(1)),e[f]={search:t,searchBase:""}}return e}function n(e,t){var n,a=e[f],r=t?_(t):"";if(!a&&!r)return e;"string"==typeof e&&(e=p.parsePath(e));var o=void 0;o=a&&e.search===a.search?a.searchBase:e.search||"";var i=o;return r&&(i+=(i?"&":"?")+r),s({},e,(n={search:i},n[f]={search:i,searchBase:o},n))}function a(e){return w.listenBefore(function(n,a){c.default(e,t(n),a)})}function o(e){return w.listen(function(n){e(t(n))})}function i(e){w.push(n(e,e.query))}function l(e){w.replace(n(e,e.query))}function u(e,t){return w.createPath(n(e,t||e.query))}function d(e,t){return w.createHref(n(e,t||e.query))}function y(e){for(var a=arguments.length,r=Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];var s=w.createLocation.apply(w,[n(e,e.query)].concat(r));return e.query&&(s.query=e.query),t(s)}function g(e,t,n){"string"==typeof t&&(t=p.parsePath(t)),i(s({state:e},t,{query:n}))}function v(e,t,n){"string"==typeof t&&(t=p.parsePath(t)),l(s({state:e},t,{query:n}))}var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],w=e(b),_=b.stringifyQuery,k=b.parseQueryString;return"function"!=typeof _&&(_=r),"function"!=typeof k&&(k=m),s({},w,{listenBefore:a,listen:o,push:i,replace:l,createPath:u,createHref:d,createLocation:y,pushState:h.default(g,"pushState is deprecated; use push instead"),replaceState:h.default(v,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(169),l=(a(i),n(190)),u=n(187),c=a(u),p=n(176),d=n(188),h=a(d),f="$searchBase",m=l.parse;t.default=o,e.exports=t.default},function(e,t,n){"use strict";function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}var r=n(191),o=n(4);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),a=n.shift(),r=n.length>0?n.join("="):void 0;a=decodeURIComponent(a),r=void 0===r?null:decodeURIComponent(r),void 0===t[a]?t[a]=r:Array.isArray(t[a])?t[a].push(r):t[a]=[t[a],r]}),t):t},t.stringify=function(e,t){var n={encode:!0,strict:!0};return t=o(n,t),e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return a(n,t);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(e){void 0!==e&&(null===e?o.push(a(n,t)):o.push(a(n,t)+"="+a(e,t)))}),o.join("&")}return a(n,t)+"="+a(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e,t){function n(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],a=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=void 0;return n&&n!==!0||null!==a?(t={pathname:t,query:n},r=a||!1):(t=e.createLocation(t),r=n),(0,d.default)(t,r,b.location,b.routes,b.params)}function a(e,n){w&&w.location===e?o(w,n):(0,y.default)(t,e,function(t,a){t?n(t):a?o(s({},a,{location:e}),n):n()})}function o(e,t){function n(n,r){return n||r?a(n,r):void(0,f.default)(e,function(n,a){n?t(n):t(null,null,b=s({},e,{components:a}))})}function a(e,n){e?t(e):t(null,n)}var r=(0,u.default)(b,e),o=r.leaveRoutes,i=r.changeRoutes,l=r.enterRoutes;(0,c.runLeaveHooks)(o,b),o.filter(function(e){return l.indexOf(e)===-1}).forEach(m),(0,c.runChangeHooks)(i,b,e,function(t,r){return t||r?a(t,r):void(0,c.runEnterHooks)(l,e,n)})}function i(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];return e.__id__||t&&(e.__id__=_++)}function l(e){return e.reduce(function(e,t){return e.push.apply(e,k[i(t)]),e},[])}function p(e,n){(0,y.default)(t,e,function(t,a){if(null==a)return void n();w=s({},a,{location:e});for(var r=l((0,u.default)(b,w).leaveRoutes),o=void 0,i=0,c=r.length;null==o&&i<c;++i)o=r[i](e);n(o)})}function h(){if(b.routes){for(var e=l(b.routes),t=void 0,n=0,a=e.length;"string"!=typeof t&&n<a;++n)t=e[n]();return t}}function m(e){var t=i(e,!1);t&&(delete k[t],r(k)||(j&&(j(),j=null),x&&(x(),x=null)))}function g(t,n){var a=i(t),o=k[a];if(o)o.indexOf(n)===-1&&o.push(n);else{var s=!r(k);k[a]=[n],s&&(j=e.listenBefore(p),e.listenBeforeUnload&&(x=e.listenBeforeUnload(h)))}return function(){var e=k[a];if(e){var r=e.filter(function(e){return e!==n});0===r.length?m(t):k[a]=r}}}function v(t){return e.listen(function(n){b.location===n?t(null,b):a(n,function(n,a,r){n?t(n):a?e.replace(a):r&&t(null,r)})})}var b={},w=void 0,_=1,k=Object.create(null),j=void 0,x=void 0;return{isActive:n,match:a,listenBeforeLeavingRoute:g,listen:v}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=o;var i=n(168),l=(a(i),n(193)),u=a(l),c=n(194),p=n(196),d=a(p),h=n(197),f=a(h),m=n(199),y=a(m);e.exports=t.default},function(e,t,n){"use strict";function a(e,t,n){if(!e.path)return!1;var a=(0,o.getParamNames)(e.path);return a.some(function(e){return t.params[e]!==n.params[e]})}function r(e,t){var n=e&&e.routes,r=t.routes,o=void 0,s=void 0,i=void 0;return n?!function(){var l=!1;o=n.filter(function(n){if(l)return!0;var o=r.indexOf(n)===-1||a(n,e,t);return o&&(l=!0),o}),o.reverse(),i=[],s=[],r.forEach(function(e){var t=n.indexOf(e)===-1,a=o.indexOf(e)!==-1;t||a?i.push(e):s.push(e)})}():(o=[],s=[],i=r),{leaveRoutes:o,changeRoutes:s,enterRoutes:i}}t.__esModule=!0;var o=n(171);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return function(){for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];if(e.apply(t,r),e.length<n){var s=r[r.length-1];s()}}}function o(e){return e.reduce(function(e,t){return t.onEnter&&e.push(r(t.onEnter,t,3)),e},[])}function s(e){return e.reduce(function(e,t){return t.onChange&&e.push(r(t.onChange,t,4)),e},[])}function i(e,t,n){function a(e,t,n){return t?void(r={pathname:t,query:n,state:e}):void(r=e)}if(!e)return void n();var r=void 0;(0,p.loopAsync)(e,function(e,n,o){t(e,a,function(e){e||r?o(e,r):n()})},n)}function l(e,t,n){var a=o(e);return i(a.length,function(e,n,r){a[e](t,n,r)},n)}function u(e,t,n,a){var r=s(e);return i(r.length,function(e,a,o){r[e](t,n,a,o)},a)}function c(e,t){for(var n=0,a=e.length;n<a;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.__esModule=!0,t.runEnterHooks=l,t.runChangeHooks=u,t.runLeaveHooks=c;var p=n(195),d=n(168);a(d)},function(e,t){"use strict";function n(e,t,n){function a(){return s=!0,i?void(u=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function r(){if(!s&&(l=!0,!i)){for(i=!0;!s&&o<e&&l;)l=!1,t.call(this,o++,r,a);return i=!1,s?void n.apply(this,u):void(o>=e&&l&&(s=!0,n()))}}var o=0,s=!1,i=!1,l=!1,u=void 0;r()}function a(e,t,n){function a(e,t,a){s||(t?(s=!0,n(t)):(o[e]=a,s=++i===r,s&&n(null,o)))}var r=e.length,o=[];if(0===r)return n(null,o);var s=!1,i=0;e.forEach(function(e,n){t(e,n,function(e,t){a(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=a},function(e,t,n){"use strict";function a(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return a(e,t[n])});if("object"===("undefined"==typeof e?"undefined":l(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!a(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function r(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function o(e,t,n){for(var a=e,r=[],o=[],s=0,i=t.length;s<i;++s){
var l=t[s],c=l.path||"";if("/"===c.charAt(0)&&(a=e,r=[],o=[]),null!==a&&c){var p=(0,u.matchPattern)(c,a);if(p?(a=p.remainingPathname,r=[].concat(r,p.paramNames),o=[].concat(o,p.paramValues)):a=null,""===a)return r.every(function(e,t){return String(o[t])===String(n[e])})}}return!1}function s(e,t){return null==t?null==e:null==e||a(e,t)}function i(e,t,n,a,i){var l=e.pathname,u=e.query;return null!=n&&("/"!==l.charAt(0)&&(l="/"+l),!!(r(l,n.pathname)||!t&&o(l,a,i))&&s(u,n.query))}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=i;var u=n(171);e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var a=t.getComponent||t.getComponents;if(!a)return void n();var r=e.location,o=(0,l.default)(e,r);a.call(t,o,n)}function o(e,t){(0,s.mapAsync)(e.routes,function(t,n,a){r(e,t,a)},t)}t.__esModule=!0;var s=n(195),i=n(198),l=a(i);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o({},e,t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=r;var s=(n(167),n(168));a(s);e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a,r){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var o=!0,s=void 0,l={location:t,params:i(n,a)},u=(0,f.default)(l,t);return e.getChildRoutes(u,function(e,t){return t=!e&&(0,g.createRoutes)(t),o?void(s=[e,t]):void r(e,t)}),o=!1,s}function o(e,t,n,a,r){if(e.indexRoute)r(null,e.indexRoute);else if(e.getIndexRoute){var s={location:t,params:i(n,a)},l=(0,f.default)(s,t);e.getIndexRoute(l,function(e,t){r(e,!e&&(0,g.createRoutes)(t)[0])})}else e.childRoutes?!function(){var s=e.childRoutes.filter(function(e){return!e.path});(0,d.loopAsync)(s.length,function(e,r,i){o(s[e],t,n,a,function(t,n){if(t||n){var a=[s[e]].concat(Array.isArray(n)?n:[n]);i(t,a)}else r()})},function(e,t){r(null,t)})}():r()}function s(e,t,n){return t.reduce(function(e,t,a){var r=n&&n[a];return Array.isArray(e[t])?e[t].push(r):t in e?e[t]=[e[t],r]:e[t]=r,e},e)}function i(e,t){return s({},e,t)}function l(e,t,n,a,s,l){var c=e.path||"";if("/"===c.charAt(0)&&(n=t.pathname,a=[],s=[]),null!==n&&c){try{var d=(0,m.matchPattern)(c,n);d?(n=d.remainingPathname,a=[].concat(a,d.paramNames),s=[].concat(s,d.paramValues)):n=null}catch(e){l(e)}if(""===n){var h=function(){var n={routes:[e],params:i(a,s)};return o(e,t,a,s,function(e,t){if(e)l(e);else{if(Array.isArray(t)){var a;(a=n.routes).push.apply(a,t)}else t&&n.routes.push(t);l(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof h?"undefined":p(h)))return h.v}}if(null!=n||e.childRoutes){var f=function(r,o){r?l(r):o?u(o,t,function(t,n){t?l(t):n?(n.routes.unshift(e),l(null,n)):l()},n,a,s):l()},y=r(e,t,a,s,f);y&&f.apply(void 0,y)}else l()}function u(e,t,n,a){var r=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],o=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===a&&("/"!==t.pathname.charAt(0)&&(t=c({},t,{pathname:"/"+t.pathname})),a=t.pathname),(0,d.loopAsync)(e.length,function(n,s,i){l(e[n],t,a,r,o,function(e,t){e||t?i(e,t):s()})},n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=u;var d=n(195),h=n(198),f=a(h),m=n(171),y=n(168),g=(a(y),n(165));e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(172),i=a(s),l=n(2),u=a(l),c=n(167),p=(a(c),n(201)),d=a(p),h=n(165),f=n(168),m=(a(f),u.default.PropTypes),y=m.array,g=m.func,v=m.object,b=u.default.createClass({displayName:"RouterContext",propTypes:{history:v,router:v.isRequired,location:v.isRequired,routes:y.isRequired,params:v.isRequired,components:y.isRequired,createElement:g.isRequired},getDefaultProps:function(){return{createElement:u.default.createElement}},childContextTypes:{history:v,location:v.isRequired,router:v.isRequired},getChildContext:function(){var e=this.props,t=e.router,n=e.history,a=e.location;return t||(t=o({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete t.listenBeforeLeavingRoute),{history:n,location:a,router:t}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.history,a=t.location,s=t.routes,l=t.params,c=t.components,p=null;return c&&(p=c.reduceRight(function(t,i,u){if(null==i)return t;var c=s[u],p=(0,d.default)(c,l),f={history:n,location:a,params:l,route:c,routeParams:p,routes:s};if((0,h.isReactChildren)(t))f.children=t;else if(t)for(var m in t)Object.prototype.hasOwnProperty.call(t,m)&&(f[m]=t[m]);if("object"===("undefined"==typeof i?"undefined":r(i))){var y={};for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(y[g]=e.createElement(i[g],o({key:g},f)));return y}return e.createElement(i,f)},p)),null===p||p===!1||u.default.isValidElement(p)?void 0:(0,i.default)(!1),p}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function a(e,t){var n={};return e.path?((0,r.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var r=n(171);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return s({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive})}function o(e,t){return e=s({},e,t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.createRouterObject=r,t.createRoutingHistory=o;var i=n(167);a(i)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e){return 0===e.button}function s(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function l(e,t){var n=t.query,a=t.hash,r=t.state;return n||a||r?{pathname:e,query:n,hash:a,state:r}:e}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(2),p=a(c),d=n(168),h=(a(d),n(172)),f=a(h),m=n(166),y=p.default.PropTypes,g=y.bool,v=y.object,b=y.string,w=y.func,_=y.oneOfType,k=p.default.createClass({displayName:"Link",contextTypes:{router:m.routerShape},propTypes:{to:_([b,v]),query:v,hash:b,state:v,activeStyle:v,activeClassName:b,onlyActiveOnIndex:g.isRequired,onClick:w,target:b},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented&&(this.context.router?void 0:(0,f.default)(!1),!s(e)&&o(e)&&!this.props.target)){e.preventDefault();var t=this.props,n=t.to,a=t.query,r=t.hash,i=t.state,u=l(n,{query:a,hash:r,state:i});this.context.router.push(u)}},render:function(){var e=this.props,t=e.to,n=e.query,a=e.hash,o=e.state,s=e.activeClassName,c=e.activeStyle,d=e.onlyActiveOnIndex,h=r(e,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]),f=this.context.router;if(f){if(null==t)return p.default.createElement("a",h);var m=l(t,{query:n,hash:a,state:o});h.href=f.createHref(m),(s||null!=c&&!i(c))&&f.isActive(m,d)&&(s&&(h.className?h.className+=" "+s:h.className=s),c&&(h.style=u({},h.style,c)))}return p.default.createElement("a",u({},h,{onClick:this.handleClick}))}});t.default=k,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(2),s=a(o),i=n(203),l=a(i),u=s.default.createClass({displayName:"IndexLink",render:function(){return s.default.createElement(l.default,r({},this.props,{onlyActiveOnIndex:!0}))}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.displayName||e.name||"Component"}function o(e,t){var n=t&&t.withRef,a=c.default.createClass({displayName:"WithRouter",contextTypes:{router:h.routerShape},propTypes:{router:h.routerShape},getWrappedInstance:function(){return n?void 0:(0,l.default)(!1),this.wrappedInstance},render:function(){var t=this,a=this.props.router||this.context.router,r=s({},this.props,{router:a});return n&&(r.ref=function(e){t.wrappedInstance=e}),c.default.createElement(e,r)}});return a.displayName="withRouter("+r(e)+")",a.WrappedComponent=e,(0,d.default)(a,e)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=o;var i=n(172),l=a(i),u=n(2),c=a(u),p=n(206),d=a(p),h=n(166);e.exports=t.default},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,o){if("string"!=typeof t){var s=Object.getOwnPropertyNames(t);r&&(s=s.concat(Object.getOwnPropertySymbols(t)));for(var i=0;i<s.length;++i)if(!(n[s[i]]||a[s[i]]||o&&o[s[i]]))try{e[s[i]]=t[s[i]]}catch(e){}}return e}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(2),o=a(r),s=n(168),i=(a(s),n(172)),l=a(i),u=n(208),c=a(u),p=n(170),d=o.default.PropTypes,h=d.string,f=d.object,m=o.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=c.default.createRouteFromReactElement(e))}},propTypes:{to:h.isRequired,query:f,state:f,onEnter:p.falsy,children:p.falsy},render:function(){(0,l.default)(!1)}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(2),o=a(r),s=n(172),i=a(s),l=n(165),u=n(171),c=n(170),p=o.default.PropTypes,d=p.string,h=p.object,f=o.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,l.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var a=e.location,r=e.params,o=void 0;if("/"===t.to.charAt(0))o=(0,u.formatPattern)(t.to,r);else if(t.to){var s=e.routes.indexOf(t),i=f.getRoutePattern(e.routes,s-1),l=i.replace(/\/*$/,"/")+t.to;o=(0,u.formatPattern)(l,r)}else o=a.pathname;n({pathname:o,query:t.query||a.query,state:t.state||a.state})},t},getRoutePattern:function(e,t){for(var n="",a=t;a>=0;a--){var r=e[a],o=r.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:d,from:d,to:d.isRequired,query:h,state:h,onEnter:c.falsy,children:c.falsy},render:function(){(0,i.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(2),o=a(r),s=n(168),i=(a(s),n(172)),l=a(i),u=n(165),c=n(170),p=o.default.PropTypes.func,d=o.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,u.createRouteFromReactElement)(e))}},propTypes:{path:c.falsy,component:c.component,components:c.components,getComponent:p,getComponents:p},render:function(){(0,l.default)(!1)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(2),o=a(r),s=n(172),i=a(s),l=n(165),u=n(170),c=o.default.PropTypes,p=c.string,d=c.func,h=o.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:l.createRouteFromReactElement},propTypes:{path:p,component:u.component,components:u.components,getComponent:d,getComponents:d},render:function(){(0,i.default)(!1)}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(168),o=(a(r),n(170)),s={contextTypes:{history:o.history},componentWillMount:function(){this.history=this.context.history}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(168),o=(a(r),n(2)),s=a(o),i=n(172),l=a(i),u=s.default.PropTypes.object,c={contextTypes:{history:u.isRequired,route:u},propTypes:{route:u},componentDidMount:function(){this.routerWillLeave?void 0:(0,l.default)(!1);var e=this.props.route||this.context.route;e?void 0:(0,l.default)(!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(e,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(168),o=(a(r),n(2)),s=a(o),i=s.default.PropTypes.object,l={propTypes:{route:i.isRequired},childContextTypes:{route:i.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e){return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.routes,a=r(t,["routes"]),o=(0,l.default)(e)(a),i=(0,c.default)(o,n);return s({},o,i)}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(189),l=a(i),u=n(192),c=a(u),p=n(168);a(p);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(2),o=a(r),s=n(200),i=a(s),l=n(168),u=(a(l),o.default.createClass({displayName:"RoutingContext",componentWillMount:function(){},render:function(){return o.default.createElement(i.default,this.props)}}));t.default=u,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){var n=e.history,a=e.routes,o=e.location,l=r(e,["history","routes","location"]);n||o?void 0:(0,u.default)(!1),n=n?n:(0,p.default)(l);var c=(0,h.default)(n,(0,f.createRoutes)(a)),d=void 0;o?o=n.createLocation(o):d=n.listen(function(e){o=e});var y=(0,m.createRouterObject)(n,c);n=(0,m.createRoutingHistory)(n,c),c.match(o,function(e,a,r){t(e,a&&y.createLocation(a,i.REPLACE),r&&s({},r,{history:n,router:y,matchContext:{history:n,transitionManager:c,router:y}})),d&&d()})}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(175),l=n(172),u=a(l),c=n(217),p=a(c),d=n(192),h=a(d),f=n(165),m=n(202);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,c.default)(e),n=function(){return t},a=(0,s.default)((0,l.default)(n))(e);return a.__v2_compatible__=!0,a}t.__esModule=!0,t.default=r;var o=n(189),s=a(o),i=n(218),l=a(i),u=n(219),c=a(u);e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){function t(){if(!_){if(null==w&&i.canUseDOM){var e=document.getElementsByTagName("base")[0],t=e&&e.getAttribute("href");null!=t&&(w=t)}_=!0}}function n(e){return t(),w&&null==e.basename&&(0===e.pathname.indexOf(w)?(e.pathname=e.pathname.substring(w.length),e.basename=w,""===e.pathname&&(e.pathname="/")):e.basename=""),e}function a(e){if(t(),!w)return e;"string"==typeof e&&(e=l.parsePath(e));var n=e.pathname,a="/"===w.slice(-1)?w:w+"/",r="/"===n.charAt(0)?n.slice(1):n,s=a+r;return o({},e,{pathname:s})}function r(e){return b.listenBefore(function(t,a){c.default(e,n(t),a)})}function s(e){return b.listen(function(t){e(n(t))})}function u(e){b.push(a(e))}function p(e){b.replace(a(e))}function h(e){return b.createPath(a(e))}function f(e){return b.createHref(a(e))}function m(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n(b.createLocation.apply(b,[a(e)].concat(r)))}function y(e,t){"string"==typeof t&&(t=l.parsePath(t)),u(o({state:e},t))}function g(e,t){"string"==typeof t&&(t=l.parsePath(t)),p(o({state:e},t))}var v=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=e(v),w=v.basename,_=!1;return o({},b,{listenBefore:r,listen:s,push:u,replace:p,createPath:h,createHref:f,createLocation:m,pushState:d.default(y,"pushState is deprecated; use push instead"),replaceState:d.default(g,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(169),i=(a(s),n(177)),l=n(176),u=n(187),c=a(u),p=n(188),d=a(p);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})}function o(){function e(e,t){g[e]=t}function t(e){return g[e]}function n(){var e=m[y],n=e.basename,a=e.pathname,r=e.search,o=(n||"")+a+(r||""),i=void 0,l=void 0;e.key?(i=e.key,l=t(i)):(i=d.createKey(),l=null,e.key=i);var u=c.parsePath(o);return d.createLocation(s({},u,{state:l}),void 0,i)}function a(e){var t=y+e;return t>=0&&t<m.length}function o(e){if(e){if(!a(e))return;y+=e;var t=n();d.transitionTo(s({},t,{action:p.POP}))}}function i(t){switch(t.action){case p.PUSH:y+=1,y<m.length&&m.splice(y),m.push(t),e(t.key,t.state);break;case p.REPLACE:m[y]=t,e(t.key,t.state)}}var l=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(l)?l={entries:l}:"string"==typeof l&&(l={entries:[l]});var d=h.default(s({},l,{getCurrentLocation:n,finishTransition:i,saveState:e,go:o})),f=l,m=f.entries,y=f.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){var t=d.createKey();return"string"==typeof e?{pathname:e,key:t}:"object"==typeof e&&e?s({},e,{key:t}):void u.default(!1)}),null==y?y=m.length-1:y>=0&&y<m.length?void 0:u.default(!1);var g=r(m);return d}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(169),l=(a(i),n(172)),u=a(l),c=n(176),p=n(175),d=n(181),h=a(d);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(t){var n=(0,s.default)((0,l.default)(e))(t);return n.__v2_compatible__=!0,n}}t.__esModule=!0,t.default=r;var o=n(189),s=a(o),i=n(218),l=a(i);e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(2),s=a(o),i=n(200),l=a(i),u=n(168);a(u);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.map(function(e){return e.renderRouterContext}).filter(Boolean),i=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),u=function(){var e=arguments.length<=0||void 0===arguments[0]?o.createElement:arguments[0];return function(t,n){return i.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return a.reduceRight(function(t,n){return n(t,e)},s.default.createElement(l.default,r({},e,{createElement:u(e.createElement)})))}},e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(223),o=a(r),s=n(224),i=a(s);t.default=(0,i.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){try{e=e||window.history.state||{}}catch(t){e={}}var t=p.getWindowPath(),n=e,a=n.key,r=void 0;a?r=d.readState(a):(r=null,a=b.createKey(),g&&window.history.replaceState(o({},e,{key:a}),null));var s=u.parsePath(t);return b.createLocation(o({},s,{state:r}),void 0,a)}function t(t){function n(t){void 0!==t.state&&a(e(t.state))}var a=t.transitionTo;return p.addEventListener(window,"popstate",n),function(){p.removeEventListener(window,"popstate",n)}}function n(e){var t=e.basename,n=e.pathname,a=e.search,r=e.hash,o=e.state,s=e.action,i=e.key;if(s!==l.POP){d.saveState(i,o);var u=(t||"")+n+a+r,c={key:i};if(s===l.PUSH){if(v)return window.location.href=u,!1;window.history.pushState(c,null,u)}else{if(v)return window.location.replace(u),!1;window.history.replaceState(c,null,u)}}}function a(e){1===++w&&(_=t(b));var n=b.listenBefore(e);return function(){n(),0===--w&&_()}}function r(e){1===++w&&(_=t(b));var n=b.listen(e);return function(){n(),0===--w&&_()}}function s(e){1===++w&&(_=t(b)),b.registerTransitionHook(e)}function h(e){b.unregisterTransitionHook(e),0===--w&&_()}var m=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.canUseDOM?void 0:i.default(!1);var y=m.forceRefresh,g=p.supportsHistory(),v=!g||y,b=f.default(o({},m,{getCurrentLocation:e,finishTransition:n,saveState:d.saveState})),w=0,_=void 0;return o({},b,{listenBefore:a,listen:r,registerTransitionHook:s,unregisterTransitionHook:h})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(172),i=a(s),l=n(175),u=n(176),c=n(177),p=n(178),d=n(179),h=n(180),f=a(h);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){var t=void 0;return s&&(t=(0,o.default)(e)()),t};var r=n(220),o=a(r),s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(174),o=a(r),s=n(224),i=a(s);t.default=(0,i.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{renderRouterContext:function(t,n){return s.default.createElement(l.default,{shouldUpdateScroll:e,routerProps:n},t)}}}t.__esModule=!0,t.default=r;var o=n(2),s=a(o),i=n(227),l=a(i);e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(2),l=a(i),u=n(228),c=a(u),p={shouldUpdateScroll:l.default.PropTypes.func,routerProps:l.default.PropTypes.object.isRequired,children:l.default.PropTypes.element.isRequired},d={scrollBehavior:l.default.PropTypes.object.isRequired},h=function(e){function t(n,a){r(this,t);var s=o(this,e.call(this,n,a));f.call(s);var i=n.routerProps;return s.scrollBehavior=new c.default(i.router,function(){return s.props.routerProps.location},s.shouldUpdateScroll),s.scrollBehavior.updateScroll(null,i),s}return s(t,e),t.prototype.getChildContext=function(){return{scrollBehavior:this}},t.prototype.componentDidUpdate=function(e){var t=this.props.routerProps,n=e.routerProps;t.location!==n.location&&this.scrollBehavior.updateScroll(n,t)},t.prototype.componentWillUnmount=function(){this.scrollBehavior.stop()},t.prototype.render=function(){return this.props.children},t}(l.default.Component),f=function(){var e=this;this.shouldUpdateScroll=function(t,n){var a=e.props.shouldUpdateScroll;return!a||a.call(e.scrollBehavior,t,n)},this.registerElement=function(t,n,a){e.scrollBehavior.registerElement(t,n,a,e.props.routerProps)},this.unregisterElement=function(t){e.scrollBehavior.unregisterElement(t)}};h.propTypes=p,h.childContextTypes=d,t.default=h,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(229),s=a(o),i=n(231),l=a(i),u=n(232),c=a(u),p=n(234),d=a(p),h=n(235),f=a(h),m=n(175),y=n(179),g=n(172),v=a(g),b="s/",w=2,_=function(){function e(t,n,a){var o=this;r(this,e),this._onWindowScroll=function(){if(null===o._saveWindowPositionHandle&&(o._saveWindowPositionHandle=(0,f.default)(o._saveWindowPosition)),o._windowScrollTarget){var e=o._windowScrollTarget,t=e[0],n=e[1],a=(0,c.default)(window),r=(0,d.default)(window);a===t&&r===n&&(o._windowScrollTarget=null,o._cancelCheckWindowScroll())}},this._saveWindowPosition=function(){o._saveWindowPositionHandle=null,o._savePosition(null,window)},this._checkWindowScrollPosition=function(){if(o._checkWindowScrollHandle=null,o._windowScrollTarget){var e=o._windowScrollTarget,t=e[0],n=e[1];return window.scrollTo(t,n),++o._numWindowScrollAttempts,o._numWindowScrollAttempts>=w?void(o._windowScrollTarget=null):void(o._checkWindowScrollHandle=(0,f.default)(o._checkWindowScrollPosition))}},this._history=t,this._getCurrentLocation=n,this._shouldUpdateScroll=a,"scrollRestoration"in window.history?(this._oldScrollRestoration=window.history.scrollRestoration,window.history.scrollRestoration="manual"):this._oldScrollRestoration=null,this._saveWindowPositionHandle=null,this._checkWindowScrollHandle=null,this._windowScrollTarget=null,this._numWindowScrollAttempts=0,this._scrollElements={},(0,l.default)(window,"scroll",this._onWindowScroll),this._unlistenBefore=t.listenBefore(function(){null!==o._saveWindowPositionHandle&&(f.default.cancel(o._saveWindowPositionHandle),o._saveWindowPositionHandle=null),Object.keys(o._scrollElements).forEach(function(e){o._saveElementPosition(e)})})}return e.prototype.stop=function(){this._oldScrollRestoration&&(window.history.scrollRestoration=this._oldScrollRestoration),(0,s.default)(window,"scroll",this._onWindowScroll),this._cancelCheckWindowScroll(),this._unlistenBefore()},e.prototype.registerElement=function(e,t,n,a){this._scrollElements[e]?(0,v.default)(!1):void 0,this._scrollElements[e]={element:t,shouldUpdateScroll:n},this._updateElementScroll(e,null,a)},e.prototype.unregisterElement=function(e){this._scrollElements[e]?void 0:(0,v.default)(!1),delete this._scrollElements[e]},e.prototype.updateScroll=function(e,t){var n=this;this._updateWindowScroll(e,t),Object.keys(this._scrollElements).forEach(function(a){n._updateElementScroll(a,e,t)})},e.prototype.readPosition=function(e,t){return(0,y.readState)(this._getKey(e,t))},e.prototype._cancelCheckWindowScroll=function(){null!==this._checkWindowScrollHandle&&(f.default.cancel(this._checkWindowScrollHandle),this._checkWindowScrollHandle=null)},e.prototype._saveElementPosition=function(e){var t=this._scrollElements[e].element;this._savePosition(e,t)},e.prototype._savePosition=function(e,t){(0,y.saveState)(this._getKey(this._getCurrentLocation(),e),[(0,c.default)(t),(0,d.default)(t)])},e.prototype._getKey=function(e,t){var n=e.key||this._history.createHref(e);return null==t?""+b+n:""+b+t+"/"+n},e.prototype._updateWindowScroll=function(e,t){this._cancelCheckWindowScroll(),this._windowScrollTarget=this._getScrollTarget(null,this._shouldUpdateScroll,e,t),this._onWindowScroll(),this._windowScrollTarget&&(this._numWindowScrollAttempts=0,this._checkWindowScrollPosition())},e.prototype._updateElementScroll=function(e,t,n){var a=this._scrollElements[e],r=a.element,o=a.shouldUpdateScroll,s=this._getScrollTarget(e,o,t,n);if(s){var i=s[0],l=s[1];(0,c.default)(r,i),(0,d.default)(r,l)}},e.prototype._getScrollTarget=function(e,t,n,a){var r=!t||t.call(this,n,a);if(!r||Array.isArray(r))return r;var o=this._getCurrentLocation();return o.action===m.PUSH?[0,0]:this.readPosition(o,e)||[0,0]},e}();t.default=_,e.exports=t.default},function(e,t,n){"use strict";var a=n(230),r=function(){};a&&(r=function(){return document.addEventListener?function(e,t,n,a){return e.removeEventListener(t,n,a||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0}()),e.exports=r},function(e,t){"use strict";e.exports=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";var a=n(230),r=function(){};a&&(r=function(){return document.addEventListener?function(e,t,n,a){return e.addEventListener(t,n,a||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,n)}:void 0}()),e.exports=r},function(e,t,n){"use strict";var a=n(233);e.exports=function(e,t){var n=a(e);return void 0===t?n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft:void(n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t)}},function(e,t){"use strict";e.exports=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}},function(e,t,n){"use strict";var a=n(233);e.exports=function(e,t){var n=a(e);return void 0===t?n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop:void(n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t)}},function(e,t,n){"use strict";function a(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),a=setTimeout(e,n);return c=t,a}var r,o=n(230),s=["","webkit","moz","o","ms"],i="clearTimeout",l=a,u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o&&s.some(function(e){var t=u(e,"request");if(t in window)return i=u(e,"cancel"),l=function(e){return window[t](e)}});var c=(new Date).getTime();r=function(e){return l(e)},r.cancel=function(e){return window[i](e)},e.exports=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(237),o=a(r),s=n(238),i=a(s),l=n(370),u=a(l),c=n(373);e.exports=function(e,t){var a=(0,u.default)(e,function(e){return"_"!==e.file.name.slice(0,1)}),r=(0,u.default)(e,function(e){return"_template"===e.file.name}),s={path:(0,c.prefixLink)("/"),component:n(376),childRoutes:[],indexRoute:{},pages:a,templates:r},l=null,p={};p.root=s,p["/"]=s;var d=(0,u.default)(e,function(e){return"_template"===e.file.name&&""!==e.file.dirname;
});d.forEach(function(e){var n=(0,u.default)(d,function(t){return 0===e.requirePath.indexOf(t.file.dirname)});n=(0,i.default)(n,function(e){return e?e.file.dirname.length:0});var s=(0,o.default)(n),l=void 0;s&&(l=p[s.file.dirname]),l||(l=p.root);var h={path:(0,c.prefixLink)(e.templatePath),component:t("./"+e.requirePath),childRoutes:[],indexRoute:{},pages:a,templates:r,parentTemplateFile:s};p[e.file.dirname]=h,l.childRoutes.push(h)});var h=["ipynb","md","markdown","html","json","yaml","toml"],f=["js","jsx","cjsx"],m={};return h.forEach(function(e){try{m[e]=n(389)("./"+e)}catch(t){"MODULE_NOT_FOUND"!==t.code&&t.message&&!t.message.match(/^Cannot find module/)&&"undefined"!=typeof console&&console.error("Error requiring wrapper",e,":",t)}}),a.forEach(function(e){var n=e,s=void 0;h.indexOf(n.file.ext)!==-1?(s=m[n.file.ext],n.data=t("./"+n.requirePath)):f.indexOf(n.file.ext)!==-1&&(s=t("./"+n.requirePath),n.data=function(){return t("./"+n.requirePath).metadata?t("./"+n.requirePath).metadata():{}}());var y=(0,u.default)(d,function(e){return 0===n.requirePath.indexOf(e.file.dirname)}),g=(0,i.default)(y,function(e){return e.file.dirname.length}),v=(0,o.default)(g),b=void 0;v&&(b=p[v.file.dirname]),b||(b=p.root),"index"===n.file.name&&(0,c.prefixLink)(n.path)===b.path?b.indexRoute={component:s,page:n,pages:a,templates:r,parentTemplateFile:v}:b.childRoutes.push({path:(0,c.prefixLink)(n.path),component:s,page:n,pages:a,templates:r,parentTemplateFile:v}),n.path.indexOf("/404")!==-1&&(l={path:"*",component:s,page:n,pages:a,templates:r,parentTemplateFile:v})}),l&&s.childRoutes.push(l),s}},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){var a=n(239),r=n(252),o=n(361),s=n(369),i=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,a(t,1),[])});e.exports=i},function(e,t,n){function a(e,t,n,s,i){var l=-1,u=e.length;for(n||(n=o),i||(i=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?a(c,t-1,n,s,i):r(i,c):s||(i[i.length]=c)}return i}var r=n(240),o=n(241);e.exports=a},function(e,t){function n(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}e.exports=n},function(e,t,n){function a(e){return s(e)||o(e)||!!(i&&e&&e[i])}var r=n(242),o=n(245),s=n(251),i=r?r.isConcatSpreadable:void 0;e.exports=a},function(e,t,n){var a=n(243),r=a.Symbol;e.exports=r},function(e,t,n){var a=n(244),r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var a=n(246),r=n(250),o=Object.prototype,s=o.hasOwnProperty,i=o.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return r(e)&&s.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},function(e,t,n){function a(e){return o(e)&&r(e)==s}var r=n(247),o=n(250),s="[object Arguments]";e.exports=a},function(e,t,n){function a(e){return null==e?void 0===e?l:i:(e=Object(e),u&&u in e?o(e):s(e))}var r=n(242),o=n(248),s=n(249),i="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=a},function(e,t,n){function a(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var a=!0}catch(e){}var r=i.call(e);return a&&(t?e[l]=n:delete e[l]),r}var r=n(242),o=Object.prototype,s=o.hasOwnProperty,i=o.toString,l=r?r.toStringTag:void 0;e.exports=a},function(e,t){function n(e){return r.call(e)}var a=Object.prototype,r=a.toString;e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){function a(e,t,n){var a=-1;t=r(t.length?t:[c],l(o));var p=s(e,function(e,n,o){var s=r(t,function(t){return t(e)});return{criteria:s,index:++a,value:e}});return i(p,function(e,t){return u(e,t,n)})}var r=n(253),o=n(254),s=n(352),i=n(358),l=n(318),u=n(359),c=n(348);e.exports=a},function(e,t){function n(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}e.exports=n},function(e,t,n){function a(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?i(e)?o(e[0],e[1]):r(e):l(e)}var r=n(255),o=n(333),s=n(348),i=n(251),l=n(349);e.exports=a},function(e,t,n){function a(e){var t=o(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n(256),o=n(330),s=n(332);e.exports=a},function(e,t,n){function a(e,t,n,a){var l=n.length,u=l,c=!a;if(null==e)return!u;for(e=Object(e);l--;){var p=n[l];if(c&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<u;){p=n[l];var d=p[0],h=e[d],f=p[1];if(c&&p[2]){if(void 0===h&&!(d in e))return!1}else{var m=new r;if(a)var y=a(h,f,d,e,t,m);if(!(void 0===y?o(f,h,a,s|i,m):y))return!1}}return!0}var r=n(257),o=n(295),s=1,i=2;e.exports=a},function(e,t,n){function a(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(258),o=n(266),s=n(267),i=n(268),l=n(269),u=n(270);a.prototype.clear=o,a.prototype.delete=s,a.prototype.get=i,a.prototype.has=l,a.prototype.set=u,e.exports=a},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var r=n(259),o=n(260),s=n(263),i=n(264),l=n(265);a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=s,a.prototype.has=i,a.prototype.set=l,e.exports=a},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function a(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():s.call(t,n,1),--this.size,!0}var r=n(261),o=Array.prototype,s=o.splice;e.exports=a},function(e,t,n){function a(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(262);e.exports=a},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function a(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n(261);e.exports=a},function(e,t,n){function a(e){return r(this.__data__,e)>-1}var r=n(261);e.exports=a},function(e,t,n){function a(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}var r=n(261);e.exports=a},function(e,t,n){function a(){this.__data__=new r,this.size=0}var r=n(258);e.exports=a},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function a(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<i-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}var r=n(258),o=n(271),s=n(280),i=200;e.exports=a},function(e,t,n){var a=n(272),r=n(243),o=a(r,"Map");e.exports=o},function(e,t,n){function a(e,t){var n=o(e,t);return r(n)?n:void 0}var r=n(273),o=n(279);e.exports=a},function(e,t,n){function a(e){if(!s(e)||o(e))return!1;var t=r(e)?f:u;return t.test(i(e))}var r=n(274),o=n(276),s=n(275),i=n(278),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,p=Object.prototype,d=c.toString,h=p.hasOwnProperty,f=RegExp("^"+d.call(h).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=a},function(e,t,n){function a(e){if(!o(e))return!1;var t=r(e);return t==i||t==l||t==s||t==u}var r=n(247),o=n(275),s="[object AsyncFunction]",i="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=a},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function a(e){return!!o&&o in e}var r=n(277),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=a},function(e,t,n){var a=n(243),r=a["__core-js_shared__"];e.exports=r},function(e,t){function n(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var a=Function.prototype,r=a.toString;e.exports=n},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var r=n(281),o=n(289),s=n(292),i=n(293),l=n(294);a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=s,a.prototype.has=i,a.prototype.set=l,e.exports=a},function(e,t,n){function a(){this.size=0,this.__data__={hash:new r,map:new(s||o),string:new r}}var r=n(282),o=n(258),s=n(271);e.exports=a},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}var r=n(283),o=n(285),s=n(286),i=n(287),l=n(288);a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=s,a.prototype.has=i,a.prototype.set=l,e.exports=a},function(e,t,n){function a(){this.__data__=r?r(null):{},this.size=0}var r=n(284);e.exports=a},function(e,t,n){var a=n(272),r=a(Object,"create");e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function a(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}var r=n(284),o="__lodash_hash_undefined__",s=Object.prototype,i=s.hasOwnProperty;e.exports=a},function(e,t,n){function a(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}var r=n(284),o=Object.prototype,s=o.hasOwnProperty;e.exports=a},function(e,t,n){function a(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}var r=n(284),o="__lodash_hash_undefined__";e.exports=a},function(e,t,n){function a(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n(290);e.exports=a},function(e,t,n){function a(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(291);e.exports=a},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function a(e){return r(this,e).get(e)}var r=n(290);e.exports=a},function(e,t,n){function a(e){return r(this,e).has(e)}var r=n(290);e.exports=a},function(e,t,n){function a(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}var r=n(290);e.exports=a},function(e,t,n){function a(e,t,n,i,l){return e===t||(null==e||null==t||!o(e)&&!s(t)?e!==e&&t!==t:r(e,t,a,n,i,l))}var r=n(296),o=n(275),s=n(250);e.exports=a},function(e,t,n){function a(e,t,n,a,y,v){var b=u(e),w=u(t),_=f,k=f;b||(_=l(e),_=_==h?m:_),w||(k=l(t),k=k==h?m:k);var j=_==m,x=k==m,T=_==k;if(T&&c(e)){if(!c(t))return!1;b=!0,j=!1}if(T&&!j)return v||(v=new r),b||p(e)?o(e,t,n,a,y,v):s(e,t,_,n,a,y,v);if(!(y&d)){var E=j&&g.call(e,"__wrapped__"),C=x&&g.call(t,"__wrapped__");if(E||C){var R=E?e.value():e,M=C?t.value():t;return v||(v=new r),n(R,M,a,y,v)}}return!!T&&(v||(v=new r),i(e,t,n,a,y,v))}var r=n(257),o=n(297),s=n(303),i=n(307),l=n(325),u=n(251),c=n(311),p=n(315),d=2,h="[object Arguments]",f="[object Array]",m="[object Object]",y=Object.prototype,g=y.hasOwnProperty;e.exports=a},function(e,t,n){function a(e,t,n,a,u,c){var p=u&l,d=e.length,h=t.length;if(d!=h&&!(p&&h>d))return!1;var f=c.get(e);if(f&&c.get(t))return f==t;var m=-1,y=!0,g=u&i?new r:void 0;for(c.set(e,t),c.set(t,e);++m<d;){var v=e[m],b=t[m];if(a)var w=p?a(b,v,m,t,e,c):a(v,b,m,e,t,c);if(void 0!==w){if(w)continue;y=!1;break}if(g){if(!o(t,function(e,t){if(!s(g,t)&&(v===e||n(v,e,a,u,c)))return g.push(t)})){y=!1;break}}else if(v!==b&&!n(v,b,a,u,c)){y=!1;break}}return c.delete(e),c.delete(t),y}var r=n(298),o=n(301),s=n(302),i=1,l=2;e.exports=a},function(e,t,n){function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(280),o=n(299),s=n(300);a.prototype.add=a.prototype.push=o,a.prototype.has=s,e.exports=a},function(e,t){function n(e){return this.__data__.set(e,a),this}var a="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function a(e,t,n,a,r,j,T){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!a(new o(e),new o(t)));case d:case h:case y:return s(+e,+t);case f:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case m:var E=l;case v:var C=j&p;if(E||(E=u),e.size!=t.size&&!C)return!1;var R=T.get(e);if(R)return R==t;j|=c,T.set(e,t);var M=i(E(e),E(t),a,r,j,T);return T.delete(e),M;case w:if(x)return x.call(e)==x.call(t)}return!1}var r=n(242),o=n(304),s=n(262),i=n(297),l=n(305),u=n(306),c=1,p=2,d="[object Boolean]",h="[object Date]",f="[object Error]",m="[object Map]",y="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",w="[object Symbol]",_="[object ArrayBuffer]",k="[object DataView]",j=r?r.prototype:void 0,x=j?j.valueOf:void 0;e.exports=a},function(e,t,n){var a=n(243),r=a.Uint8Array;e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function a(e,t,n,a,s,l){var u=s&o,c=r(e),p=c.length,d=r(t),h=d.length;if(p!=h&&!u)return!1;for(var f=p;f--;){var m=c[f];if(!(u?m in t:i.call(t,m)))return!1}var y=l.get(e);if(y&&l.get(t))return y==t;var g=!0;l.set(e,t),l.set(t,e);for(var v=u;++f<p;){m=c[f];var b=e[m],w=t[m];if(a)var _=u?a(w,b,m,t,e,l):a(b,w,m,e,t,l);if(!(void 0===_?b===w||n(b,w,a,s,l):_)){g=!1;break}v||(v="constructor"==m)}if(g&&!v){var k=e.constructor,j=t.constructor;k!=j&&"constructor"in e&&"constructor"in t&&!("function"==typeof k&&k instanceof k&&"function"==typeof j&&j instanceof j)&&(g=!1)}return l.delete(e),l.delete(t),g}var r=n(308),o=2,s=Object.prototype,i=s.hasOwnProperty;e.exports=a},function(e,t,n){function a(e){return s(e)?r(e):o(e)}var r=n(309),o=n(320),s=n(324);e.exports=a},function(e,t,n){function a(e,t){var n=s(e),a=!n&&o(e),c=!n&&!a&&i(e),d=!n&&!a&&!c&&u(e),h=n||a||c||d,f=h?r(e.length,String):[],m=f.length;for(var y in e)!t&&!p.call(e,y)||h&&("length"==y||c&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||l(y,m))||f.push(y);return f}var r=n(310),o=n(245),s=n(251),i=n(311),l=n(314),u=n(315),c=Object.prototype,p=c.hasOwnProperty;e.exports=a},function(e,t){function n(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}e.exports=n},function(e,t,n){(function(e){var a=n(243),r=n(313),o="object"==typeof t&&t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=s&&s.exports===o,l=i?a.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;e.exports=c}).call(t,n(312)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e,t){return t=null==t?a:t,!!t&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var a=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var a=n(316),r=n(318),o=n(319),s=o&&o.isTypedArray,i=s?r(s):a;e.exports=i},function(e,t,n){function a(e){return s(e)&&o(e.length)&&!!P[r(e)]}var r=n(247),o=n(317),s=n(250),i="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",p="[object Error]",d="[object Function]",h="[object Map]",f="[object Number]",m="[object Object]",y="[object RegExp]",g="[object Set]",v="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",k="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",S="[object Uint32Array]",P={};P[k]=P[j]=P[x]=P[T]=P[E]=P[C]=P[R]=P[M]=P[S]=!0,P[i]=P[l]=P[w]=P[u]=P[_]=P[c]=P[p]=P[d]=P[h]=P[f]=P[m]=P[y]=P[g]=P[v]=P[b]=!1,e.exports=a},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}var a=9007199254740991;e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var a=n(244),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r,i=s&&a.process,l=function(){try{return i&&i.binding("util")}catch(e){}}();e.exports=l}).call(t,n(312)(e))},function(e,t,n){function a(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n(321),o=n(322),s=Object.prototype,i=s.hasOwnProperty;e.exports=a},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||a;return e===n}var a=Object.prototype;e.exports=n},function(e,t,n){var a=n(323),r=a(Object.keys,Object);e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function a(e){return null!=e&&o(e.length)&&!r(e)}var r=n(274),o=n(317);e.exports=a},function(e,t,n){var a=n(326),r=n(271),o=n(327),s=n(328),i=n(329),l=n(247),u=n(278),c="[object Map]",p="[object Object]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",m="[object DataView]",y=u(a),g=u(r),v=u(o),b=u(s),w=u(i),_=l;(a&&_(new a(new ArrayBuffer(1)))!=m||r&&_(new r)!=c||o&&_(o.resolve())!=d||s&&_(new s)!=h||i&&_(new i)!=f)&&(_=function(e){var t=l(e),n=t==p?e.constructor:void 0,a=n?u(n):"";if(a)switch(a){case y:return m;case g:return c;case v:return d;case b:return h;case w:return f}return t}),e.exports=_},function(e,t,n){var a=n(272),r=n(243),o=a(r,"DataView");e.exports=o},function(e,t,n){var a=n(272),r=n(243),o=a(r,"Promise");e.exports=o},function(e,t,n){var a=n(272),r=n(243),o=a(r,"Set");e.exports=o},function(e,t,n){var a=n(272),r=n(243),o=a(r,"WeakMap");e.exports=o},function(e,t,n){function a(e){for(var t=o(e),n=t.length;n--;){var a=t[n],s=e[a];t[n]=[a,s,r(s)]}return t}var r=n(331),o=n(308);e.exports=a},function(e,t,n){function a(e){return e===e&&!r(e)}var r=n(275);e.exports=a},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){function a(e,t){return i(e)&&l(t)?u(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?s(n,e):r(t,a,void 0,p|d)}}var r=n(295),o=n(334),s=n(345),i=n(343),l=n(331),u=n(332),c=n(344),p=1,d=2;e.exports=a},function(e,t,n){function a(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}var r=n(335);e.exports=a},function(e,t,n){function a(e,t){t=o(t,e)?[t]:r(t);for(var n=0,a=t.length;null!=e&&n<a;)e=e[s(t[n++])];return n&&n==a?e:void 0}var r=n(336),o=n(343),s=n(344);e.exports=a},function(e,t,n){function a(e){return r(e)?e:o(e)}var r=n(251),o=n(337);e.exports=a},function(e,t,n){var a=n(338),r=n(340),o=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,l=a(function(e){e=r(e);var t=[];return o.test(e)&&t.push(""),e.replace(s,function(e,n,a,r){t.push(a?r.replace(i,"$1"):n||e)}),t});e.exports=l},function(e,t,n){function a(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var r=n(339),o=500;e.exports=a},function(e,t,n){function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,a);return n.cache=o.set(r,s)||o,s};return n.cache=new(a.Cache||r),n}var r=n(280),o="Expected a function";a.Cache=r,e.exports=a},function(e,t,n){function a(e){return null==e?"":r(e)}var r=n(341);e.exports=a},function(e,t,n){function a(e){if("string"==typeof e)return e;if(s(e))return o(e,a)+"";if(i(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=n(242),o=n(253),s=n(251),i=n(342),l=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=a},function(e,t,n){function a(e){return"symbol"==typeof e||o(e)&&r(e)==s}var r=n(247),o=n(250),s="[object Symbol]";e.exports=a},function(e,t,n){function a(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(i.test(e)||!s.test(e)||null!=t&&e in Object(t))}var r=n(251),o=n(342),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=a},function(e,t,n){function a(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var r=n(342),o=1/0;e.exports=a},function(e,t,n){function a(e,t){return null!=e&&o(e,t,r)}var r=n(346),o=n(347);e.exports=a},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function a(e,t,n){t=l(t,e)?[t]:r(t);for(var a=-1,p=t.length,d=!1;++a<p;){var h=c(t[a]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++a!=p?d:(p=null==e?0:e.length,!!p&&u(p)&&i(h,p)&&(s(e)||o(e)))}var r=n(336),o=n(245),s=n(251),i=n(314),l=n(343),u=n(317),c=n(344);e.exports=a},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function a(e){return s(e)?r(i(e)):o(e)}var r=n(350),o=n(351),s=n(343),i=n(344);e.exports=a},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function a(e){return function(t){return r(t,e)}}var r=n(335);e.exports=a},function(e,t,n){function a(e,t){var n=-1,a=o(e)?Array(e.length):[];return r(e,function(e,r,o){a[++n]=t(e,r,o)}),a}var r=n(353),o=n(324);e.exports=a},function(e,t,n){var a=n(354),r=n(357),o=r(a);e.exports=o},function(e,t,n){function a(e,t){return e&&r(e,t,o)}var r=n(355),o=n(308);e.exports=a},function(e,t,n){var a=n(356),r=a();e.exports=r},function(e,t){function n(e){return function(t,n,a){for(var r=-1,o=Object(t),s=a(t),i=s.length;i--;){var l=s[e?i:++r];if(n(o[l],l,o)===!1)break}return t}}e.exports=n},function(e,t,n){function a(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,s=t?o:-1,i=Object(n);(t?s--:++s<o)&&a(i[s],s,i)!==!1;);return n}}var r=n(324);e.exports=a},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t,n){function a(e,t,n){for(var a=-1,o=e.criteria,s=t.criteria,i=o.length,l=n.length;++a<i;){var u=r(o[a],s[a]);if(u){if(a>=l)return u;var c=n[a];return u*("desc"==c?-1:1)}}return e.index-t.index}var r=n(360);e.exports=a},function(e,t,n){function a(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e===e,s=r(e),i=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!s&&e>t||s&&i&&u&&!l&&!c||a&&i&&u||!n&&u||!o)return 1;if(!a&&!s&&!c&&e<t||c&&n&&o&&!a&&!s||l&&n&&o||!i&&o||!u)return-1}return 0}var r=n(342);e.exports=a},function(e,t,n){function a(e,t){return s(o(e,t,r),e+"")}var r=n(348),o=n(362),s=n(364);e.exports=a},function(e,t,n){function a(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=o(a.length-t,0),l=Array(i);++s<i;)l[s]=a[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=a[s];return u[t]=n(l),r(e,this,u)}}var r=n(363),o=Math.max;e.exports=a},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var a=n(365),r=n(368),o=r(a);e.exports=o},function(e,t,n){var a=n(366),r=n(367),o=n(348),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:o;e.exports=s},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){var a=n(272),r=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t){function n(e){var t=0,n=0;return function(){var s=o(),i=r-(s-n);if(n=s,i>0){if(++t>=a)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var a=800,r=16,o=Date.now;e.exports=n},function(e,t,n){function a(e,t,n){if(!i(n))return!1;var a=typeof t;return!!("number"==a?o(n)&&s(t,n.length):"string"==a&&t in n)&&r(n[t],e)}var r=n(262),o=n(324),s=n(314),i=n(275);e.exports=a},function(e,t,n){function a(e,t){var n=i(e)?r:o;return n(e,s(t,3))}var r=n(371),o=n(372),s=n(254),i=n(251);e.exports=a},function(e,t){function n(e,t){for(var n=-1,a=null==e?0:e.length,r=0,o=[];++n<a;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}e.exports=n},function(e,t,n){function a(e,t){var n=[];return r(e,function(e,a,r){t(e,a,r)&&n.push(e)}),n}var r=n(353);e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(374),o=(a(r),n(375),n(172)),s=(a(o),function(e){return e});e.exports={prefixLink:s}},function(e,t,n){function a(e){return"string"==typeof e||!o(e)&&s(e)&&r(e)==i}var r=n(247),o=n(251),s=n(250),i="[object String]";e.exports=a},function(e,t){e.exports={config:{blogTitle:"Marc-Andre Giroux's Blog",authorName:"Marc-Andre Giroux",linkPrefix:""},relativePath:"",pages:[{file:{root:"",dir:"",base:"_template.js",ext:"js",name:"_template",extname:".js",basename:"_template.js",dirname:"",stem:"_template",path:"_template.js",absolute:"/Users/xuorig/Code/xuorig/_template.js",isAbsolute:!1},requirePath:"_template.js",templatePath:"//",data:{}},{file:{root:"",dir:"2013/reatime-with-rails",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2013/reatime-with-rails",stem:"index",path:"2013/reatime-with-rails/index.md",absolute:"/Users/xuorig/Code/xuorig/2013/reatime-with-rails/index.md",isAbsolute:!1},requirePath:"2013/reatime-with-rails/index.md",path:"/2013/reatime-with-rails/",data:{title:"Realtime with Rails ",date:"2015-08-29T10:18:00.000Z",description:"Server sent events and Postgres notify/listen"}},{file:{root:"",dir:"2015/getting-started-with-rails-graphql-relay",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2015/getting-started-with-rails-graphql-relay",stem:"index",path:"2015/getting-started-with-rails-graphql-relay/index.md",absolute:"/Users/xuorig/Code/xuorig/2015/getting-started-with-rails-graphql-relay/index.md",isAbsolute:!1},requirePath:"2015/getting-started-with-rails-graphql-relay/index.md",path:"/2015/getting-started-with-rails-graphql-relay/",data:{title:"Getting started with Rails and GraphQL",date:"2015-11-11T11:00:00.000Z",description:"How to get started with a Rails GraphQL API"}},{file:{root:"",dir:"2015/uploading-files-using-relay-with-rails",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2015/uploading-files-using-relay-with-rails",stem:"index",path:"2015/uploading-files-using-relay-with-rails/index.md",absolute:"/Users/xuorig/Code/xuorig/2015/uploading-files-using-relay-with-rails/index.md",isAbsolute:!1},requirePath:"2015/uploading-files-using-relay-with-rails/index.md",path:"/2015/uploading-files-using-relay-with-rails/",data:{title:"Uploading files using Relay and a Rails GraphQL server",date:"2015-12-10T10:18:00.000Z",description:"How to upload a file using GraphQL-ruby's context and Relay's getFiles"}},{file:{root:"",dir:"2016/graphql-on-rails-talk-montrealrb",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/graphql-on-rails-talk-montrealrb",stem:"index",path:"2016/graphql-on-rails-talk-montrealrb/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/graphql-on-rails-talk-montrealrb/index.md",isAbsolute:!1},requirePath:"2016/graphql-on-rails-talk-montrealrb/index.md",path:"/2016/graphql-on-rails-talk-montrealrb/",data:{title:"GraphQL on Rails Talk @ Montreal.rb",date:"2016-03-15T10:00:00.000Z",description:"My talk on GraphQL at the Montreal.rb meetup"}},{file:{root:"",dir:"2016/graphql-query-caching-with-rails",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/graphql-query-caching-with-rails",stem:"index",path:"2016/graphql-query-caching-with-rails/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/graphql-query-caching-with-rails/index.md",isAbsolute:!1},requirePath:"2016/graphql-query-caching-with-rails/index.md",path:"/2016/graphql-query-caching-with-rails/",data:{title:"Caching GraphQL queries with GraphQL-ruby and Rails",date:"2016-06-07T08:00:00.000Z",description:"How to avoid parsing GraphQL queries everytime and how to cache GraphQL documents"}},{file:{root:"",dir:"2016/implementing-the-relay-spec-for-a-graphql-server",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/implementing-the-relay-spec-for-a-graphql-server",stem:"index",path:"2016/implementing-the-relay-spec-for-a-graphql-server/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/implementing-the-relay-spec-for-a-graphql-server/index.md",isAbsolute:!1},requirePath:"2016/implementing-the-relay-spec-for-a-graphql-server/index.md",path:"/2016/implementing-the-relay-spec-for-a-graphql-server/",data:{title:"Implementing the Relay spec in a GraphQL server",date:"2016-03-27T10:00:00.000Z",description:"The difference between a vanila GraphQL server and a Relay compatible one, and how to implement the spec."}},{file:{root:"",dir:"2016/inner-workings-relay-mutations",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/inner-workings-relay-mutations",stem:"index",path:"2016/inner-workings-relay-mutations/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/inner-workings-relay-mutations/index.md",isAbsolute:!1},requirePath:"2016/inner-workings-relay-mutations/index.md",path:"/2016/inner-workings-relay-mutations/",data:{title:"The Inner Workings of Relay Mutations (part 1)",date:"2016-11-20T10:00:00.000Z",description:"How relay interprets your fatQuery and configurations"}},{file:{root:"",dir:"2016/instrumenting-rails-apps",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/instrumenting-rails-apps",stem:"index",path:"2016/instrumenting-rails-apps/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/instrumenting-rails-apps/index.md",isAbsolute:!1},requirePath:"2016/instrumenting-rails-apps/index.md",path:"/2016/instrumenting-rails-apps/",data:{title:"Instrumenting Rails apps without impacting performance: Behind New Relic's Ruby Client",date:"2016-10-08T12:00:00.000Z",description:"My deep dive notes on RPM: New Relic's Ruby Client"}},{file:{root:"",dir:"2016/journey-into-graphql-ruby-query-execution",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/journey-into-graphql-ruby-query-execution",stem:"index",path:"2016/journey-into-graphql-ruby-query-execution/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/journey-into-graphql-ruby-query-execution/index.md",isAbsolute:!1},requirePath:"2016/journey-into-graphql-ruby-query-execution/index.md",path:"/2016/journey-into-graphql-ruby-query-execution/",data:{title:"My journey into GraphQL-Ruby's query execution",date:"2016-02-14T11:00:00.000Z",description:"Overview of how GraphQL-Ruby resolves GraphQL queries using it's Executor"}},{file:{root:"",dir:"2016/navigating-large-codebases",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/navigating-large-codebases",stem:"index",path:"2016/navigating-large-codebases/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/navigating-large-codebases/index.md",isAbsolute:!1},requirePath:"2016/navigating-large-codebases/index.md",path:"/2016/navigating-large-codebases/",data:{title:"Navigating and understanding large code bases",date:"2016-11-12T11:00:00.000Z",description:"How to quickly get up and running within a new project or understand an open source library."}},{file:{root:"",dir:"2016/quick-dive-into-relay-query-fetching",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/quick-dive-into-relay-query-fetching",stem:"index",path:"2016/quick-dive-into-relay-query-fetching/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/quick-dive-into-relay-query-fetching/index.md",isAbsolute:!1},requirePath:"2016/quick-dive-into-relay-query-fetching/index.md",path:"/2016/quick-dive-into-relay-query-fetching/",data:{title:"A quick dive into how relay fetches GraphQL queries",date:"2016-01-31T17:00:00.000Z",description:"Quick intro to how Relay fetches GrapQL queries and caches it's results."
}},{file:{root:"",dir:"2016/realtime-updates-with-relay",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/realtime-updates-with-relay",stem:"index",path:"2016/realtime-updates-with-relay/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/realtime-updates-with-relay/index.md",isAbsolute:!1},requirePath:"2016/realtime-updates-with-relay/index.md",path:"/2016/realtime-updates-with-relay/",data:{title:"Real time updates with Relay and Rails' ActionCable",date:"2016-05-29T10:00:00.000Z",description:"Setting up live updates with Rails' ActionCable, GraphQL and Relay"}},{file:{root:"",dir:"2016/relays-apply-update-function",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/relays-apply-update-function",stem:"index",path:"2016/relays-apply-update-function/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/relays-apply-update-function/index.md",isAbsolute:!1},requirePath:"2016/relays-apply-update-function/index.md",path:"/2016/relays-apply-update-function/",data:{title:"Relay's new applyUpdate function",date:"2016-01-10T17:00:00.000Z",description:"How to use Relay's applyUpdate function and retry a failed transaction"}},{file:{root:"",dir:"2016/setting-up-graphiql-with-rails",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/setting-up-graphiql-with-rails",stem:"index",path:"2016/setting-up-graphiql-with-rails/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/setting-up-graphiql-with-rails/index.md",isAbsolute:!1},requirePath:"2016/setting-up-graphiql-with-rails/index.md",path:"/2016/setting-up-graphiql-with-rails/",data:{title:"Setting up GraphiQL in a Rails Application",date:"2016-02-20T12:00:00.000Z",description:"Learn how to setup GraphiQL in your Rails Application and test your queries without problem"}},{file:{root:"",dir:"2016/the-mysterious-relay-range-behaviours",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/the-mysterious-relay-range-behaviours",stem:"index",path:"2016/the-mysterious-relay-range-behaviours/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/the-mysterious-relay-range-behaviours/index.md",isAbsolute:!1},requirePath:"2016/the-mysterious-relay-range-behaviours/index.md",path:"/2016/the-mysterious-relay-range-behaviours/",data:{title:"RANGE_ADD mutations and the mysterious Relay Range Behaviors",date:"2016-05-06T10:00:00.000Z",description:"Demystifying Relay Range Behaviors when using RANGE_ADD mutations"}},{file:{root:"",dir:"2016/token-auth-in-relay-app-using-rails",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"2016/token-auth-in-relay-app-using-rails",stem:"index",path:"2016/token-auth-in-relay-app-using-rails/index.md",absolute:"/Users/xuorig/Code/xuorig/2016/token-auth-in-relay-app-using-rails/index.md",isAbsolute:!1},requirePath:"2016/token-auth-in-relay-app-using-rails/index.md",path:"/2016/token-auth-in-relay-app-using-rails/",data:{title:"Authentication in Relay Applications using Rails and GraphQL",date:"2016-03-06T10:00:00.000Z",description:"Using an Authorization Token to enable authentication in Relay applications using Rails with Devise and GraphQL"}},{file:{root:"",dir:"",base:"index.js",ext:"js",name:"index",extname:".js",basename:"index.js",dirname:"",stem:"index",path:"index.js",absolute:"/Users/xuorig/Code/xuorig/index.js",isAbsolute:!1},requirePath:"index.js",path:"/",data:{}},{file:{root:"",dir:"",base:"index.md",ext:"md",name:"index",extname:".md",basename:"index.md",dirname:"",stem:"index",path:"index.md",absolute:"/Users/xuorig/Code/xuorig/index.md",isAbsolute:!1},requirePath:"index.md",path:"/404.html",data:{path:"/404.html"}},{file:{root:"",dir:"speaking",base:"index.js",ext:"js",name:"index",extname:".js",basename:"index.js",dirname:"speaking",stem:"index",path:"speaking/index.js",absolute:"/Users/xuorig/Code/xuorig/speaking/index.js",isAbsolute:!1},requirePath:"speaking/index.js",path:"/speaking/",data:{}}]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=(n(164),n(377)),p=(n(373),n(375),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=(e.location,e.children);return u.default.createElement(c.Container,null,t)}}]),t}(u.default.Component));p.propTypes={children:u.default.PropTypes.any,location:u.default.PropTypes.object,route:u.default.PropTypes.object},t.default=p,e.exports=t.default},function(e,t,n){t.Container=n(378),t.Grid=n(379),t.Breakpoint=n(380),t.Span=n(387)},function(e,t,n){var a,r;a=n(2),r=n(4),e.exports=a.createClass({displayName:"Container",render:function(){var e,t,n,o;return t={maxWidth:"960px",marginLeft:"auto",marginRight:"auto"},o=r(t,this.props.style),e=this.props.children,n=r({},this.props),delete n.children,delete n.style,a.createElement("div",Object.assign({},n,{style:o}),e,a.createElement("span",{style:{display:"block",clear:"both"}}," "))}})},function(e,t,n){var a,r;a=n(2),r=n(4),e.exports=a.createClass({displayName:"Grid",propTypes:{columns:a.PropTypes.number,gutterRatio:a.PropTypes.number},getDefaultProps:function(){return{columns:12,gutterRatio:.25}},renderChildren:function(){return a.Children.map(this.props.children,function(e){return function(t){var n,r;return"Breakpoint"===(n=null!=(r=t.type)?r.displayName:void 0)||"Span"===n?a.cloneElement(t,{context:{columns:e.props.columns,gutterRatio:e.props.gutterRatio}}):t}}(this))},render:function(){var e;return e=r({},this.props),delete e.gutterRatio,delete e.columns,a.createElement("div",Object.assign({},e),this.renderChildren(),a.createElement("span",{style:{display:"block",clear:"both"}}," "))}})},function(e,t,n){var a,r,o,s,i,l;s=n(2),i=n(381),o=n(383),l=n(4),a=s.createClass({displayName:"Breakpoint",mixins:[i],propTypes:{minWidth:s.PropTypes.number,maxWidth:s.PropTypes.number},getDefaultProps:function(){return{minWidth:0,maxWidth:1e21}},renderChildren:function(){return s.Children.map(this.props.children,function(e){return function(t){var n;return"Span"===(null!=t&&null!=(n=t.type)?n.displayName:void 0)?s.cloneElement(t,{context:e.props.context}):t}}(this))},render:function(){var e,t;return e=l({},this.props),delete e.maxWidth,delete e.minWidth,delete e.widthMethod,this.state.componentWidth&&this.props.minWidth<=(t=this.state.componentWidth)&&t<this.props.maxWidth?s.createElement("div",Object.assign({},e),this.renderChildren()):s.createElement("div",null)}}),r=s.createClass({displayName:"Breakpoint",mixins:[o],propTypes:{minWidth:s.PropTypes.number,maxWidth:s.PropTypes.number},getDefaultProps:function(){return{minWidth:0,maxWidth:1e21}},renderChildren:function(){return s.Children.map(this.props.children,function(e){return function(t){var n;return"Span"===(null!=(n=t.type)?n.displayName:void 0)?s.cloneElement(t,{context:e.props.context}):t}}(this))},render:function(){var e,t;return e=l({},this.props),delete e.maxWidth,delete e.minWidth,delete e.widthMethod,this.state.pageWidth&&this.props.minWidth<=(t=this.state.pageWidth)&&t<this.props.maxWidth?s.createElement("div",Object.assign({},e),this.renderChildren()):s.createElement("div",null)}}),e.exports=s.createClass({displayName:"Breakpoint",propTypes:{widthMethod:s.PropTypes.string.isRequired,minWidth:s.PropTypes.number,maxWidth:s.PropTypes.number},getDefaultProps:function(){return{widthMethod:"pageWidth"}},render:function(){return"pageWidth"===this.props.widthMethod?s.createElement(r,Object.assign({},this.props)):"componentWidth"===this.props.widthMethod?s.createElement(a,Object.assign({},this.props)):void 0}})},function(e,t,n){var a=n(31),r=n(382);e.exports={getInitialState:function(){return void 0!==this.props.initialComponentWidth&&null!==this.props.initialComponentWidth?{componentWidth:this.props.initialComponentWidth}:{}},componentDidMount:function(){this.setState({componentWidth:a.findDOMNode(this).getBoundingClientRect().width}),r(a.findDOMNode(this),this.onResize)},componentDidUpdate:function(){0===a.findDOMNode(this).getElementsByClassName("resize-sensor").length&&r(a.findDOMNode(this),this.onResize)},onResize:function(){this.setState({componentWidth:a.findDOMNode(this).getBoundingClientRect().width})}}},function(e,t){var t=function(e,t){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&u(t.__resizeRAF__),t.__resizeRAF__=o(function(){var n=t.__resizeTrigger__;void 0!==n&&n.__resizeListeners__.forEach(function(t){t.call(n,e)})})}function a(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)}var r,o,s=this,i=s.document,l=i.attachEvent;"undefined"!=typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),o=function(){var e=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||function(e){return s.setTimeout(e,20)};return function(t){return e(t)}}();var u=function(){var e=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame||s.clearTimeout;return function(t){return e(t)}}();if(!e.__resizeListeners__)if(e.__resizeListeners__=[],l)e.__resizeTrigger__=e,e.attachEvent("onresize",n);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var c=e.__resizeTrigger__=i.createElement("object");c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),c.setAttribute("class","resize-sensor"),c.__resizeElement__=e,c.onload=a,c.type="text/html",r&&e.appendChild(c),c.data="about:blank",r||e.appendChild(c)}e.__resizeListeners__.push(t)};t.unbind=function(e,t){var n=document.attachEvent;e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(n?e.detachEvent("onresize",resizeListener):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",resizeListener),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)))},e.exports="undefined"==typeof window?t:t.bind(window)},function(e,t,n){var a;a=n(384),e.exports={getInitialState:function(){return this.props.initialPageWidth?{pageWidth:this.props.initialPageWidth}:{}},componentDidMount:function(){return a.on(this.onResize)},componentWillUnmount:function(){return a.off(this.onResize)},onResize:function(e){return this.setState({pageWidth:e})}}},function(e,t,n){var a,r,o,s,i,l;o=n(385),a=void 0,s=[],i=!1,"undefined"!=typeof window&&null!==window&&(a=window.innerWidth),r=function(){if(!i)return i=!0,o(l)},l=function(){var e,t,n;for(a=window.innerWidth,e=0,t=s.length;e<t;e++)(n=s[e])(a);return i=!1},"undefined"!=typeof window&&null!==window&&window.addEventListener("resize",r),e.exports={on:function(e){return e(a),s.push(e)},off:function(e){return s.splice(s.indexOf(e),1)}}},function(e,t,n){for(var a=n(386),r="undefined"==typeof window?{}:window,o=["moz","webkit"],s="AnimationFrame",i=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],u=!0,c=0;c<o.length&&!i;c++)i=r[o[c]+"Request"+s],l=r[o[c]+"Cancel"+s]||r[o[c]+"CancelRequest"+s];if(!i||!l){u=!1;var p=0,d=0,h=[],f=1e3/60;i=function(e){if(0===h.length){var t=a(),n=Math.max(0,f-(t-p));p=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(p)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return u?i.call(r,function(){try{e.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}}):i.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)}},function(e,t,n){(function(t){(function(){var n,a,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},a=t.hrtime,n=function(){var e;return e=a(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(112))},function(e,t,n){var a,r,o;a=n(2),r=n(4),o=n(388),e.exports=a.createClass({displayName:"Span",propTypes:{context:a.PropTypes.object,columns:a.PropTypes.number,at:a.PropTypes.number,pre:a.PropTypes.number,post:a.PropTypes.number,squish:a.PropTypes.number,last:a.PropTypes.bool,break:a.PropTypes.bool},getDefaultProps:function(){return{at:0,pre:0,post:0,squish:0,last:!1,first:!1,break:!1}},renderChildren:function(){return a.Children.map(this.props.children,function(e){return function(t){var n;return"Span"===(null!=t&&null!=(n=t.type)?n.displayName:void 0)?a.cloneElement(t,{context:{columns:e.props.columns,gutterRatio:e.props.context.gutterRatio}}):t}}(this))},render:function(){var e,t;return t=o({contextColumns:this.props.context.columns,gutterRatio:this.props.context.gutterRatio,columns:this.props.columns,at:this.props.at,pre:this.props.pre,post:this.props.post,squish:this.props.squish,last:this.props.last,break:this.props.break}),t=r(t,this.props.style),e=r({},this.props,{style:t}),delete e.at,delete e.break,delete e.columns,delete e.context,delete e.first,delete e.last,delete e.post,delete e.pre,delete e.squish,delete e.style,a.createElement("div",Object.assign({},e,{style:t}),this.renderChildren(),a.createElement("span",{style:{display:"block",clear:"both"}}," "))}})},function(e,t,n){var a;a=n(4),e.exports=function(e){var t,n,r,o,s,i,l,u,c,p;return r={columns:3,at:0,pre:0,post:0,squish:0,contextColumns:12,gutterRatio:.25,first:!1,last:!1},c=a(r,e),u=100/(c.contextColumns+(c.contextColumns-1)*c.gutterRatio),s=c.gutterRatio*u,n=function(e){return u*e+s*(e-1)},t=function(e){return 0===e?0:n(e)+s},p=n(c.columns),i=0===c.at&&0===c.pre&&0===c.squish?0:t(c.at)+t(c.pre)+t(c.squish),c.last&&0===c.post&&0===c.squish?l=0:0!==c.post||0!==c.squish?(l=t(c.post)+t(c.squish),c.last||(l+=s)):l=s,o=c.last?"right":"left",p+="%",i+="%",l+="%",{float:o,marginLeft:i,marginRight:l,width:p,clear:c.break?"both":"none"}}},function(e,t,n){function a(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./md":390,"./md.js":390};a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=389},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=n(391),p=a(c),d=n(392),h=a(d),f=n(396),m=a(f),y=n(375),g=n(470),v=(a(g),n(473)),b=a(v),w=n(373),_=n(164);n(474),n(475),n(476);var k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.route,t=e.page.data,n=(0,p.default)(t.date).format("LL"),a=t.title||y.config.blogTitle;return u.default.createElement("div",{className:"wrapper markdown"},u.default.createElement(h.default,{title:a,meta:[{name:"description",content:t.description}]}),u.default.createElement("h1",{className:"post__title"},t.title),u.default.createElement("p",{className:"post__date"},n),u.default.createElement("p",{className:"post__author"},"by ",u.default.createElement(_.Link,{to:"/"},"Marc-Andre Giroux")),u.default.createElement("div",{dangerouslySetInnerHTML:{__html:t.body}}),u.default.createElement("p",{style:{textAlign:"center",fontWeight:"bold",marginTop:30}},"Go back to ",u.default.createElement(_.Link,{to:(0,w.prefixLink)("/")},"Recent Posts")," ✍️"),u.default.createElement("hr",null),u.default.createElement(m.default,{post:t,pages:e.pages}),u.default.createElement(b.default,null))}}]),t}(u.default.Component);k.propTypes={route:u.default.PropTypes.object},t.default=k,e.exports=t.default},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(this,function(){"use strict";function t(){return fa.apply(null,arguments)}function n(e){fa=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,a){return gt(e,t,n,a,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(e){return null==e._pf&&(e._pf=p()),e._pf}function h(e){if(null==e._isValid){var t=d(e),n=ma.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function f(e){var t=c(NaN);return null!=e?u(d(t),e):d(t).userInvalidated=!0,t}function m(e){return void 0===e}function y(e,t){var n,a,r;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=d(t)),m(t._locale)||(e._locale=t._locale),ya.length>0)for(n in ya)a=ya[n],r=t[a],m(r)||(e[a]=r);return e}function g(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),ga===!1&&(ga=!0,t.updateOffset(this),ga=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function _(e,t,n){var a,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&w(e[a])!==w(t[a]))&&s++;return s+o}function k(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function j(e,n){var a=!0;return u(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),a){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){r+="\n["+s+"] ";for(var i in arguments[0])r+=i+": "+arguments[0][i]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}k(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),a=!1}return n.apply(this,arguments)},n)}function x(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),va[e]||(k(n),va[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e){var t,n;for(n in e)t=e[n],T(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function C(e,t){var n,a=u({},e);for(n in t)l(t,n)&&(r(e[n])&&r(t[n])?(a[n]={},u(a[n],e[n]),u(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)l(e,n)&&!l(t,n)&&r(e[n])&&(a[n]=u({},a[n]));return a}function R(e){null!=e&&this.set(e)}function M(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return T(a)?a.call(t,n):a}function S(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function P(){return this._invalidDate}function O(e){return this._ordinal.replace("%d",e)}function A(e,t,n,a){var r=this._relativeTime[n];return T(r)?r(e,t,n,a):r.replace(/%d/i,e)}function L(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}function I(e,t){var n=e.toLowerCase();Ca[n]=Ca[n+"s"]=Ca[t]=e}function N(e){return"string"==typeof e?Ca[e]||Ca[e.toLowerCase()]:void 0}function D(e){var t,n,a={};for(n in e)l(e,n)&&(t=N(n),t&&(a[t]=e[n]));return a}function q(e,t){Ra[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:Ra[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(e,n){return function(a){return null!=a?(W(this,e,a),t.updateOffset(this,n),this):G(this,e)}}function G(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function W(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function Q(e){return e=N(e),T(this[e])?this[e]():this}function H(e,t){if("object"==typeof e){e=D(e);for(var n=U(e),a=0;a<n.length;a++)this[n[a].unit](e[n[a].unit])}else if(e=N(e),T(this[e]))return this[e](t);return this}function B(e,t,n){var a=""+Math.abs(e),r=t-a.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}function Y(e,t,n,a){var r=a;"string"==typeof a&&(r=function(){return this[a]()}),e&&(Oa[e]=r),t&&(Oa[t[0]]=function(){return B(r.apply(this,arguments),t[1],t[2])}),n&&(Oa[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,a=e.match(Ma);for(t=0,n=a.length;t<n;t++)Oa[a[t]]?a[t]=Oa[a[t]]:a[t]=V(a[t]);return function(t){var r,o="";for(r=0;r<n;r++)o+=a[r]instanceof Function?a[r].call(t,e):a[r];return o}}function K(e,t){return e.isValid()?(t=Z(t,e.localeData()),Pa[t]=Pa[t]||z(t),Pa[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(Sa.lastIndex=0;a>=0&&Sa.test(e);)e=e.replace(Sa,n),Sa.lastIndex=0,a-=1;return e}function $(e,t,n){Za[e]=T(t)?t:function(e,a){return e&&n?n:t}}function X(e,t){return l(Za,e)?Za[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,r){return t||n||a||r}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,a=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(a=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)$a[e[n]]=a}function ne(e,t){te(e,function(e,n,a,r){a._w=a._w||{},t(e,a._w,a,r)})}function ae(e,t,n){null!=t&&l($a,e)&&$a[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ir).test(t)?"format":"standalone"][e.month()]:this._months}function se(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ir.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function ie(e,t,n){var a,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)o=c([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=wa.call(this._shortMonthsParse,s),r!==-1?r:null):(r=wa.call(this._longMonthsParse,s),r!==-1?r:null):"MMM"===t?(r=wa.call(this._shortMonthsParse,s),r!==-1?r:(r=wa.call(this._longMonthsParse,s),r!==-1?r:null)):(r=wa.call(this._longMonthsParse,s),r!==-1?r:(r=wa.call(this._shortMonthsParse,s),r!==-1?r:null))}function le(e,t,n){var a,r,o;if(this._monthsParseExact)return ie.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=c([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(e){return null!=e?(ue(this,e),t.updateOffset(this,!0),this):G(this,"Month")}function pe(){return re(this.year(),this.month())}function de(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=cr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=pr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,a=[],r=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),a.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(a.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)a[t]=ee(a[t]),r[t]=ee(r[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function me(e){return ye(e)?366:365}function ye(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ye(this.year())}function ve(e,t,n,a,r,o,s){var i=new Date(e,t,n,a,r,o,s);return e<100&&e>=0&&isFinite(i.getFullYear())&&i.setFullYear(e),i}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var a=7+t-n,r=(7+be(e,0,a).getUTCDay()-t)%7;return-r+a-1}function _e(e,t,n,a,r){var o,s,i=(7+n-a)%7,l=we(e,a,r),u=1+7*(t-1)+i+l;return u<=0?(o=e-1,s=me(o)+u):u>me(e)?(o=e+1,s=u-me(e)):(o=e,s=u),{year:o,dayOfYear:s}}function ke(e,t,n){var a,r,o=we(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(r=e.year()-1,a=s+je(r,t,n)):s>je(e.year(),t,n)?(a=s-je(e.year(),t,n),r=e.year()+1):(r=e.year(),a=s),{week:a,year:r}}function je(e,t,n){var a=we(e,t,n),r=we(e+1,t,n);return(me(e)-a+r)/7}function xe(e){return ke(e,this._week.dow,this._week.doy).week}function Te(){return this._week.dow}function Ee(){return this._week.doy}function Ce(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Re(e){var t=ke(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Me(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Se(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e?a(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Oe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ae(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Le(e,t,n){var a,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)o=c([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=wa.call(this._weekdaysParse,s),r!==-1?r:null):"ddd"===t?(r=wa.call(this._shortWeekdaysParse,s),r!==-1?r:null):(r=wa.call(this._minWeekdaysParse,s),r!==-1?r:null):"dddd"===t?(r=wa.call(this._weekdaysParse,s),r!==-1?r:(r=wa.call(this._shortWeekdaysParse,s),r!==-1?r:(r=wa.call(this._minWeekdaysParse,s),r!==-1?r:null))):"ddd"===t?(r=wa.call(this._shortWeekdaysParse,s),r!==-1?r:(r=wa.call(this._weekdaysParse,s),r!==-1?r:(r=wa.call(this._minWeekdaysParse,s),r!==-1?r:null))):(r=wa.call(this._minWeekdaysParse,s),r!==-1?r:(r=wa.call(this._weekdaysParse,s),r!==-1?r:(r=wa.call(this._shortWeekdaysParse,s),r!==-1?r:null)))}function Ie(e,t,n){var a,r,o;if(this._weekdaysParseExact)return Le.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=c([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[a]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(n&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(n&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Me(e,this.localeData()),this.add(e-t,"d")):t}function De(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Se(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=gr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vr),
this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ge(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=br),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function We(){function e(e,t){return t.length-e.length}var t,n,a,r,o,s=[],i=[],l=[],u=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),a=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(a),i.push(r),l.push(o),u.push(a),u.push(r),u.push(o);for(s.sort(e),i.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)i[t]=ee(i[t]),l[t]=ee(l[t]),u[t]=ee(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qe(){return this.hours()%12||12}function He(){return this.hours()||24}function Be(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ye(e,t){return t._meridiemParse}function Ve(e){return"p"===(e+"").toLowerCase().charAt(0)}function ze(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,a,r,o=0;o<e.length;){for(r=Ke(e[o]).split("-"),t=r.length,n=Ke(e[o+1]),n=n?n.split("-"):null;t>0;){if(a=$e(r.slice(0,t).join("-")))return a;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}o++}return null}function $e(t){var n=null;if(!xr[t]&&"undefined"!=typeof e&&e&&e.exports)try{n=wr._abbr,!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),Xe(n)}catch(e){}return xr[t]}function Xe(e,t){var n;return e&&(n=m(t)?tt(e):Je(e,t),n&&(wr=n)),wr._abbr}function Je(e,t){if(null!==t){var n=jr;return t.abbr=e,null!=xr[e]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=xr[e]._config):null!=t.parentLocale&&(null!=xr[t.parentLocale]?n=xr[t.parentLocale]._config:x("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),xr[e]=new R(C(n,t)),Xe(e),xr[e]}return delete xr[e],null}function et(e,t){if(null!=t){var n,a=jr;null!=xr[e]&&(a=xr[e]._config),t=C(a,t),n=new R(t),n.parentLocale=xr[e],xr[e]=n,Xe(e)}else null!=xr[e]&&(null!=xr[e].parentLocale?xr[e]=xr[e].parentLocale:null!=xr[e]&&delete xr[e]);return xr[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wr;if(!a(e)){if(t=$e(e))return t;e=[e]}return Ze(e)}function nt(){return ba(xr)}function at(e){var t,n=e._a;return n&&d(e).overflow===-2&&(t=n[Ja]<0||n[Ja]>11?Ja:n[er]<1||n[er]>re(n[Xa],n[Ja])?er:n[tr]<0||n[tr]>24||24===n[tr]&&(0!==n[nr]||0!==n[ar]||0!==n[rr])?tr:n[nr]<0||n[nr]>59?nr:n[ar]<0||n[ar]>59?ar:n[rr]<0||n[rr]>999?rr:-1,d(e)._overflowDayOfYear&&(t<Xa||t>er)&&(t=er),d(e)._overflowWeeks&&t===-1&&(t=or),d(e)._overflowWeekday&&t===-1&&(t=sr),d(e).overflow=t),e}function rt(e){var t,n,a,r,o,s,i=e._i,l=Tr.exec(i)||Er.exec(i);if(l){for(d(e).iso=!0,t=0,n=Rr.length;t<n;t++)if(Rr[t][1].exec(l[1])){r=Rr[t][0],a=Rr[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=Mr.length;t<n;t++)if(Mr[t][1].exec(l[3])){o=(l[2]||" ")+Mr[t][0];break}if(null==o)return void(e._isValid=!1)}if(!a&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Cr.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),ct(e)}else e._isValid=!1}function ot(e){var n=Sr.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(rt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function it(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,a,r,o=[];if(!e._d){for(a=it(e),e._w&&null==e._a[er]&&null==e._a[Ja]&&ut(e),e._dayOfYear&&(r=st(e._a[Xa],a[Xa]),e._dayOfYear>me(r)&&(d(e)._overflowDayOfYear=!0),n=be(r,0,e._dayOfYear),e._a[Ja]=n.getUTCMonth(),e._a[er]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=a[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[tr]&&0===e._a[nr]&&0===e._a[ar]&&0===e._a[rr]&&(e._nextDay=!0,e._a[tr]=0),e._d=(e._useUTC?be:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[tr]=24)}}function ut(e){var t,n,a,r,o,s,i,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=st(t.GG,e._a[Xa],ke(vt(),1,4).year),a=st(t.W,1),r=st(t.E,1),(r<1||r>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,n=st(t.gg,e._a[Xa],ke(vt(),o,s).year),a=st(t.w,1),null!=t.d?(r=t.d,(r<0||r>6)&&(l=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),a<1||a>je(n,o,s)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(i=_e(n,a,r,o,s),e._a[Xa]=i.year,e._dayOfYear=i.dayOfYear)}function ct(e){if(e._f===t.ISO_8601)return void rt(e);e._a=[],d(e).empty=!0;var n,a,r,o,s,i=""+e._i,l=i.length,u=0;for(r=Z(e._f,e._locale).match(Ma)||[],n=0;n<r.length;n++)o=r[n],a=(i.match(X(o,e))||[])[0],a&&(s=i.substr(0,i.indexOf(a)),s.length>0&&d(e).unusedInput.push(s),i=i.slice(i.indexOf(a)+a.length),u+=a.length),Oa[o]?(a?d(e).empty=!1:d(e).unusedTokens.push(o),ae(o,a,e)):e._strict&&!a&&d(e).unusedTokens.push(o);d(e).charsLeftOver=l-u,i.length>0&&d(e).unusedInput.push(i),e._a[tr]<=12&&d(e).bigHour===!0&&e._a[tr]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[tr]=pt(e._locale,e._a[tr],e._meridiem),lt(e),at(e)}function pt(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(a=e.isPM(n),a&&t<12&&(t+=12),a||12!==t||(t=0),t):t}function dt(e){var t,n,a,r,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],ct(t),h(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==a||o<a)&&(a=o,n=t));u(e,n||t)}function ht(e){if(!e._d){var t=D(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function ft(e){var t=new g(at(mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mt(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(at(t)):(a(n)?dt(e):s(t)?e._d=t:n?ct(e):yt(e),h(e)||(e._d=null),e))}function yt(e){var n=e._i;void 0===n?e._d=new Date(t.now()):s(n)?e._d=new Date(n.valueOf()):"string"==typeof n?ot(e):a(n)?(e._a=i(n.slice(0),function(e){return parseInt(e,10)}),lt(e)):"object"==typeof n?ht(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function gt(e,t,n,s,i){var l={};return"boolean"==typeof n&&(s=n,n=void 0),(r(e)&&o(e)||a(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=e,l._f=t,l._strict=s,ft(l)}function vt(e,t,n,a){return gt(e,t,n,a,!1)}function bt(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return vt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function wt(){var e=[].slice.call(arguments,0);return bt("isBefore",e)}function _t(){var e=[].slice.call(arguments,0);return bt("isAfter",e)}function kt(e){var t=D(e),n=t.year||0,a=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,i=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*i*60*60,this._days=+s+7*o,this._months=+r+3*a+12*n,this._data={},this._locale=tt(),this._bubble()}function jt(e){return e instanceof kt}function xt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Tt(e,t){Y(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Et(e,t){var n=(t||"").match(e)||[],a=n[n.length-1]||[],r=(a+"").match(Lr)||["-",0,0],o=+(60*r[1])+w(r[2]);return"+"===r[0]?o:-o}function Ct(e,n){var a,r;return n._isUTC?(a=n.clone(),r=(v(e)||s(e)?e.valueOf():vt(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+r),t.updateOffset(a,!1),a):vt(e).local()}function Rt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Mt(e,n){var a,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Et(Va,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(a=Rt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),r!==e&&(!n||this._changeInProgress?Bt(this,Ft(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Rt(this):null!=e?this:NaN}function St(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Pt(e){return this.utcOffset(0,e)}function Ot(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rt(this),"m")),this}function At(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Et(Ya,this._i);0===e?this.utcOffset(0,!0):this.utcOffset(Et(Ya,this._i))}return this}function Lt(e){return!!this.isValid()&&(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function It(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nt(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=mt(e),e._a){var t=e._isUTC?c(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Dt(){return!!this.isValid()&&!this._isUTC}function qt(){return!!this.isValid()&&this._isUTC}function Ut(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ft(e,t){var n,a,r,o=e,s=null;return jt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Ir.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:w(s[er])*n,h:w(s[tr])*n,m:w(s[nr])*n,s:w(s[ar])*n,ms:w(xt(1e3*s[rr]))*n}):(s=Nr.exec(e))?(n="-"===s[1]?-1:1,o={y:Gt(s[2],n),M:Gt(s[3],n),w:Gt(s[4],n),d:Gt(s[5],n),h:Gt(s[6],n),m:Gt(s[7],n),s:Gt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Qt(vt(o.from),vt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),a=new kt(o),jt(e)&&l(e,"_locale")&&(a._locale=e._locale),a}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ct(t,e),e.isBefore(t)?n=Wt(e,t):(n=Wt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ht(e,t){return function(n,a){var r,o;return null===a||isNaN(+a)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=a,a=o),n="string"==typeof n?+n:n,r=Ft(n,a),Bt(this,r,e),this}}function Bt(e,n,a,r){var o=n._milliseconds,s=xt(n._days),i=xt(n._months);e.isValid()&&(r=null==r||r,o&&e._d.setTime(e._d.valueOf()+o*a),s&&W(e,"Date",G(e,"Date")+s*a),i&&ue(e,G(e,"Month")+i*a),r&&t.updateOffset(e,s||i))}function Yt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Vt(e,n){var a=e||vt(),r=Ct(a,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&(T(n[o])?n[o].call(this,a):n[o]);return this.format(s||this.localeData().calendar(o,this,vt(a)))}function zt(){return new g(this)}function Kt(e,t){var n=v(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&(t=N(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Zt(e,t){var n=v(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&(t=N(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function $t(e,t,n,a){return a=a||"()",("("===a[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===a[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Xt(e,t){var n,a=v(e)?e:vt(e);return!(!this.isValid()||!a.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===a.valueOf():(n=a.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Jt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var a,r,o,s;return this.isValid()?(a=Ct(e,this),a.isValid()?(r=6e4*(a.utcOffset()-this.utcOffset()),t=N(t),"year"===t||"month"===t||"quarter"===t?(s=nn(this,a),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-a,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?s:b(s)):NaN):NaN}function nn(e,t){var n,a,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return t-o<0?(n=e.clone().add(r-1,"months"),a=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),a=(t-o)/(n-o)),-(r+a)||0}function an(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():K(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=K(this,e);return this.localeData().postformat(n)}function sn(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Ft({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(vt(),e)}function un(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Ft({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.to(vt(),e)}function pn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function dn(){return this._locale}function hn(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fn(e){return e=N(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function mn(){return this._d.valueOf()-6e4*(this._offset||0)}function yn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function vn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wn(){return this.isValid()?this.toISOString():null}function _n(){return h(this)}function kn(){return u({},d(this))}function jn(){return d(this).overflow}function xn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tn(e,t){Y(0,[e,e.length],0,t)}function En(e){return Sn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Cn(e){return Sn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Rn(){return je(this.year(),1,4)}function Mn(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)}function Sn(e,t,n,a,r){var o;return null==e?ke(this,a,r).year:(o=je(e,a,r),t>o&&(t=o),Pn.call(this,e,t,n,a,r))}function Pn(e,t,n,a,r){var o=_e(e,t,n,a,r),s=be(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function On(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function An(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Ln(e,t){t[rr]=w(1e3*("0."+e))}function In(){return this._isUTC?"UTC":""}function Nn(){return this._isUTC?"Coordinated Universal Time":""}function Dn(e){return vt(1e3*e)}function qn(){return vt.apply(null,arguments).parseZone()}function Un(e){return e}function Fn(e,t,n,a){var r=tt(),o=c().set(a,t);return r[n](o,e)}function Gn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Fn(e,t,n,"month");var a,r=[];for(a=0;a<12;a++)r[a]=Fn(e,a,n,"month");return r}function Wn(e,t,n,a){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var r=tt(),o=e?r._week.dow:0;if(null!=n)return Fn(t,(n+o)%7,a,"day");var s,i=[];for(s=0;s<7;s++)i[s]=Fn(t,(s+o)%7,a,"day");return i}function Qn(e,t){return Gn(e,t,"months")}function Hn(e,t){return Gn(e,t,"monthsShort")}function Bn(e,t,n){return Wn(e,t,n,"weekdays")}function Yn(e,t,n){return Wn(e,t,n,"weekdaysShort")}function Vn(e,t,n){return Wn(e,t,n,"weekdaysMin")}function zn(){var e=this._data;return this._milliseconds=zr(this._milliseconds),this._days=zr(this._days),this._months=zr(this._months),e.milliseconds=zr(e.milliseconds),e.seconds=zr(e.seconds),e.minutes=zr(e.minutes),e.hours=zr(e.hours),e.months=zr(e.months),e.years=zr(e.years),this}function Kn(e,t,n,a){var r=Ft(t,n);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function Zn(e,t){return Kn(this,e,t,1)}function $n(e,t){return Kn(this,e,t,-1)}function Xn(e){return e<0?Math.floor(e):Math.ceil(e)}function Jn(){var e,t,n,a,r,o=this._milliseconds,s=this._days,i=this._months,l=this._data;return o>=0&&s>=0&&i>=0||o<=0&&s<=0&&i<=0||(o+=864e5*Xn(ta(i)+s),s=0,i=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,s+=b(n/24),r=b(ea(s)),i+=r,s-=Xn(ta(r)),a=b(i/12),i%=12,l.days=s,l.months=i,l.years=a,this}function ea(e){return 4800*e/146097}function ta(e){return 146097*e/4800}function na(e){var t,n,a=this._milliseconds;if(e=N(e),"month"===e||"year"===e)return t=this._days+a/864e5,n=this._months+ea(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ta(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}}function aa(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function ra(e){return function(){return this.as(e)}}function oa(e){return e=N(e),this[e+"s"]()}function sa(e){return function(){return this._data[e]}}function ia(){return b(this.days()/7)}function la(e,t,n,a,r){return r.relativeTime(t||1,!!n,e,a)}function ua(e,t,n){var a=Ft(e).abs(),r=co(a.as("s")),o=co(a.as("m")),s=co(a.as("h")),i=co(a.as("d")),l=co(a.as("M")),u=co(a.as("y")),c=r<po.s&&["s",r]||o<=1&&["m"]||o<po.m&&["mm",o]||s<=1&&["h"]||s<po.h&&["hh",s]||i<=1&&["d"]||i<po.d&&["dd",i]||l<=1&&["M"]||l<po.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,la.apply(null,c)}function ca(e){return void 0===e?co:"function"==typeof e&&(co=e,!0)}function pa(e,t){return void 0!==po[e]&&(void 0===t?po[e]:(po[e]=t,!0))}function da(e){var t=this.localeData(),n=ua(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ha(){var e,t,n,a=ho(this._milliseconds)/1e3,r=ho(this._days),o=ho(this._months);e=b(a/60),t=b(e/60),a%=60,e%=60,n=b(o/12),o%=12;var s=n,i=o,l=r,u=t,c=e,p=a,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(s?s+"Y":"")+(i?i+"M":"")+(l?l+"D":"")+(u||c||p?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(p?p+"S":""):"P0D"}var fa,ma;ma=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};var ya=t.momentProperties=[],ga=!1,va={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var ba;ba=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var wa,_a={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ka={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ja="Invalid date",xa="%d",Ta=/\d{1,2}/,Ea={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ca={},Ra={},Ma=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Sa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pa={},Oa={},Aa=/\d/,La=/\d\d/,Ia=/\d{3}/,Na=/\d{4}/,Da=/[+-]?\d{6}/,qa=/\d\d?/,Ua=/\d\d\d\d?/,Fa=/\d\d\d\d\d\d?/,Ga=/\d{1,3}/,Wa=/\d{1,4}/,Qa=/[+-]?\d{1,6}/,Ha=/\d+/,Ba=/[+-]?\d+/,Ya=/Z|[+-]\d\d:?\d\d/gi,Va=/Z|[+-]\d\d(?::?\d\d)?/gi,za=/[+-]?\d+(\.\d{1,3})?/,Ka=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Za={},$a={},Xa=0,Ja=1,er=2,tr=3,nr=4,ar=5,rr=6,or=7,sr=8;wa=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),I("month","M"),q("month",8),$("M",qa),$("MM",qa,La),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Ja]=w(e)-1}),te(["MMM","MMMM"],function(e,t,n,a){var r=n._locale.monthsParse(e,a,n._strict);null!=r?t[Ja]=r:d(n).invalidMonth=e});var ir=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ur="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cr=Ka,pr=Ka;Y("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),I("year","y"),q("year",1),$("Y",Ba),$("YY",qa,La),$("YYYY",Wa,Na),$("YYYYY",Qa,Da),$("YYYYYY",Qa,Da),te(["YYYYY","YYYYYY"],Xa),te("YYYY",function(e,n){n[Xa]=2===e.length?t.parseTwoDigitYear(e):w(e)}),te("YY",function(e,n){n[Xa]=t.parseTwoDigitYear(e)}),te("Y",function(e,t){t[Xa]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var dr=F("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),q("week",5),q("isoWeek",5),$("w",qa),$("ww",qa,La),$("W",qa),$("WW",qa,La),ne(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=w(e)});var hr={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),$("d",qa),$("e",qa),$("E",qa),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,a){var r=n._locale.weekdaysParse(e,a,n._strict);null!=r?t.d=r:d(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,a){t[a]=w(e)});var fr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gr=Ka,vr=Ka,br=Ka;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Qe),Y("k",["kk",2],0,He),Y("hmm",0,0,function(){return""+Qe.apply(this)+B(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Qe.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Be("a",!0),Be("A",!1),I("hour","h"),q("hour",13),$("a",Ye),$("A",Ye),$("H",qa),$("h",qa),$("HH",qa,La),$("hh",qa,La),$("hmm",Ua),$("hmmss",Fa),$("Hmm",Ua),$("Hmmss",Fa),te(["H","HH"],tr),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[tr]=w(e),d(n).bigHour=!0}),te("hmm",function(e,t,n){var a=e.length-2;t[tr]=w(e.substr(0,a)),t[nr]=w(e.substr(a)),d(n).bigHour=!0}),te("hmmss",function(e,t,n){var a=e.length-4,r=e.length-2;t[tr]=w(e.substr(0,a)),t[nr]=w(e.substr(a,2)),t[ar]=w(e.substr(r)),d(n).bigHour=!0}),te("Hmm",function(e,t,n){var a=e.length-2;t[tr]=w(e.substr(0,a)),t[nr]=w(e.substr(a))}),te("Hmmss",function(e,t,n){var a=e.length-4,r=e.length-2;t[tr]=w(e.substr(0,a)),t[nr]=w(e.substr(a,2)),t[ar]=w(e.substr(r))});var wr,_r=/[ap]\.?m?\.?/i,kr=F("Hours",!0),jr={calendar:_a,longDateFormat:ka,invalidDate:ja,ordinal:xa,ordinalParse:Ta,relativeTime:Ea,months:lr,monthsShort:ur,week:hr,weekdays:fr,weekdaysMin:yr,weekdaysShort:mr,meridiemParse:_r},xr={},Tr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Er=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Cr=/Z|[+-]\d\d(?::?\d\d)?/,Rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=j("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Pr=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),Or=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Ar=function(){return Date.now?Date.now():+new Date};Tt("Z",":"),Tt("ZZ",""),$("Z",Va),$("ZZ",Va),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Et(Va,e)});var Lr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ir=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Nr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ft.fn=kt.prototype;var Dr=Ht(1,"add"),qr=Ht(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ur=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),$("G",Ba),$("g",Ba),$("GG",qa,La),$("gg",qa,La),$("GGGG",Wa,Na),$("gggg",Wa,Na),$("GGGGG",Qa,Da),$("ggggg",Qa,Da),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=w(e)}),ne(["gg","GG"],function(e,n,a,r){n[r]=t.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),I("quarter","Q"),q("quarter",7),$("Q",Aa),te("Q",function(e,t){t[Ja]=3*(w(e)-1)}),Y("D",["DD",2],"Do","date"),I("date","D"),q("date",9),$("D",qa),$("DD",qa,La),$("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],er),te("Do",function(e,t){t[er]=w(e.match(qa)[0],10)});var Fr=F("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),q("dayOfYear",4),$("DDD",Ga),$("DDDD",Ia),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),Y("m",["mm",2],0,"minute"),I("minute","m"),q("minute",14),$("m",qa),$("mm",qa,La),te(["m","mm"],nr);var Gr=F("Minutes",!1);Y("s",["ss",2],0,"second"),I("second","s"),q("second",15),$("s",qa),$("ss",qa,La),te(["s","ss"],ar);var Wr=F("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),q("millisecond",16),$("S",Ga,Aa),$("SS",Ga,La),$("SSS",Ga,Ia);var Qr;for(Qr="SSSS";Qr.length<=9;Qr+="S")$(Qr,Ha);for(Qr="S";Qr.length<=9;Qr+="S")te(Qr,Ln);var Hr=F("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Br=g.prototype;Br.add=Dr,Br.calendar=Vt,Br.clone=zt,Br.diff=tn,Br.endOf=fn,Br.format=on,Br.from=sn,Br.fromNow=ln,Br.to=un,Br.toNow=cn,Br.get=Q,Br.invalidAt=jn,Br.isAfter=Kt,Br.isBefore=Zt,Br.isBetween=$t,Br.isSame=Xt,Br.isSameOrAfter=Jt,Br.isSameOrBefore=en,Br.isValid=_n,Br.lang=Ur,Br.locale=pn,Br.localeData=dn,Br.max=Or,Br.min=Pr,Br.parsingFlags=kn,Br.set=H,Br.startOf=hn,Br.subtract=qr,Br.toArray=vn,Br.toObject=bn,Br.toDate=gn,Br.toISOString=rn,Br.toJSON=wn,Br.toString=an,Br.unix=yn,Br.valueOf=mn,Br.creationData=xn,Br.year=dr,Br.isLeapYear=ge,Br.weekYear=En,Br.isoWeekYear=Cn,Br.quarter=Br.quarters=On,Br.month=ce,Br.daysInMonth=pe,Br.week=Br.weeks=Ce,Br.isoWeek=Br.isoWeeks=Re,Br.weeksInYear=Mn,Br.isoWeeksInYear=Rn,Br.date=Fr,Br.day=Br.days=Ne,Br.weekday=De,Br.isoWeekday=qe,Br.dayOfYear=An,Br.hour=Br.hours=kr,Br.minute=Br.minutes=Gr,Br.second=Br.seconds=Wr,Br.millisecond=Br.milliseconds=Hr,Br.utcOffset=Mt,Br.utc=Pt,Br.local=Ot,Br.parseZone=At,Br.hasAlignedHourOffset=Lt,Br.isDST=It,Br.isLocal=Dt,Br.isUtcOffset=qt,Br.isUtc=Ut,Br.isUTC=Ut,Br.zoneAbbr=In,Br.zoneName=Nn,Br.dates=j("dates accessor is deprecated. Use date instead.",Fr),Br.months=j("months accessor is deprecated. Use month instead",ce),Br.years=j("years accessor is deprecated. Use year instead",dr),Br.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",St),Br.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nt);var Yr=Br,Vr=R.prototype;Vr.calendar=M,Vr.longDateFormat=S,Vr.invalidDate=P,Vr.ordinal=O,Vr.preparse=Un,
Vr.postformat=Un,Vr.relativeTime=A,Vr.pastFuture=L,Vr.set=E,Vr.months=oe,Vr.monthsShort=se,Vr.monthsParse=le,Vr.monthsRegex=he,Vr.monthsShortRegex=de,Vr.week=xe,Vr.firstDayOfYear=Ee,Vr.firstDayOfWeek=Te,Vr.weekdays=Pe,Vr.weekdaysMin=Ae,Vr.weekdaysShort=Oe,Vr.weekdaysParse=Ie,Vr.weekdaysRegex=Ue,Vr.weekdaysShortRegex=Fe,Vr.weekdaysMinRegex=Ge,Vr.isPM=Ve,Vr.meridiem=ze,Xe("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=j("moment.lang is deprecated. Use moment.locale instead.",Xe),t.langData=j("moment.langData is deprecated. Use moment.localeData instead.",tt);var zr=Math.abs,Kr=ra("ms"),Zr=ra("s"),$r=ra("m"),Xr=ra("h"),Jr=ra("d"),eo=ra("w"),to=ra("M"),no=ra("y"),ao=sa("milliseconds"),ro=sa("seconds"),oo=sa("minutes"),so=sa("hours"),io=sa("days"),lo=sa("months"),uo=sa("years"),co=Math.round,po={s:45,m:45,h:22,d:26,M:11},ho=Math.abs,fo=kt.prototype;fo.abs=zn,fo.add=Zn,fo.subtract=$n,fo.as=na,fo.asMilliseconds=Kr,fo.asSeconds=Zr,fo.asMinutes=$r,fo.asHours=Xr,fo.asDays=Jr,fo.asWeeks=eo,fo.asMonths=to,fo.asYears=no,fo.valueOf=aa,fo._bubble=Jn,fo.get=oa,fo.milliseconds=ao,fo.seconds=ro,fo.minutes=oo,fo.hours=so,fo.days=io,fo.weeks=ia,fo.months=lo,fo.years=uo,fo.humanize=da,fo.toISOString=ha,fo.toString=ha,fo.toJSON=ha,fo.locale=pn,fo.localeData=dn,fo.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ha),fo.lang=Ur,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),$("x",Ba),$("X",za),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(w(e))}),t.version="2.15.2",n(vt),t.fn=Yr,t.min=wt,t.max=_t,t.now=Ar,t.utc=c,t.unix=Dn,t.months=Qn,t.isDate=s,t.locale=Xe,t.invalid=f,t.duration=Ft,t.isMoment=v,t.weekdays=Bn,t.parseZone=qn,t.localeData=tt,t.isDuration=jt,t.monthsShort=Hn,t.weekdaysMin=Vn,t.defineLocale=Je,t.updateLocale=et,t.locales=nt,t.weekdaysShort=Yn,t.normalizeUnits=N,t.relativeTimeRounding=ca,t.relativeTimeThreshold=pa,t.calendarFormat=Yt,t.prototype=Yr;var mo=t;return mo})}).call(t,n(312)(e))},function(e,t,n){function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var r=e,o=t,s=n;a=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,o);if(void 0!==i){if("value"in i)return i.value;var l=i.get;if(void 0===l)return;return l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=s,a=!0,i=u=void 0}},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(2),p=a(c),d=n(393),h=a(d),f=n(182),m=a(f),y=n(4),g=a(y),v=n(394),b=n(395),w=a(b),_="data-react-helmet",k=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},j=function(e,t){for(var n=[].concat(e).reverse(),a=0;a<n.length;a++){var r=n[a];if(r[t])return r[t]}return null},x=function(e){var t=j(e,"title"),n=j(e,"titleTemplate");if(n&&t)return n.replace(/\%s/g,t);var a=j(e,"defaultTitle");return t||a||""},T=function(e){return j(e,"onChangeClientState")||function(){}},E=function(e){return e.filter(function(e){return"undefined"!=typeof e[v.TAG_NAMES.HTML]}).map(function(e){return e[v.TAG_NAMES.HTML]}).reduce(function(e,t){return u({},e,t)},{})},C=function(e,t){return t.filter(function(e){return"undefined"!=typeof e[v.TAG_NAMES.BASE]}).map(function(e){return e[v.TAG_NAMES.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var a=Object.keys(n),r=0;r<a.length;r++){var o=a[r],s=o.toLowerCase();if(e.indexOf(s)!==-1)return t.concat(n)}return t},[])},R=function(e,t,n){var a={},r=n.filter(function(t){return"undefined"!=typeof t[e]}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var r={};n.filter(function(e){for(var n=void 0,o=Object.keys(e),s=0;s<o.length;s++){var i=o[s],l=i.toLowerCase();t.indexOf(l)===-1||n===v.TAG_PROPERTIES.REL&&"canonical"===e[n].toLowerCase()||l===v.TAG_PROPERTIES.REL&&"stylesheet"===e[l].toLowerCase()||(n=l),t.indexOf(i)===-1||i!==v.TAG_PROPERTIES.INNER_HTML&&i!==v.TAG_PROPERTIES.CSS_TEXT||(n=i)}if(!n)return!1;var u=e[n].toLowerCase();return a[n]||(a[n]={}),r[n]||(r[n]={}),!a[n][u]&&(r[n][u]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var o=Object.keys(r),s=0;s<o.length;s++){var i=o[s],l=(0,g.default)({},a[i],r[i]);a[i]=l}return e},[]).reverse();return r},M=function(e){document.title=e||document.title},S=function(e){for(var t=document.getElementsByTagName("html")[0],n=t.getAttribute(_),a=n?n.split(","):[],r=[].concat(a),o=Object.keys(e),s=0;s<o.length;s++){var i=o[s],l=e[i]||"";t.setAttribute(i,l),a.indexOf(i)===-1&&a.push(i);var u=r.indexOf(i);u!==-1&&r.splice(u,1)}for(var s=r.length-1;s>=0;s--)t.removeAttribute(r[s]);a.length===r.length?t.removeAttribute(_):t.setAttribute(_,a.join(","))},P=function(e,t){var n=document.head||document.querySelector("head"),a=n.querySelectorAll(e+"["+_+"]"),r=Array.prototype.slice.call(a),o=[],s=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var a in t)if(t.hasOwnProperty(a))if("innerHTML"===a)n.innerHTML=t.innerHTML;else if("cssText"===a)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var i="undefined"==typeof t[a]?"":t[a];n.setAttribute(a,i)}n.setAttribute(_,"true"),r.some(function(e,t){return s=t,n.isEqualNode(e)})?r.splice(s,1):o.push(n)}),r.forEach(function(e){return e.parentNode.removeChild(e)}),o.forEach(function(e){return n.appendChild(e)}),{oldTags:r,newTags:o}},O=function(e){for(var t=Object.keys(e),n="",a=0;a<t.length;a++){var r=t[a],o="undefined"!=typeof e[r]?r+'="'+e[r]+'"':""+r;n+=o+" "}return n.trim()},A=function(e,t){var n="<"+e+" "+_+'="true">'+k(t)+"</"+e+">";return n},L=function(e,t){var n=t.map(function(t){var n=Object.keys(t).filter(function(e){return!("innerHTML"===e||"cssText"===e)}).map(function(e){if("undefined"==typeof t[e])return e;var n=k(t[e]);return e+'="'+n+'"'}).join(" ").trim(),a=t.innerHTML||t.cssText||"";return"<"+e+" "+_+'="true" '+n+(e===v.TAG_NAMES.SCRIPT||e===v.TAG_NAMES.STYLE?">"+a+"</"+e+">":"/>")}).join("");return n},I=function(e,t){var n=[p.default.createElement(v.TAG_NAMES.TITLE,s({key:t},_,!0),t)];return n},N=function(e,t){var n=t.map(function(t,n){var a=s({key:n},_,!0);return Object.keys(t).forEach(function(e){var n=v.REACT_TAG_MAP[e]||e;if("innerHTML"===n||"cssText"===n){var r=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:r}}else a[n]=t[e]}),p.default.createElement(e,a)});return n},D=function(e,t){switch(e){case v.TAG_NAMES.TITLE:return{toComponent:function(){return I(e,t)},toString:function(){return A(e,t)}};case v.TAG_NAMES.HTML:return{toComponent:function(){return t},toString:function(){return O(t)}};default:return{toComponent:function(){return N(e,t)},toString:function(){return L(e,t)}}}},q=function(e){var t=e.htmlAttributes,n=e.title,a=e.baseTag,r=e.metaTags,o=e.linkTags,s=e.scriptTags,i=e.styleTags;return{htmlAttributes:D(v.TAG_NAMES.HTML,t),title:D(v.TAG_NAMES.TITLE,n),base:D(v.TAG_NAMES.BASE,a),meta:D(v.TAG_NAMES.META,r),link:D(v.TAG_NAMES.LINK,o),script:D(v.TAG_NAMES.SCRIPT,s),style:D(v.TAG_NAMES.STYLE,i)}},U=function(e){var t=function(t){function n(){r(this,n),l(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return o(n,t),i(n,[{key:"shouldComponentUpdate",value:function(e){return!(0,m.default)(this.props,e)}},{key:"render",value:function(){return p.default.createElement(e,this.props)}}],[{key:"propTypes",value:{htmlAttributes:p.default.PropTypes.object,title:p.default.PropTypes.string,defaultTitle:p.default.PropTypes.string,titleTemplate:p.default.PropTypes.string,base:p.default.PropTypes.object,meta:p.default.PropTypes.arrayOf(p.default.PropTypes.object),link:p.default.PropTypes.arrayOf(p.default.PropTypes.object),script:p.default.PropTypes.arrayOf(p.default.PropTypes.object),style:p.default.PropTypes.arrayOf(p.default.PropTypes.object),onChangeClientState:p.default.PropTypes.func},enumerable:!0},{key:"peek",value:e.peek,enumerable:!0},{key:"rewind",value:function(){var t=e.rewind();return t||(t=q({htmlAttributes:[],title:"",baseTag:[],metaTags:[],linkTags:[],scriptTags:[],styleTags:[]})),t},enumerable:!0},{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(p.default.Component);return t},F=function(e){return{htmlAttributes:E(e),title:x(e),baseTag:C([v.TAG_PROPERTIES.HREF],e),metaTags:R(v.TAG_NAMES.META,[v.TAG_PROPERTIES.NAME,v.TAG_PROPERTIES.CHARSET,v.TAG_PROPERTIES.HTTPEQUIV,v.TAG_PROPERTIES.PROPERTY],e),linkTags:R(v.TAG_NAMES.LINK,[v.TAG_PROPERTIES.REL,v.TAG_PROPERTIES.HREF],e),scriptTags:R(v.TAG_NAMES.SCRIPT,[v.TAG_PROPERTIES.SRC,v.TAG_PROPERTIES.INNER_HTML],e),styleTags:R(v.TAG_NAMES.STYLE,[v.TAG_PROPERTIES.CSS_TEXT],e),onChangeClientState:T(e)}},G=function(e){var t=e.htmlAttributes,n=e.title,a=e.baseTag,r=e.metaTags,o=e.linkTags,s=e.scriptTags,i=e.styleTags,l=e.onChangeClientState;S(t),M(n);var u={baseTag:P(v.TAG_NAMES.BASE,a),metaTags:P(v.TAG_NAMES.META,r),linkTags:P(v.TAG_NAMES.LINK,o),scriptTags:P(v.TAG_NAMES.SCRIPT,s),styleTags:P(v.TAG_NAMES.STYLE,i)},c={},p={};Object.keys(u).forEach(function(e){var t=u[e],n=t.newTags,a=t.oldTags;n.length&&(c[e]=n),a.length&&(p[e]=u[e].oldTags)}),l(e,c,p)},W=(0,h.default)(F,G,q);t.default=U(W(w.default)),e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),l=a(i),u=n(46),c=a(u),p=n(118),d=a(p);e.exports=function(e,t,n){function a(e){return e.displayName||e.name||"Component"}if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!=typeof n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(u){function p(){f=e(h.map(function(e){return e.props})),m.canUseDOM?t(f):n&&(f=n(f))}if("function"!=typeof u)throw new Error("Expected WrappedComponent to be a React component.");var h=[],f=void 0,m=function(e){function t(){r(this,t),e.apply(this,arguments)}return o(t,e),t.peek=function(){return f},t.rewind=function(){if(t.canUseDOM)throw new Error("You may ony call rewind() on the server. Call peek() to read the current state.");var e=f;return f=void 0,h=[],e},t.prototype.shouldComponentUpdate=function(e){return!d.default(e,this.props)},t.prototype.componentWillMount=function(){h.push(this),p()},t.prototype.componentDidUpdate=function(){p()},t.prototype.componentWillUnmount=function(){var e=h.indexOf(this);h.splice(e,1),p()},t.prototype.render=function(){return l.default.createElement(u,this.props)},s(t,null,[{key:"displayName",value:"SideEffect("+a(u)+")",enumerable:!0},{key:"canUseDOM",value:c.default.canUseDOM,enumerable:!0}]),t}(i.Component);return m}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",STYLE:"style"};t.TAG_NAMES=n;var a={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText"};t.TAG_PROPERTIES=a;var r={charset:"charSet","http-equiv":"httpEquiv"};t.REACT_TAG_MAP=r},function(e,t,n){function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e,t,n){for(var a=!0;a;){var r=e,o=t,s=n;a=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,o);if(void 0!==i){if("value"in i)return i.value;var l=i.get;if(void 0===l)return;return l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=s,a=!0,i=u=void 0}},l=n(2),u=a(l),c=function(e){function t(){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),s(t,[{key:"render",value:function(){return null}}]),t}(u.default.Component);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=n(164),p=n(373),d=n(397),h=n(419),f=a(h),m=n(469),y=a(m),g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.pages,t=e.filter(function(e){return"md"===(0,y.default)(e,"file.ext")&&!(0,f.default)(e.path,"/404")}),n=Math.floor(Math.random()*t.length),a=t[n],r=a.data.body,o=(0,d.prune)(r.replace(/<[^>]*>/g,""),200);return u.default.createElement("div",{style:{marginBottom:"30px"}},u.default.createElement("h6",null,"READ THIS NEXT:"),u.default.createElement("h3",null,u.default.createElement(c.Link,{to:{pathname:(0,p.prefixLink)(a.path)}},a.data.title)),u.default.createElement("p",null,o))}}]),t}(u.default.Component);g.propTypes={post:u.default.PropTypes.object.isRequired,pages:u.default.PropTypes.array},t.default=g,e.exports=t.default},function(e,t,n){/*
	* Underscore.string
	* (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>
	* Underscore.string is freely distributable under the terms of the MIT license.
	* Documentation: https://github.com/epeli/underscore.string
	* Some code is borrowed from MooTools and Alexandru Marasteanu.
	* Version '3.3.4'
	* @preserve
	*/
"use strict";function a(e){return this instanceof a?void(this._wrapped=e):new a(e)}function r(e,t){"function"==typeof t&&(a.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=t.apply(null,e);return"string"==typeof n?new a(n):n})}function o(e){r(e,function(t){var n=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(t,n)})}a.VERSION="3.3.4",a.isBlank=n(398),a.stripTags=n(400),a.capitalize=n(401),a.decapitalize=n(402),a.chop=n(403),a.trim=n(404),a.clean=n(407),a.cleanDiacritics=n(408),a.count=n(409),a.chars=n(410),a.swapCase=n(411),a.escapeHTML=n(412),a.unescapeHTML=n(414),a.splice=n(416),a.insert=n(417),a.replaceAll=n(418),a.include=n(419),a.join=n(420),a.lines=n(421),a.dedent=n(422),a.reverse=n(423),a.startsWith=n(424),a.endsWith=n(426),a.pred=n(427),a.succ=n(429),a.titleize=n(430),a.camelize=n(431),a.underscored=n(432),a.dasherize=n(433),a.classify=n(434),a.humanize=n(435),a.ltrim=n(436),a.rtrim=n(437),a.truncate=n(438),a.prune=n(439),a.words=n(440),a.pad=n(441),a.lpad=n(443),a.rpad=n(444),a.lrpad=n(445),a.sprintf=n(446),a.vsprintf=n(449),a.toNumber=n(450),a.numberFormat=n(451),a.strRight=n(452),a.strRightBack=n(453),a.strLeft=n(454),a.strLeftBack=n(455),a.toSentence=n(456),a.toSentenceSerial=n(457),a.slugify=n(458),a.surround=n(459),a.quote=n(460),a.unquote=n(461),a.repeat=n(462),a.naturalCmp=n(463),a.levenshtein=n(464),a.toBoolean=n(465),a.exports=n(466),a.escapeRegExp=n(406),a.wrap=n(467),a.map=n(468),a.strip=a.trim,a.lstrip=a.ltrim,a.rstrip=a.rtrim,a.center=a.lrpad,a.rjust=a.lpad,a.ljust=a.rpad,a.contains=a.include,a.q=a.quote,a.toBool=a.toBoolean,a.camelcase=a.camelize,a.mapChars=a.map,a.prototype={value:function(){return this._wrapped}};for(var s in a)r(s,a[s]);r("tap",function(e,t){return t(e)});var i=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var l in i)o(i[l]);e.exports=a},function(e,t,n){var a=n(399);e.exports=function(e){return/^\s*$/.test(a(e))}},function(e,t){e.exports=function(e){return null==e?"":""+e}},function(e,t,n){var a=n(399);e.exports=function(e){return a(e).replace(/<\/?[^>]+>/g,"")}},function(e,t,n){var a=n(399);e.exports=function(e,t){e=a(e);var n=t?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+n}},function(e,t,n){var a=n(399);e.exports=function(e){return e=a(e),e.charAt(0).toLowerCase()+e.slice(1)}},function(e,t){e.exports=function(e,t){return null==e?[]:(e=String(e),t=~~t,t>0?e.match(new RegExp(".{1,"+t+"}","g")):[e])}},function(e,t,n){var a=n(399),r=n(405),o=String.prototype.trim;e.exports=function(e,t){return e=a(e),!t&&o?o.call(e):(t=r(t),e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}},function(e,t,n){var a=n(406);e.exports=function(e){return null==e?"\\s":e.source?e.source:"["+a(e)+"]"}},function(e,t,n){var a=n(399);e.exports=function(e){return a(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},function(e,t,n){var a=n(404);e.exports=function(e){return a(e).replace(/\s\s+/g," ")}},function(e,t,n){var a=n(399),r="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",o="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";r+=r.toUpperCase(),o+=o.toUpperCase(),o=o.split(""),r+="ß",o.push("ss"),e.exports=function(e){return a(e).replace(/.{1}/g,function(e){var t=r.indexOf(e);return t===-1?e:o[t]})}},function(e,t,n){var a=n(399);e.exports=function(e,t){return e=a(e),t=a(t),0===e.length||0===t.length?0:e.split(t).length-1}},function(e,t,n){var a=n(399);e.exports=function(e){return a(e).split("")}},function(e,t,n){var a=n(399);e.exports=function(e){return a(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})}},function(e,t,n){var a=n(399),r=n(413),o="[";for(var s in r)o+=s;o+="]";var i=new RegExp(o,"g");e.exports=function(e){return a(e).replace(i,function(e){return"&"+r[e]+";"})}},function(e,t){var n={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};e.exports=n},function(e,t,n){var a=n(399),r=n(415);e.exports=function(e){return a(e).replace(/\&([^;]+);/g,function(e,t){var n;return t in r?r[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e})}},function(e,t){var n={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};e.exports=n},function(e,t,n){var a=n(410);e.exports=function(e,t,n,r){var o=a(e);return o.splice(~~t,~~n,r),o.join("")}},function(e,t,n){var a=n(416);e.exports=function(e,t,n){return a(e,t,0,n)}},function(e,t,n){var a=n(399);e.exports=function(e,t,n,r){var o=r===!0?"gi":"g",s=new RegExp(t,o);return a(e).replace(s,n)}},function(e,t,n){var a=n(399);e.exports=function(e,t){return""===t||a(e).indexOf(t)!==-1}},function(e,t,n){var a=n(399),r=[].slice;e.exports=function(){var e=r.call(arguments),t=e.shift();return e.join(a(t))}},function(e,t){e.exports=function(e){return null==e?[]:String(e).split(/\r\n?|\n/)}},function(e,t,n){function a(e){for(var t=e.match(/^[\s\\t]*/gm),n=t[0].length,a=1;a<t.length;a++)n=Math.min(t[a].length,n);return n}var r=n(399);e.exports=function(e,t){e=r(e);var n,o=a(e);return 0===o?e:(n="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+o+"}","gm"),e.replace(n,""))}},function(e,t,n){var a=n(410);e.exports=function(e){return a(e).reverse().join("")}},function(e,t,n){var a=n(399),r=n(425);e.exports=function(e,t,n){return e=a(e),t=""+t,n=null==n?0:Math.min(r(n),e.length),e.lastIndexOf(t,n)===n}},function(e,t){e.exports=function(e){return e<0?0:+e||0}},function(e,t,n){var a=n(399),r=n(425);e.exports=function(e,t,n){return e=a(e),t=""+t,n="undefined"==typeof n?e.length-t.length:Math.min(r(n),e.length)-t.length,n>=0&&e.indexOf(t,n)===n}},function(e,t,n){var a=n(428);e.exports=function(e){return a(e,-1)}},function(e,t,n){var a=n(399);e.exports=function(e,t){return e=a(e),0===e.length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+t)}},function(e,t,n){var a=n(428);e.exports=function(e){return a(e,1)}},function(e,t,n){var a=n(399);e.exports=function(e){return a(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}},function(e,t,n){var a=n(404),r=n(402);e.exports=function(e,t){return e=a(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),t===!0?r(e):e}},function(e,t,n){var a=n(404);e.exports=function(e){return a(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},function(e,t,n){var a=n(404);e.exports=function(e){return a(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},function(e,t,n){var a=n(401),r=n(431),o=n(399);e.exports=function(e){return e=o(e),a(r(e.replace(/[\W_]/g," ")).replace(/\s/g,""))}},function(e,t,n){var a=n(401),r=n(432),o=n(404);e.exports=function(e){return a(o(r(e).replace(/_id$/,"").replace(/_/g," ")))}},function(e,t,n){var a=n(399),r=n(405),o=String.prototype.trimLeft;e.exports=function(e,t){return e=a(e),!t&&o?o.call(e):(t=r(t),e.replace(new RegExp("^"+t+"+"),""))}},function(e,t,n){var a=n(399),r=n(405),o=String.prototype.trimRight;e.exports=function(e,t){return e=a(e),!t&&o?o.call(e):(t=r(t),e.replace(new RegExp(t+"+$"),""))}},function(e,t,n){var a=n(399);e.exports=function(e,t,n){return e=a(e),n=n||"...",t=~~t,e.length>t?e.slice(0,t)+n:e}},function(e,t,n){var a=n(399),r=n(437);e.exports=function(e,t,n){if(e=a(e),t=~~t,n=null!=n?String(n):"...",e.length<=t)return e;var o=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},s=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,o);return s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):r(s.slice(0,s.length-1)),(s+n).length>e.length?e:e.slice(0,s.length)+n}},function(e,t,n){var a=n(398),r=n(404);e.exports=function(e,t){return a(e)?[]:r(e,t).split(t||/\s+/)}},function(e,t,n){var a=n(399),r=n(442);e.exports=function(e,t,n,o){e=a(e),t=~~t;var s=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",o){case"right":return s=t-e.length,e+r(n,s);case"both":return s=t-e.length,r(n,Math.ceil(s/2))+e+r(n,Math.floor(s/2));default:return s=t-e.length,r(n,s)+e}}},function(e,t){e.exports=function(e,t){if(t<1)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n}},function(e,t,n){var a=n(441);e.exports=function(e,t,n){return a(e,t,n)}},function(e,t,n){var a=n(441);e.exports=function(e,t,n){return a(e,t,n,"right")}},function(e,t,n){var a=n(441);e.exports=function(e,t,n){return a(e,t,n,"both")}},function(e,t,n){var a=n(447);e.exports=a(n(448).sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},function(e,t){(function(t){function n(e,t){function n(){if(!r){if(a("throwDeprecation"))throw new Error(t);a("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}if(a("noDeprecation"))return e;var r=!1;return n}function a(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,function(){return this}())},function(e,t,n){!function(e){function n(){var e=arguments[0],t=n.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=n.parse(e)),n.format.call(null,t[e],arguments)}function a(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,t){return Array(t+1).join(e)}var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(e,t){var s,i,l,u,c,p,d,h=1,f=e.length,m="",y=[],g=!0,v="";for(i=0;i<f;i++)if(m=a(e[i]),"string"===m)y[y.length]=e[i];else if("array"===m){if(u=e[i],u[2])for(s=t[h],l=0;l<u[2].length;l++){if(!s.hasOwnProperty(u[2][l]))throw new Error(n("[sprintf] property '%s' does not exist",u[2][l]));s=s[u[2][l]]}else s=u[1]?t[u[1]]:t[h++];if("function"==a(s)&&(s=s()),o.not_string.test(u[8])&&o.not_json.test(u[8])&&"number"!=a(s)&&isNaN(s))throw new TypeError(n("[sprintf] expecting number but found %s",a(s)));switch(o.number.test(u[8])&&(g=s>=0),u[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,u[6]?parseInt(u[6]):0);break;case"e":s=u[7]?s.toExponential(u[7]):s.toExponential();break;case"f":s=u[7]?parseFloat(s).toFixed(u[7]):parseFloat(s);break;case"g":s=u[7]?parseFloat(s).toPrecision(u[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&u[7]?s.substring(0,u[7]):s;break;case"u":s>>>=0;break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}o.json.test(u[8])?y[y.length]=s:(!o.number.test(u[8])||g&&!u[3]?v="":(v=g?"+":"-",s=s.toString().replace(o.sign,"")),p=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",d=u[6]-(v+s).length,c=u[6]&&d>0?r(p,d):"",y[y.length]=u[5]?v+s+c:"0"===p?v+c+s:c+v+s)}return y.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],a=[],r=0;t;){if(null!==(n=o.text.exec(t)))a[a.length]=n[0];else if(null!==(n=o.modulo.exec(t)))a[a.length]="%";else{if(null===(n=o.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){r|=1;var s=[],i=n[2],l=[];if(null===(l=o.key.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=l[1];""!==(i=i.substring(l[0].length));)if(null!==(l=o.key_access.exec(i)))s[s.length]=l[1];else{if(null===(l=o.index_access.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=l[1]}n[2]=s}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a[a.length]=n}t=t.substring(n[0].length)}return a};var s=function(e,t,a){return a=(t||[]).slice(0),a.splice(0,0,e),n.apply(null,a)};t.sprintf=n,t.vsprintf=s}("undefined"==typeof window?this:window)},function(e,t,n){var a=n(447);e.exports=a(n(448).vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},function(e,t){e.exports=function(e,t){if(null==e)return 0;var n=Math.pow(10,isFinite(t)?t:0);return Math.round(e*n)/n}},function(e,t){e.exports=function(e,t,n,a){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),a="string"==typeof a?a:",";var r=e.split("."),o=r[0],s=r[1]?(n||".")+r[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+a)+s}},function(e,t,n){var a=n(399);e.exports=function(e,t){e=a(e),t=a(t);var n=t?e.indexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},function(e,t,n){var a=n(399);e.exports=function(e,t){e=a(e),t=a(t);var n=t?e.lastIndexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},function(e,t,n){var a=n(399);e.exports=function(e,t){e=a(e),t=a(t);var n=t?e.indexOf(t):-1;return~n?e.slice(0,n):e}},function(e,t,n){var a=n(399);e.exports=function(e,t){e=a(e),t=a(t);var n=e.lastIndexOf(t);return~n?e.slice(0,n):e}},function(e,t,n){var a=n(437);e.exports=function(e,t,n,r){t=t||", ",n=n||" and ";var o=e.slice(),s=o.pop();return e.length>2&&r&&(n=a(t)+n),o.length?o.join(t)+n+s:s}},function(e,t,n){var a=n(456);e.exports=function(e,t,n){return a(e,t,n,!0)}},function(e,t,n){var a=n(404),r=n(433),o=n(408);e.exports=function(e){return a(r(o(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},function(e,t){e.exports=function(e,t){return[t,e,t].join("")}},function(e,t,n){var a=n(459);e.exports=function(e,t){return a(e,t||'"')}},function(e,t){e.exports=function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e}},function(e,t,n){var a=n(399),r=n(442);e.exports=function e(t,n,o){if(t=a(t),n=~~n,null==o)return r(t,n);for(var e=[];n>0;e[--n]=t);return e.join(o)}},function(e,t){e.exports=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=/(\.\d+|\d+|\D+)/g,a=String(e).match(n),r=String(t).match(n),o=Math.min(a.length,r.length),s=0;s<o;s++){var i=a[s],l=r[s];if(i!==l){var u=+i,c=+l;return u===u&&c===c?u>c?1:-1:i<l?-1:1}}return a.length!=r.length?a.length-r.length:e<t?-1:1}},function(e,t,n){var a=n(399);e.exports=function(e,t){"use strict";if(e=a(e),t=a(t),e===t)return 0;if(!e||!t)return Math.max(e.length,t.length);for(var n=new Array(t.length+1),r=0;r<n.length;++r)n[r]=r;for(r=0;r<e.length;++r){for(var o=r+1,s=0;s<t.length;++s){var i=o;o=n[s]+(e.charAt(r)===t.charAt(s)?0:1);var l=i+1;o>l&&(o=l),l=n[s+1]+1,o>l&&(o=l),n[s]=i}n[s]=o}return o}},function(e,t,n){function a(e,t){var n,a,r=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(a=t[n]){if(a.test&&a.test(e))return!0;if(a.toLowerCase()===r)return!0}}var r=n(404);e.exports=function(e,t,n){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=r(e),!!a(e,t||["true","1"])||!a(e,n||["false","0"])&&void 0)}},function(e,t){e.exports=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(e[t]=this[t]);return e}},function(e,t,n){var a=n(399);e.exports=function(e,t){e=a(e),t=t||{};var n,r=t.width||75,o=t.seperator||"\n",s=t.cut||!1,i=t.preserveSpaces||!1,l=t.trailingSpaces||!1;if(r<=0)return e;if(s){var u=0;for(n="";u<e.length;)u%r==0&&u>0&&(n+=o),n+=e.charAt(u),u++;if(l)for(;u%r>0;)n+=" ",u++;return n}var c=e.split(" "),p=0;for(n="";c.length>0;){if(1+c[0].length+p>r&&p>0){if(i)n+=" ",p++;else if(l)for(;p<r;)n+=" ",p++;n+=o,p=0}p>0&&(n+=" ",p++),n+=c[0],p+=c[0].length,c.shift()}if(l)for(;p<r;)n+=" ",p++;return n}},function(e,t,n){var a=n(399);e.exports=function(e,t){return e=a(e),0===e.length||"function"!=typeof t?e:e.replace(/./g,t)}},function(e,t){function n(e,t,u,c){if(0===t.length)return e;var p=t[0];if(!(a(e)||r(e)||i(p)&&!s(e)))return i(p)?n(e[o(c[0])?"apply":"call"](u,c[0]),t.slice(1),null,c.slice(1)):l(p)?n(e[parseInt(p.substr(1),10)],t.slice(1),i(t[1])?e:u,c):n(e[p],t.slice(1),i(t[1])?e:u,c)}function a(e){return void 0===e}function r(e){return null===e}function o(e){return Array.isArray(e)}function s(e){return"function"==typeof e}function i(e){return"()"===e}function l(e){return/^\[\d+\]$/.test(e)}function u(e){return e.split(/\.|(\(\))|(\[\d+?])/).filter(function(e){return e})}e.exports=function e(t,r){if(a(r))return e.bind(null,t);var o=Array.prototype.slice.call(arguments,2);return n(t,u(r),null,o)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=(n(375),n(373)),p=n(164),d=n(471),h=a(d);n(472);var f=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={x:0,direction:.1},n.animationRequestId=null,n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){this.animationRequestId=window.requestAnimationFrame(this.animateX.bind(this))}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.animationRequestId)}},{key:"animateX",value:function(){var e=this;this.setState(function(){return{x:(10*Math.random()).toFixed(1)}}),window.setTimeout(function(){window.requestAnimationFrame(e.animateX.bind(e))},800)}},{key:"render",value:function(){return u.default.createElement("header",{className:"me"},u.default.createElement("div",{className:"me__photo"},u.default.createElement("img",{src:h.default,alt:"Marc-Andre Giroux's Photo",className:"me__photo__avatar"})),u.default.createElement("div",{className:"me__profile"},u.default.createElement("h1",{className:"me__profile__name"},"Marc-André Giroux"),u.default.createElement("h2",{className:"me__profile__desc"},u.default.createElement("span",{className:"purple"},this.state.x,"x")," Developer @Shopify, GraphQL Enthusiast and Speaker"),u.default.createElement("p",null,"Feel free to ",u.default.createElement("a",{href:"https://github.com/xuorig"},"check out my code")," 🚀"),u.default.createElement("p",null,"Follow me on ",u.default.createElement("a",{href:"https://twitter.com/__xuorig__"},"Twitter")," 🐦"),u.default.createElement("p",null,"Check out where I'm ",u.default.createElement(p.Link,{to:(0,c.prefixLink)("/speaking/")},"speaking next")," 📢")))}}]),t}(u.default.Component);t.default=f,e.exports=t.default},function(e,t,n){e.exports=n.p+"1f47967233d65c16550cecb5281c9742.jpg"},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=(n(164),n(373),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e="marcandregirouxblog",t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}},{key:"render",value:function(){return u.default.createElement("section",{className:"disqus"},u.default.createElement("div",{id:"disqus_thread"}),u.default.createElement("script",{type:"text/javascript"}))}}]),t}(u.default.Component));t.default=c,e.exports=t.default},472,472,472,function(e,t){"use strict"},function(e,t,n){"use strict";e.exports=function(e){var t=n(479);return e(t)}},function(e,t,n){function a(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./2013/reatime-with-rails/index.md":480,"./2015/getting-started-with-rails-graphql-relay/index.md":481,"./2015/uploading-files-using-relay-with-rails/index.md":482,"./2016/graphql-on-rails-talk-montrealrb/index.md":483,"./2016/graphql-query-caching-with-rails/index.md":484,"./2016/implementing-the-relay-spec-for-a-graphql-server/index.md":485,"./2016/inner-workings-relay-mutations/index.md":486,"./2016/instrumenting-rails-apps/index.md":487,"./2016/journey-into-graphql-ruby-query-execution/index.md":488,"./2016/navigating-large-codebases/index.md":489,"./2016/quick-dive-into-relay-query-fetching/index.md":490,"./2016/realtime-updates-with-relay/index.md":491,"./2016/relays-apply-update-function/index.md":492,"./2016/setting-up-graphiql-with-rails/index.md":493,"./2016/the-mysterious-relay-range-behaviours/index.md":494,"./2016/token-auth-in-relay-app-using-rails/index.md":495,"./_template.js":376,"./index.js":496,"./index.md":506,"./speaking/index.js":507};a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=479},function(e,t){e.exports={title:"Realtime with Rails ",date:"2015-08-29T10:18:00.000Z",description:"Server sent events and Postgres notify/listen",body:'<p>I spent the last few days trying to find a way to build a real-time feel to my <a href="http://teamboardapp.com">Teamboard</a> project. I was mainly looking towards websocket solutions until I stumbled upon a Rails 4 new addition – <a href="http://api.rubyonrails.org/classes/ActionController/Live/SSE.html">ActionController::Live::SSE</a> which lets you stream data to a client.</p>\n<p>Teamboard is a project of mine where users can create white boards, add and share notes with their team. I wanted the users to be able to see the changes made to the board in real time. My solution is inspired from a couple blogs mainly <a href="http://tenderlovemaking.com/2012/07/30/is-it-live.html">TenderLove’s Is It Live?</a> and <a href="http://ngauthier.com">ngauthier.com</a>.</p>\n<p>First, I changed the default rails server (WebRick) to Puma. Add the Puma gem to your Gemfile and check out the heroku puma docs to learn how to set it up</p>\n<p><code>ruby gem \'puma\'</code></p>\n<p>Then I created a new route for my board controller and called my new controller method “Events”. Clients can then connect to /api/board/:id/events through EventSource and listen to changes in the board.</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">events</span></span>\n  @board = current_user.boards.find(params[<span class="hljs-symbol">:id</span>])\n  response.headers[<span class="hljs-string">\'Content-Type\'</span>] = <span class="hljs-string">\'text/event-stream\'</span>\n  sse = SSE.new(response.stream, <span class="hljs-symbol">event:</span> <span class="hljs-string">"changed"</span>)\n  @board.on_board_change <span class="hljs-keyword">do</span> <span class="hljs-params">|change|</span>\n    change = JSON.parse(change)\n    sse.write({<span class="hljs-symbol">change:</span> change})\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>As you can see, we’re waiting for on_board_change to return a change. This would usually be a blocking operation but since we’re using Puma we will be able to serve other requests concurrently. Lets check out the on_board_change method which is in the Board model</p>\n<pre><code class="language-ruby">after_save <span class="hljs-symbol">:notify_board_change</span> after_create <span class="hljs-symbol">:notify_board_change</span>\n\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">notify_board_change</span><span class="hljs-params">(change = {<span class="hljs-symbol">:board</span> =&gt; <span class="hljs-literal">true</span>})</span></span>\n  ActiveRecord::Base.connection_pool.with_connection <span class="hljs-keyword">do</span> <span class="hljs-params">|connection|</span>\n    conn = connection.instance_variable_get(<span class="hljs-symbol">:</span>@connection)\n    conn.async_exec <span class="hljs-string">"NOTIFY <span class="hljs-subst">#{channel}</span>, \'<span class="hljs-subst">#{change.to_json}</span>\'"</span>\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_board_change</span></span>\n ActiveRecord::Base.connection_pool.with_connection <span class="hljs-keyword">do</span> <span class="hljs-params">|connection|</span>\n   conn = connection.instance_variable_get(<span class="hljs-symbol">:</span>@connection)\n   <span class="hljs-keyword">begin</span>\n     $redis.lpush(<span class="hljs-string">"opened_board_ids"</span>, <span class="hljs-keyword">self</span>.id)\n     conn.async_exec <span class="hljs-string">"LISTEN <span class="hljs-subst">#{channel}</span>"</span>\n     logger.info <span class="hljs-string">\'Starting Listening on channel <span class="hljs-subst">#{channel}</span>\'</span>\n     loop <span class="hljs-keyword">do</span> conn.wait_for_notify <span class="hljs-keyword">do</span> <span class="hljs-params">|event, pid, change|</span>\n       <span class="hljs-keyword">yield</span> change\n     <span class="hljs-keyword">end</span>\n   <span class="hljs-keyword">end</span>\n   <span class="hljs-keyword">ensure</span>\n     conn.async_exec <span class="hljs-string">"UNLISTEN <span class="hljs-subst">#{channel}</span>"</span>\n     $redis.lrem(<span class="hljs-string">"opened_board_ids"</span>, -<span class="hljs-number">1</span>, <span class="hljs-keyword">self</span>.id)\n     logger.info <span class="hljs-string">\'Finished Listening on channel <span class="hljs-subst">#{channel}</span>\'</span>\n    <span class="hljs-keyword">end</span>\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n\nprivate\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">channel</span></span>\n  <span class="hljs-string">"boards_<span class="hljs-subst">#{id}</span>"</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>A lot of things are going on here. I’m choosing to use postgres’s Listen/Notify which is similar to redis pub/sub. Everytime a client connects to /events, on_board_change method is called and we wait for a notify on the channel. When the board is changed, the notify_board_change method is called and we return this change to the controller. I kept every board we listen to in redis, you’ll see why later. I chose to name my channels boards_:id to keep things simple later. I then use the after_save callback to NOTIFY these channels. Each Board has many BoardItems. I added callbacks to BoardItem.rb too. They call the same method as the board does as you can see here</p>\n<pre><code class="language-ruby">after_create <span class="hljs-symbol">:notify_board_change</span>\nafter_destroy <span class="hljs-symbol">:notify_board_change</span>\nafter_save <span class="hljs-symbol">:notify_board_change</span>\n\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">notify_board_change</span></span>\n  <span class="hljs-keyword">self</span>.board.notify_board_change({<span class="hljs-symbol">:board_item</span> =&gt; <span class="hljs-keyword">self</span>.id})\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Client side now. I’m using AngularJS in my project, here’s how i connect to my API using EventSource.</p>\n<pre><code class="language-javascript">$timeout( () -&gt; source = new EventSource(\'/api/boards/\' + $routeParams.board_id + \'/events\')\n$scope.$on \'$destroy\', () -&gt; source.close()\n\nsource.addEventListener \'changed\', (e) -&gt;\n  data = JSON.parse(e.data).change\n  if data.board_item\n    $scope.$broadcast(\'update-\'+data.board_item)\n  else if data.hb # DO NOTHING\n  else ... ```\n\nNow everything works great but I found out a strange issue with the Rails Live Streaming. It seems SSE never realises when the connection is over with the client (https://github.com/rails/rails/issues/10989). This means a refresh, closing the browser and navigating away doesn\'t kill the thread that is waiting for changes. This is bad and makes Puma crash pretty quickly on a small number of workers and threads. There doesnt seem to be a nice way to fix this for now but I coded I workaround that is often proposed for this issue, that is a heartbeat thread, that checks if the connection is open every x seconds. I placed this in the puma initializer file puma.rb\n\n```ruby\ndef create_heartbeat\n  heartbeat = Thread.new do begin hb = {"hb": true}\n  ActiveRecord::Base.connection_pool.with_connection do |connection|\n    conn = connection.instance_variable_get(:@connection)\n    loop do\n      opened_boards = $redis.lrange("opened_board_ids", 0, -1)\n      opened_boards.each do |board_id|\n        conn.async_exec "NOTIFY boards_#{board_id}, \'#{hb.to_json}\'"\n      end\n      sleep 20.seconds\n    end\n  end\n  ensure\n  end\nend\n</code></pre>\n<p>The amount of time to sleep between heartbeats is kind of a tradeoff. The longer it is, the longer a thread will be stuck before we kill it and reuse it but you probably dont want to set that number too low either. Since I kept the boards that were listened to in redis, I heartbeat all those channels and remove them from redis when they are killed</p>\n<p>Hope this will help some of you. Sever Side Events are pretty cool but I am wondering if I should try the same with WebSockets until they fix the issue I linked above!</p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"Getting started with Rails and GraphQL",date:"2015-11-11T11:00:00.000Z",description:"How to get started with a Rails GraphQL API",body:'<p>For the past few weeks I’ve been playing with Facebook’s <a href="http://facebook.github.io/GraphQL/">GraphQL</a> and <a href="https://github.com/facebook/relay">Relay</a> for a personal project of mine. I thought I would give a quick overview of how to set up a Relay App using Rails as the API.</p>\n<h1>What is <a href="http://facebook.github.io/GraphQL/">GraphQL</a> ?</h1>\n<p>Simply put, GraphQL is an application layer query language from Facebook. You can describe your API using a schema (a graph). All your clients can then query your data through the schema. GraphQL tries to solve one of the biggest problems we have with REST APIs these days: Changing data requirements in the clients.</p>\n<p>Here’s what a GraphQL Query would look like:</p>\n<pre><code class="language-javascript">{\n  user(id: <span class="hljs-number">1</span>) {\n    id,\n    name,\n    friends {\n      name\n    }\n  }\n}\n</code></pre>\n<p>The GraphQL response to this query would look like this:</p>\n<pre><code class="language-javascript">{\n  <span class="hljs-string">"user"</span> : {\n    <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,\n    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Marc-Andre Giroux"</span>,\n    <span class="hljs-string">"friends"</span>: [\n      {\n        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Joe Bro"</span>\n      },\n      {\n        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Johny Yolo"</span>\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Now imagine we want to fetch the friends profile pictures, interests, and any other data. In we were using REST, we would either hit many other endpoints, or have to create a custom end point to fetch all that data at once.</p>\n<p>With GraphQL, we only add what we want to the query and it will fetch it, just like this:</p>\n<pre><code class="language-javascript">{\n  user(id: <span class="hljs-number">1</span>) {\n    id,\n    name,\n    friends {\n      name\n      interests {\n        name\n      }\n      profilePicture {\n        url,\n        width,\n        height\n      }\n    }\n  }\n}\n</code></pre>\n<p>Check out the <a href="https://github.com/facebook/GraphQL">Graphql Repo</a> for more information about GraphQL: How to query, mutate the schema and the type system.</p>\n<h1>Building a Rails GraphQL API</h1>\n<p>In this tutorial we’re gonna build a simple Blogging app where you can fetch blogs and authors.</p>\n<p>Lets start by building the API. Although it’s possible to have both the relay app and the API live in a single Rails app, I chose to implement it as 2 different parts. Since the requests will be coming from a different origin than the API, we need to setup CORS. Lets use <a href="https://github.com/cyu/rack-cors">rack-cors</a> to do that.</p>\n<p>First, add <code>rack-cors</code> to your <code>Gemfile</code>.</p>\n<pre><code class="language-ruby">  gem <span class="hljs-string">\'rack-cors\'</span>, <span class="hljs-symbol">:require</span> =&gt; <span class="hljs-string">\'rack/cors\'</span>\n</code></pre>\n<p>Add this code in <code>config/application</code></p>\n<pre><code class="language-ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">MyBlogApp</span></span>\n  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> &lt; Rails::Application</span>\n\n    <span class="hljs-comment"># ...</span>\n\n    config.middleware.insert_before <span class="hljs-number">0</span>, <span class="hljs-string">"Rack::Cors"</span> <span class="hljs-keyword">do</span>\n      allow <span class="hljs-keyword">do</span>\n        origins <span class="hljs-string">\'*\'</span>\n        resource <span class="hljs-string">\'*\'</span>, <span class="hljs-symbol">:headers</span> =&gt; <span class="hljs-symbol">:any</span>, <span class="hljs-symbol">:methods</span> =&gt; [<span class="hljs-symbol">:get</span>, <span class="hljs-symbol">:post</span>, <span class="hljs-symbol">:options</span>]\n      <span class="hljs-keyword">end</span>\n    <span class="hljs-keyword">end</span>\n\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Obviously, don’t actually use these settings in production, you will want to chose the allowed origins carefuly.</p>\n<p>Next, we’re gonna need some models for our Blog App. Lets create a Blog and an Author model</p>\n<p>Run:</p>\n<pre><code class="language-ruby">rails generate model Blog <span class="hljs-symbol">title:</span>string <span class="hljs-symbol">content:</span>string <span class="hljs-symbol">author_id:</span>integer\n</code></pre>\n<pre><code class="language-ruby">rails generate model Author <span class="hljs-symbol">name:</span>string\n</code></pre>\n<p>Our blog has one author so lets add that association to the model:</p>\n<pre><code class="language-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Blog</span> &lt; ActiveRecord::Base</span>\n  belongs_to <span class="hljs-symbol">:author</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>and to the Author model:</p>\n<pre><code class="language-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Blog</span> &lt; ActiveRecord::Base</span>\n  belongs_to <span class="hljs-symbol">:author</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Alright. It’s time to bring GraphQL in. We’re going to be using <a href="https://github.com/rmosolgo">rmosolgo’s</a> <a href="https://github.com/rmosolgo/GraphQL-ruby">GraphQL-ruby</a> which is an amazing gem to build our GraphQL Schema. Add the gem to your Gemfile.</p>\n<pre><code class="language-ruby">gem <span class="hljs-string">\'GraphQL\'</span>\n</code></pre>\n<p>Time to build our GraphQL Schema. Create a new folder in your app folder, <code>app/graph</code>. Everything GraphQL related will live there.</p>\n<p>In that folder, create <code>app/graph/types</code>, where our custom GraphQL types will be created.</p>\n<p>Make sure you add this line to your <code>application.rb</code> for rails to autoload the types:</p>\n<pre><code class="language-ruby">config.autoload_paths &lt;&lt; Rails.root.join(<span class="hljs-string">\'app\'</span>, <span class="hljs-string">\'graph\'</span>)\nconfig.autoload_paths &lt;&lt; Rails.root.join(<span class="hljs-string">\'app\'</span>, <span class="hljs-string">\'graph\'</span>, <span class="hljs-string">\'types\'</span>)\n</code></pre>\n<p>As a first type, let’s create the <code>Query</code> type. GraphQL always needs a query root for a schema. Create <code>query_type.rb</code> in <code>app/graph/types</code> and add the following code in it.</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># app/graph/types/query_type.rb</span>\nQueryType = GraphQL::ObjectType.define <span class="hljs-keyword">do</span>\n  name <span class="hljs-string">"Query"</span>\n  description <span class="hljs-string">"The query root for this schema"</span>\n\n  field <span class="hljs-symbol">:blog</span> <span class="hljs-keyword">do</span>\n    type BlogType\n    argument <span class="hljs-symbol">:id</span>, !types.ID\n    resolve -&gt; (obj, args, ctx) {\n      Blog.find(args[<span class="hljs-symbol">:id</span>])\n    }\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>When declaring a type using the <code>GraphQL</code> gem, we have a few things to do. First we name the type (Query in that case). A small description is also needed for schema introspection. We declare fields on that type using the field method. Here we are using a block to define that field. We set the type for the <code>blog</code> field to BlogType and also give a resolve proc, which will be called when GraphQL wants to resolve that field. The proc takes 3 arguments, the obj (The query in that case), args which you will be able to pass in when you query, and context, a dict where you can pass any variables you might want to use on resolve time.</p>\n<p>So, at the query root, we declare a field blog. which will return a blog by id. Let’s add also the <code>BlogType</code> and the <code>AuthorType</code></p>\n<pre><code class="language-ruby"><span class="hljs-comment"># app/graph/types/blog_type.rb</span>\nBlogType = GraphQL::ObjectType.define <span class="hljs-keyword">do</span>\n  name <span class="hljs-string">"Blog"</span>\n  description <span class="hljs-string">"A Blog"</span>\n  field <span class="hljs-symbol">:title</span>, types.String\n  field <span class="hljs-symbol">:content</span>, types.String\n  field <span class="hljs-symbol">:author</span> <span class="hljs-keyword">do</span>\n    type AuthorType\n    resolve -&gt; (obj, args, ctx) {\n      obj.author\n    }\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<pre><code class="language-ruby"><span class="hljs-comment"># app/graph/types/author_type.rb</span>\nAuthorType = GraphQL::ObjectType.define <span class="hljs-keyword">do</span>\n  name <span class="hljs-string">"Author"</span>\n  description <span class="hljs-string">"Author of Blogs"</span>\n  field <span class="hljs-symbol">:name</span>, types.String\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Let’s create the GraphQL Schema with our newly created types, at the root level of your graph folder, create this file:</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># app/graph/blog_schema.rb</span>\nBlogSchema = GraphQL::Schema.define <span class="hljs-keyword">do</span>\n  query QueryType\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>The only thing left now is exposing that Schema through an end point. The best way to do that is to handle POST requests with a GraphQL query as the data.</p>\n<p>Since we’re building an API, make sure your <code>ApplicationController</code> has this line:</p>\n<pre><code class="language-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApplicationController</span> &lt; ActionController::Base</span>\n  <span class="hljs-comment"># Use :null_session here</span>\n  protect_from_forgery <span class="hljs-symbol">with:</span> <span class="hljs-symbol">:null_session</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Now lets create <code>QueriesController</code> which will handle these POST requests.</p>\n<pre><code class="language-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QueriesController</span> &lt; ApplicationController</span>\n  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create</span></span>\n    query_string = params[<span class="hljs-symbol">:query</span>]\n    query_variables = params[<span class="hljs-symbol">:variables</span>] <span class="hljs-params">||</span> {}\n    result = BlogSchema.execute(query_string, <span class="hljs-symbol">variables:</span> query_variables)\n    render <span class="hljs-symbol">json:</span> result\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>And let’s not forget to add a route to that controller:</p>\n<pre><code class="language-ruby">resources <span class="hljs-symbol">:queries</span>, <span class="hljs-symbol">via:</span> [<span class="hljs-symbol">:post</span>, <span class="hljs-symbol">:options</span>]\n</code></pre>\n<p>Time to test now! Add some mock data to your db and run queries using curl for now:</p>\n<p>Query:</p>\n<pre><code class="language-bash">curl -XPOST <span class="hljs-_">-d</span> <span class="hljs-string">\'query={ blog(id: 1) { title content }}\'</span> http://localhost:3000/queries\n</code></pre>\n<p>Response:</p>\n<pre><code class="language-bash">{<span class="hljs-string">"data"</span>:{<span class="hljs-string">"blog"</span>:{<span class="hljs-string">"title"</span>:<span class="hljs-string">"Intro to GraphQL"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Something something something. Blah blah blah. Etc etc etc."</span>}}}\n</code></pre>\n<p>What if we wanted the author in the response ? Simply add it to the the query!</p>\n<p>Query:</p>\n<pre><code class="language-bash">curl -XPOST <span class="hljs-_">-d</span> <span class="hljs-string">\'query={ blog(id: 1) { title content author { name } }}\'</span> http://localhost:3000/queries\n</code></pre>\n<p>Response:</p>\n<pre><code class="language-bash">{<span class="hljs-string">"data"</span>:{<span class="hljs-string">"blog"</span>:{<span class="hljs-string">"title"</span>:<span class="hljs-string">"Intro to GraphQL"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Something something something. Blah blah blah. Etc etc etc."</span>,<span class="hljs-string">"author"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Marc-Andre Giroux"</span>}}}}%\n</code></pre>\n<p>And that’s it! We got a working GraphQL API using Ruby on Rails. <strong>Stay tuned for the next part</strong> where we will build an app using React/Relay using the API we just built.</p>\n<p>You can take a look at the <a href="https://github.com/xuorig/my-simple-blogging-app">source here</a>.</p>\n<h4>If you have more questions about GraphQL, come hang out in Slack! <a href="https://GraphQL-slack.herokuapp.com/">https://GraphQL-slack.herokuapp.com/</a></h4>\n<h4>Edit:</h4>\n<p>As Sergio del Rio pointed out in comments, you’ll want to change <code>protect_from_forgery</code> to <code>null_session</code>\nin your <code>ApplicationController</code> for your api to work correctly at first. Also make sure you name your files the same as your class name for Rails to load them correctly. <code>QueryType</code> -&gt; <code>query_type.rb</code></p>\n<h4>Edit2:</h4>\n<p>Instead of using curl to test your queries, you can use GraphiQL, an amazing tool to test and even autocomplete your GraphQL queries. <a href="http://mgiroux.me/2016/setting-up-graphiql-with-rails/">Here’s how to install it in your Rails App.</a></p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'
}},function(e,t){e.exports={title:"Uploading files using Relay and a Rails GraphQL server",date:"2015-12-10T10:18:00.000Z",description:"How to upload a file using GraphQL-ruby's context and Relay's getFiles",body:'<p>I recently needed to upload a file from a <a href="https://github.com/facebook/relay">React-Relay</a> App to my <a href="https://github.com/GraphQL">GraphQL</a> Rails server\nand found out it was not as straight forward as I thought and not very documented. Thought I’d\nshare what I have done to make file uploading work with Rails and Relay. Big thanks to\n<a href="https://twitter.com/rmosolgo">Robert Mosolgo</a> who guided me towards this solution.</p>\n<p>I you haven’t checked out my first blog about <a href="https://github.com/GraphQL">GraphQL</a> you can see it <a href="http://mgiroux.me/2015/getting-started-with-rails-GraphQL-relay/">here</a>.</p>\n<h1>Relay</h1>\n<p>Relay Mutation have a method called <strong>getFiles</strong> which allows you to send files\nto a server. It should return a map of files like this <strong>{[key: string]: File}</strong>\nHere’s a quick example of how we could use it:</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// A react component to upload a file</span>\n<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileUploader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{\n  onSubmit() {\n    <span class="hljs-keyword">const</span> name = <span class="hljs-keyword">this</span>.refs.name.value;\n    <span class="hljs-keyword">const</span> file = <span class="hljs-keyword">this</span>.refs.fileInput.files.item(<span class="hljs-number">0</span>);\n    Relay.Store.update(\n      <span class="hljs-keyword">new</span> UploadFileMutation({\n        <span class="hljs-attr">name</span>: name,\n        <span class="hljs-attr">file</span>: file,\n      })\n    );\n  }\n}\n\n<span class="hljs-comment">// The actual mutation</span>\n<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UploadFileMutation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Relay</span>.<span class="hljs-title">Mutation</span> </span>{\n  getFiles() {\n    <span class="hljs-keyword">return</span> {\n      <span class="hljs-attr">file</span>: <span class="hljs-keyword">this</span>.props.file,\n    };\n  }\n\n  <span class="hljs-comment">// ... Rest of your mutation</span>\n}\n</code></pre>\n<h1>GraphQL Rails API</h1>\n<p>The part that gets more confusing is how to receive that file server side. If\nyou’re using GraphQL-js there is this <a href="https://github.com/GraphQL/express-GraphQL/blob/master/src/__tests__/http-test.js#L603">example</a> that explains how you\nwould design your schema to receive files.</p>\n<p>Unfortunatly this wasn’t really possible using <a href="https://github.com/rmosolgo/GraphQL-ruby">GraphQL-ruby</a> and I had\nto find another way to do it. Luckily, <a href="https://github.com/rmosolgo/GraphQL-ruby">GraphQL-ruby</a> passes a context argument to\nthe nodes when it resolves a query. That means we can pass the files along to the query\nin the controller and retrieve it at resolve time in the mutation.</p>\n<p>Here’s how you could write your controller which in my case is called <strong>QueriesController</strong>.</p>\n<pre><code class="language-ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">V1</span></span>\n  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QueriesController</span> &lt; ApplicationController</span>\n\n    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create</span></span>\n      query_string = params[<span class="hljs-symbol">:query</span>]\n      query_variables = ensure_hash(params[<span class="hljs-symbol">:variables</span>]) <span class="hljs-params">||</span> {}\n\n      query = GraphQL::Query.new(\n        YourSchema,\n        query_string,\n        <span class="hljs-symbol">variables:</span> query_variables,\n        <span class="hljs-symbol">context:</span> { <span class="hljs-symbol">file:</span> request.params[<span class="hljs-symbol">:file</span>] }\n      )\n\n      render <span class="hljs-symbol">json:</span> query.result\n    <span class="hljs-keyword">end</span>\n\n    <span class="hljs-comment"># If the request wasn\'t `Content-Type: application/json`, parse the variables:</span>\n    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ensure_hash</span><span class="hljs-params">(variables_param)</span></span>\n      variables_param.kind_of?(Hash) ? variables_param : JSON.parse(variables_param)\n    <span class="hljs-keyword">end</span>\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>You’ll notice that there is an <strong>ensure_hash</strong> method added here. Variables in Relay mutations\nwith files aren’t sent with a <code>Content-Type: application/json</code> so they arrive as\na String in your controller. Here we simply check if the variables are sent as a Hash and if\nthey’re not we parse them as JSON.</p>\n<p>The rest is pretty straight forward, we add the file param to our context so it can be passed\nalong during resolve. That means that our Mutation on the server side can look a little bit\nlike this:</p>\n<pre><code class="language-ruby">AddFileMutation = GraphQL::Relay::Mutation.define <span class="hljs-keyword">do</span>\n  name <span class="hljs-string">"AddFile"</span>\n  input_field <span class="hljs-symbol">:name</span>, !types.String\n\n  <span class="hljs-comment"># ... Add your return_field here</span>\n\n  <span class="hljs-comment"># Here\'s the mutation operation:</span>\n  resolve -&gt; (args, ctx) {\n    file = ctx[<span class="hljs-symbol">:file</span>]\n    raise StandardError.new(<span class="hljs-string">"Expected a file"</span>) <span class="hljs-keyword">unless</span> file\n    <span class="hljs-comment"># ... Do what you want with the file!</span>\n  }\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Here you have it! Note that <em>you should probably not be uploading large files on\nthe server</em> and you might want to upload it browser side!</p>\n<p>Hope it’ll help some of you!</p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"GraphQL on Rails Talk @ Montreal.rb",date:"2016-03-15T10:00:00.000Z",description:"My talk on GraphQL at the Montreal.rb meetup",body:'<p>I gave a talk <a href="http://www.montrealrb.com/">Montreal.rb</a> on March 15th in Montreal. Just thought I’d share the slides for that here!</p>\n<h3>You can take a look at them <a href="https://speakerdeck.com/xuorig/GraphQL-on-rails-1">right here</a></h3>\n'}},function(e,t){e.exports={title:"Caching GraphQL queries with GraphQL-ruby and Rails",date:"2016-06-07T08:00:00.000Z",description:"How to avoid parsing GraphQL queries everytime and how to cache GraphQL documents",body:'<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" content="@__xuorig__">\n<meta name="twitter:creator" content="@__xuorig__">\n<meta name="twitter:title" content="Caching GraphQL queries with GraphQL-ruby and Rails">\n<meta name="twitter:description" content="How to avoid parsing GraphQL queries everytime and how to cache GraphQL documents">\n<meta name="twitter:image" content="https://cloud.githubusercontent.com/assets/2231765/9094460/cb43861e-3b66-11e5-9fbf-71066ff3ab13.png">\n<p>When a GraphQL query hits the server, what exactly happens first ? To start the execution, a GraphQL executor must first have a <code>Query Document</code>. Think of it as a query object containing all you need to exectute a query (Operation, Fields, Arguments, etc.).</p>\n<p>Of course when we send a query to a GraphQL server, it’s a simple string, not a Document object. The first thing the server has to do is to lex and parse it.</p>\n<p>With GraphQL-ruby at least, that step is the slowest one in the chain. Parsing, especially huge queries can be quite slow, and re-parsing the same query twice or more sounds like a huge waste!</p>\n<p>What if we could cache the documents right after we’ve parsed the query, and then tell our Schema to take a parsed document instead of a string ?</p>\n<p>I’ve worked on a very simple PR with the help of <a href="https://twitter.com/rmosolgo">@rmosolgo</a> a few weeks ago that allows us to do so, let’s take a look at how I implemented a basic caching mechanism for GraphQL queries in Rails.</p>\n<h3>Rails.cache</h3>\n<p>Let’s take care of some configuration stuff first. I’m using rails 5, to enable cache in development we have to run this:</p>\n<pre><code class="language-ruby">  rails <span class="hljs-symbol">dev:</span>cache\n</code></pre>\n<p>If you’re on Rails &lt; 5, simply enable caching in your <code>development.rb</code> environment.</p>\n<h3>Caching documents</h3>\n<p>Now the fun stuff! In the <code>GraphQLController</code> we always want to check if we have a document cached for that particular query. If we do we’ll simply use it, if not we’ll parse it using <code>GraphQL.parse(query_string)</code></p>\n<p>Here’s how you could implement the caching:</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create</span></span>\n  query_string = params[<span class="hljs-symbol">:query</span>]\n  query_variables = params[<span class="hljs-symbol">:variables</span>] <span class="hljs-params">||</span> {}\n  document = get_document(query_string)\n\n  result = Schema.execute(\n    <span class="hljs-symbol">document:</span> document,\n    <span class="hljs-symbol">variables:</span> query_variables\n  )\n\n  render <span class="hljs-symbol">json:</span>result\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Notice that I never pass the <code>query_string</code> argument to <code>Schema.execute</code>. We always give it the full Document object using the <code>document</code> kwarg.</p>\n<p>We get the <code>document</code> by calling <code>get_document</code>. It’s a method I’ve created to handle the caching. Let’s take a look at it:</p>\n<pre><code class="language-ruby">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_document</span><span class="hljs-params">(query_string)</span></span>\n    cache_key = Base64.encode64(query_string)\n    document = Rails.cache.fetch(cache_key)\n\n    <span class="hljs-keyword">if</span> document\n      logger.info <span class="hljs-string">"###############################"</span>\n      logger.info <span class="hljs-string">"Got cached document <span class="hljs-subst">#{document}</span>"</span>\n      logger.info <span class="hljs-string">"###############################"</span>\n    <span class="hljs-keyword">else</span>\n      logger.info <span class="hljs-string">"####################################"</span>\n      logger.info <span class="hljs-string">"Parsing query string <span class="hljs-subst">#{query_string}</span>"</span>\n      logger.info <span class="hljs-string">"Cached at key <span class="hljs-subst">#{cache_key}</span>"</span>\n      logger.info <span class="hljs-string">"####################################"</span>\n\n      document = GraphQL.parse(query_string)\n      Rails.cache.write(cache_key, document)\n    <span class="hljs-keyword">end</span>\n\n    document\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>Few things to notice here. To make a slightly nicer key, I Base64 encode the query string before. The rest is pretty straight forward. If we find the document in the cache, we return it straight away. If not, we parse the string using <code>GraphQL.parse</code> and write it in the cache.</p>\n<p>Keep in mind a nicer way to do what I have here is simply using <code>Rails.cache.fetch</code> with a block:</p>\n<pre><code class="language-ruby">  cache_key = Base64.encode64(query_string)\n  Rails.cache.fetch(cache_key) <span class="hljs-keyword">do</span>\n    GraphQL.parse(query_string)\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>I wanted to have some logs while I tested so I chose the the longer way!</p>\n<h3>Results</h3>\n<p>When a first query is sent to the server, as expected, we have to parse it:</p>\n<p><img src="./nocachelog.png" alt="No Cache Logs"></p>\n<p><img src="./nocachetime.png" alt="No Cache Time"></p>\n<p>As you can see, it took about <code>0.065</code> to parse, and execute the Query. Can we do much better with caching ? Let’s see. The next request is the exact same query, I simply hit refresh:</p>\n<p><img src="./cachedlog.png" alt="Cache Logs"></p>\n<p><img src="./cachedtime.png" alt="Cache Time"></p>\n<p><code>0.007</code>. Much faster since we did not have to parse the query string this time. Imagine bigger queries!</p>\n<p>And that’s it, we have a query cache for our GraphQL server, and it makes it much faster! I was using the <code>memory_store</code> cache in dev here, but nothing stops you from using other key value stores like <code>memcached</code> or <code>redis</code>!</p>\n<p>As always, you can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"Implementing the Relay spec in a GraphQL server",date:"2016-03-27T10:00:00.000Z",description:"The difference between a vanila GraphQL server and a Relay compatible one, and how to implement the spec.",body:'<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" content="@__xuorig__">\n<meta name="twitter:creator" content="@__xuorig__">\n<meta name="twitter:title" content="Implementing the Relay spec in a GraphQL server">\n<meta name="twitter:description" content="The difference between a vanila GraphQL server and a Relay compatible one, and how to implement the spec.\n">\n<meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIiB2aWV3Qm94PSIwIDAgNjAwIDYwMCI+PGcgZmlsbD0iI0YyNkIwMCI+PHBhdGggZD0iTTE0Mi41MzYgMTk4Ljg1OGMwIDI2LjM2LTIxLjM2OCA0Ny43Mi00Ny43MiA0Ny43Mi0yNi4zNiAwLTQ3LjcyMi0yMS4zNi00Ny43MjItNDcuNzJzMjEuMzYtNDcuNzIgNDcuNzItNDcuNzJjMjYuMzU1IDAgNDcuNzIyIDIxLjM2IDQ3LjcyMiA0Ny43MiIvPjxwYXRoIGQ9Ik01MDUuMTggNDE0LjIyNUgyMzguMTI0Yy0zNS4yNSAwLTYzLjkyNi0yOC42NzQtNjMuOTI2LTYzLjkyM3MyOC42NzgtNjMuOTI2IDYzLjkyNi02My45MjZoMTIwLjc4YzIwLjgxNiAwIDM3Ljc1My0xNi45MzggMzcuNzUzLTM3Ljc1NnMtMTYuOTM4LTM3Ljc1Ni0zNy43NTMtMzcuNzU2SDk0LjgxYy03LjIyNyAwLTEzLjA4Ni01Ljg2LTEzLjA4Ni0xMy4wODUgMC03LjIyNyA1Ljg2LTEzLjA4NiAxMy4wODUtMTMuMDg2aDI2NC4wOTNjMzUuMjUgMCA2My45MjMgMjguNjc4IDYzLjkyMyA2My45MjZzLTI4LjY3NCA2My45MjMtNjMuOTIzIDYzLjkyM2gtMTIwLjc4Yy0yMC44MiAwLTM3Ljc1NiAxNi45MzgtMzcuNzU2IDM3Ljc2IDAgMjAuODE2IDE2LjkzOCAzNy43NTMgMzcuNzU2IDM3Ljc1M0g1MDUuMThjNy4yMjcgMCAxMy4wODYgNS44NiAxMy4wODYgMTMuMDg1IDAgNy4yMjYtNS44NTggMTMuMDg1LTEzLjA4NSAxMy4wODV6Ii8+PHBhdGggZD0iTTQ1Ny40NjQgNDAxLjE0MmMwLTI2LjM2IDIxLjM2LTQ3LjcyIDQ3LjcyLTQ3LjcyczQ3LjcyIDIxLjM2IDQ3LjcyIDQ3LjcyLTIxLjM2IDQ3LjcyLTQ3LjcyIDQ3LjcyLTQ3LjcyLTIxLjM2LTQ3LjcyLTQ3LjcyIi8+PC9nPjwvc3ZnPg==">\n<p>I’ve seen some confusion on Relay and GraphQL lately. GraphQL is so often used with Relay that I think sometimes we forget what a GraphQL server is, and what Relay adds on top of it. The goal of the next 3 posts is to try to clearly see the line between the two, and how to implement the Relay part in an existing GraphQL Server.</p>\n<h3>Relay</h3>\n<p>From Facebook’s words Relay is simply a</p>\n<blockquote>\n<p>Framework for building data-driven React applications.</p>\n</blockquote>\n<p>It is a wrapper around Relay components, enabling them to live next to the GraphQL queries they need to fulfil their data requirements.\nOn the client side, Relay’s strength is it’s amazing client side cache. On the server side, Relay expects the GraphQL server to implement a certain spec for things to work perfectly.</p>\n<h3>GraphQL &amp; Relay</h3>\n<p>Let’s take a look at what a Relay app needs from a GraphQL server that is different from usual. First, the <em>Global Object Identification</em>. Relay introduces the need for objects with unique identifiers, called “nodes”. With that concept, Relay can refetch arbitrary objects from a GraphQL server using their GID. On the GraphQL server, each object must have an <code>id</code> field returning that <code>GID</code>, and the root query type must have a <code>node</code> field, used to query nodes globally.</p>\n<p>Next, <em>Connections</em>. Connections are an Object that provide a standard way to slice and paginate results. Connections can provide <code>PageInfo</code>, a way of telling the client if there are more results to fetch still. The Connection object provides a cursor for every item in it’s result set.</p>\n<p>The last thing that Relay adds to a GraphQL server is the <em>Input Object Mutation</em>. Compared to regular GraphQL mutations, Relay mutations are similar, but try to standardize the way they are exposed and called. Every mutation takes 1 argument, an Input Object. This input object must always contain a <code>clientMutationId</code>, and the GraphQL server must always return it in the response.</p>\n<p>So as you see, 3 things are added on top of a vanila GraphQL server:</p>\n<ul>\n<li>Global Object Identification</li>\n<li>Connections</li>\n<li>Input Object Mutations</li>\n</ul>\n<h3>Implementing the spec</h3>\n<p>Each of these require quite a bit of work to implement in a GraphQL server. I’ve done the exercise myself, and will share what I’ve done to  implement the Relay spec in a Ruby on Rails GraphQL server, using the <code>GraphQL</code> gem as a base. I will divide the results in 3 blog posts, starting with this one. Let’s start by the <code>Global Object Indentification</code>.</p>\n<h3>Global Object Indentification</h3>\n<p>Let’s start by making our current Object Types compatible with Relay. If you remember from above, each object had to have an <code>id</code>field. GraphQL has support for interface objects, this is a great use case for what we want to do. When using interfaces in the <code>GraphQL</code> gem, the object implementing it “inherits” from it’s field.</p>\n<p>So the first step is to create that interface type, let’s call it <code>Node</code>.</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># lib/graph/relay/node.rb</span>\n<span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Graph</span></span>\n  <span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Relay</span></span>\n    Node = GraphQL::InterfaceType.define <span class="hljs-keyword">do</span>\n      name <span class="hljs-string">"Node"</span>\n      field <span class="hljs-symbol">:id</span>, !types.ID, <span class="hljs-symbol">property:</span> <span class="hljs-symbol">:to_global_id</span>\n\n      resolve_type -&gt; (object) <span class="hljs-keyword">do</span>\n        Graph::Relay::Node.possible_types.detect <span class="hljs-keyword">do</span> <span class="hljs-params">|type|</span>\n          object.is_a?(type.model)\n        <span class="hljs-keyword">end</span>\n      <span class="hljs-keyword">end</span>\n    <span class="hljs-keyword">end</span>\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>This should not look too unfamiliar to you. We’re simply defining an Interface type using the <code>GraphQL</code> gem. An interface must be able to resolve the type of an object. The code is pretty straight forward, we look through all of the <code>possible_types</code> and find one that matches our object using <code>type.model</code>.</p>\n<p>Our field here, will simply resolve by calling <code>object.to_global_id</code>. We need Global Identification, so I used something that Rails has by default: <a href="https://github.com/rails/globalid">GlobalID</a>. Calling <code>object.to_global_id</code> transforms your ActiveRecord into a <code>GlobalID</code> oject, a unique identifier for that particular record.</p>\n<pre><code class="language-ruby">=&gt; User.find(<span class="hljs-number">1</span>).to_global_id\n=&gt; #&lt;GlobalID:0x007f9abca6ecb8 @uri=#&lt;URI::GID gid://app-name/User/1&gt;&gt;\n</code></pre>\n<p>You might’ve noticed that <code>type.model</code> is not an attribute that types have using the <code>GraphQL</code> gem. Since we’re using rails, I’ve augmented the normal GraphQL object type with my own attributes, like this:</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># lib/graph/active_record_object_type.rb</span>\n<span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Graph</span></span>\n  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ActiveRecordObjectType</span> &lt; GraphQL::ObjectType</span>\n    <span class="hljs-keyword">attr_accessor</span> <span class="hljs-symbol">:model</span>\n    accepts_definitions(<span class="hljs-symbol">:model</span>)\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p><code>accepts_definitions</code> is a new addition to the <code>GraphQL</code> gem. It basically lets you add custom fields to an ObjectType, while still being able to use the DSL <code>GraphQL-ruby</code> provides.</p>\n<p>With that being done, we can simply implement this interface in our existing fields, just like this:</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># app/graph/user_type.rb</span>\nUserType = Graph::ActiveRecordObjectType.define <span class="hljs-keyword">do</span>\n  name <span class="hljs-string">"User"</span>\n  description <span class="hljs-string">"A User"</span>\n  interfaces [Graph::Relay::Node]\n  model User\n\n  field <span class="hljs-symbol">:email</span>, !types.String, <span class="hljs-symbol">property:</span> <span class="hljs-symbol">:email</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>The two lines that interest us here are <code>model User</code> which will indicate which ActiveRecord model our type is refering to, and <code>interfaces [Graph::Relay::Node]</code>, which does exactly what we wanted to do!</p>\n<p>There’s now only one thing left to do. Exposing a <code>node</code> field on the query root. We can do this just like defining any other field:</p>\n<pre><code class="language-ruby">  field <span class="hljs-symbol">:node</span> <span class="hljs-keyword">do</span>\n    type Graph::Relay::Node\n    argument <span class="hljs-symbol">:id</span>, !types.ID\n\n    resolve -&gt; (object, args, <span class="hljs-number">_</span>) <span class="hljs-keyword">do</span>\n      gid = GlobalID.parse(args[<span class="hljs-string">"id"</span>])\n      GlobalID::Locator.locate(gid)\n    <span class="hljs-keyword">end</span>\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>Our field accepts one argument, <code>id</code>. And uses <code>GlobalID::Locator</code> to get the corresponding object, pretty simple!</p>\n<p>Lets test this!</p>\n<p>First, let’s see if the object we query have the <code>id</code> field available:</p>\n<p><code>query getObjectId { viewer { currentUser { email } } }</code></p>\n<img width="637" alt="screenshot 2016-03-27 19 07 34" src="https://cloud.githubusercontent.com/assets/1919498/14068402/54fe279a-f450-11e5-8726-7520882996a6.png">\n<p>Then, we should be able to query any object using the <code>node</code> field:</p>\n<p><code>query getObjectById { node(id: &quot;gid://review-buddy/User/1&quot;) { ... on User { email } } }</code></p>\n<img width="602" alt="screenshot 2016-03-27 19 12 10" src="https://cloud.githubusercontent.com/assets/1919498/14068401/53951aee-f450-11e5-8c00-e9b0c531ec4a.png">\n<p>Next week I’ll have a post up about implementing the second thing Relay needs from a GraphQL server: <em>Connections</em></p>\n<p>As always you can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"The Inner Workings of Relay Mutations (part 1)",date:"2016-11-20T10:00:00.000Z",description:"How relay interprets your fatQuery and configurations",body:'<p>In the past few months I’ve contributed a few things to Relay. Most of these things were related to mutations, which really helped me understand what happens under the hood when we execute mutations from Relay.</p>\n<p>Relay mutations are often the source of some confusion, especially with all the mutation configs we must choose from. I’ve written about how <a href="http://mgiroux.me/2016/quick-dive-into-relay-query-fetching/">Relay executes read queries</a> before and how to <a href="http://mgiroux.me/2016/the-mysterious-relay-range-behaviours/">understand range behaviours</a>, but this time we’ll see what happens when we execute a Relay mutation from start to end!</p>\n<h1>The API</h1>\n<p>Relay Mutations are defined by extending the <code>Relay.Mutation</code> base type. We declare\na class that defines… a <em>lot</em> of things ;)</p>\n<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddItemMutation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Relay</span>.<span class="hljs-title">Mutation</span> </span>{\n  <span class="hljs-comment">// Our getMutation function should return a GraphQL query</span>\n  <span class="hljs-comment">// that contains our mutation operation. In our case we\'re interested</span>\n  <span class="hljs-comment">// with the addItem mutation.</span>\n  getMutation() {\n    <span class="hljs-keyword">return</span> Relay.QL<span class="hljs-string">`mutation {addItem}`</span>;\n  }\n\n  <span class="hljs-comment">// getVariables is straightforward. It should return any variables our mutation</span>\n  <span class="hljs-comment">// might need.</span>\n  getVariables() {\n    <span class="hljs-keyword">return</span> {<span class="hljs-attr">item</span>: <span class="hljs-keyword">this</span>.props.item};\n  }\n\n  <span class="hljs-comment">// the getFatQuery function is the tricky one. A "fat query" is a GraphQL like</span>\n  <span class="hljs-comment">// query that represents every field in your data model that could change as</span>\n  <span class="hljs-comment">// a result of a mutation.</span>\n  <span class="hljs-comment">// For example, when we add an item, our `collection` should change.</span>\n  getFatQuery() {\n    <span class="hljs-keyword">return</span> Relay.QL<span class="hljs-string">`\n      fragment on AddItemPayload {\n        collection { item }\n        newItemEdge\n      }\n    `</span>;\n  }\n\n  <span class="hljs-comment">// The getConfigs method should return an array of config objects. These</span>\n  <span class="hljs-comment">// config objects instruct how Relay should react to our newItemEdge</span>\n  <span class="hljs-comment">// after the mutation has been done.</span>\n  getConfigs() {\n    <span class="hljs-keyword">return</span> [{\n      <span class="hljs-attr">type</span>: <span class="hljs-string">\'RANGE_ADD\'</span>,\n      <span class="hljs-attr">parentName</span>: <span class="hljs-string">\'parent\'</span>,\n      <span class="hljs-attr">parentID</span>: <span class="hljs-keyword">this</span>.props.parent.id,\n      <span class="hljs-attr">connectionName</span>: <span class="hljs-string">\'collection\'</span>,\n      <span class="hljs-attr">edgeName</span>: <span class="hljs-string">\'newItemEdge\'</span>,\n      <span class="hljs-attr">rangeBehaviors</span>: {\n        <span class="hljs-comment">// When the collection connection is not under the influence</span>\n        <span class="hljs-comment">// of any call, append the ship to the end of the connection</span>\n        <span class="hljs-string">\'\'</span>: <span class="hljs-string">\'append\'</span>,\n        <span class="hljs-comment">// Prepend the edge, wherever the connection is sorted by most recent</span>\n        <span class="hljs-string">\'orderby(newest)\'</span>: <span class="hljs-string">\'prepend\'</span>,\n      },\n    }];\n  }\n}\n</code></pre>\n<p>To execute such mutations, we usually use the <code>relay.commitUpdate</code> function. In our case, the code\nwould look like this:</p>\n<pre><code class="language-javascript">onItemAdd = <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {\n  <span class="hljs-comment">// To perform a mutation, pass an instance of one to</span>\n  <span class="hljs-comment">// `this.props.relay.commitUpdate`</span>\n  <span class="hljs-keyword">this</span>.props.relay.commitUpdate(\n    <span class="hljs-keyword">new</span> AddItemMutation({item})\n  );\n}\n</code></pre>\n<p>Ok, now that we know the API, it’s time to dig into what happens when we call that <code>commitUpdate</code> function. Make sure to check out the <a href="https://facebook.github.io/relay/docs/guides-mutations.html#content">Relay Mutation Docs</a> if you’re confused, or not familiar with Relay Mutations!</p>\n<h1>Mutation Transactions</h1>\n<p>The first step in executing a mutation for Relay is to create a Transaction object and enqueue it in the <code>RelayMutationQueue</code>. The <code>RelayMutationQueue</code> is an object used coordinate all mutations in your app. It will take care of optimistic payloads, rollbacking those when the server response is different, and even manage collision keys (Mutations with the same collision should be ran serially).</p>\n<h2>Creating a transaction</h2>\n<p>What <code>commitUpdate</code> does is exactly that.</p>\n<ul>\n<li>It will first create a <code>RelayPendingTransaction</code> using the mutation object we passed to it.</li>\n<li>It will keep track of the pending mutation with a <code>_pendingTransactionMap</code> cache on the <code>RelayMutationQueue</code>.</li>\n<li>It will add the pending transaction to the <code>_queue</code></li>\n</ul>\n<p>Notice that <code>commitUpdate</code> can take an <code>onSuccess</code> and <code>onFailure</code> callback. These callbacks are attached\nto the pending transaction.</p>\n<p>Relay will then try to apply the optimistic change to it’s internal store, before even sending the\nmutation to the GraphQL server. Using the transaction id (the famous <code>clientMutationID</code>), it will retrieve the transaction from the queue and call <code>_handleOptimisticUpdate</code>. This will do a few things:</p>\n<ul>\n<li>get the optimistic response from the transaction by calling <code>transaction.getOptimisticResponse()</code></li>\n<li>get the optimistic query (fake GraphQL query basically)  by calling <code>transaction.getOptimisticQuery()</code></li>\n<li>Update the store as if we received a response from the GraphQL server using the query and the response. (We’ll see how that works in detail later on)</li>\n</ul>\n<p><em>Note: If we had used <code>applyUpdate</code> instead of <code>commitUpdate</code> here, our job would be done. <code>applyUpdate</code> is used to create a transaction, but not doing anything with it yet. <a href="http://mgiroux.me/2016/relays-apply-update-function/">I’ve written about it before.</a></em></p>\n<p>OK. Now that the transaction is queued and our optimistic update was successful, we would like to execute that mutation! <code>commitUpdate</code>, as you might’ve guessed, will then call <code>commit</code> on the transaction.</p>\n<h2>Committing the transaction</h2>\n<p>When committing a transaction, the first thing Relay checks for is collisions. Collision keys can be used to tell Relay not to commit two conflicting transactions concurrently. So every time we commit a transaction, Relay will check in a special <code>collisionQueue</code> to check if we have something for that key queued up already. If it does not we can go ahead and commit!</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> RelayMutationRequest(\n  transaction.getQuery(<span class="hljs-keyword">this</span>._storeData),\n  transaction.getFiles(),\n);\n<span class="hljs-keyword">this</span>._storeData.getNetworkLayer().sendMutation(request);\n</code></pre>\n<p>Relay will create a new object <code>RelayMutationRequest</code>. <code>RelayMutationRequest</code> is used\nby the network layer to send the mutation to our server. It actually extends <code>Deferred</code> and is used\nlike one.</p>\n<p>The really important line here though is <code>transaction.getQuery(this._storeData)</code>. Our RelayMutationRequest takes a <code>RelayQuery.Mutation</code> object as it’s first parameter.</p>\n<p><code>transaction.getQuery</code> builds a <code>RelayQuery.Mutation</code> object:</p>\n<pre><code class="language-javascript">RelayMutationQuery.buildQuery({\n  <span class="hljs-attr">configs</span>: <span class="hljs-keyword">this</span>.getConfigs(),\n  <span class="hljs-attr">fatQuery</span>: <span class="hljs-keyword">this</span>.getFatQuery(),\n  <span class="hljs-attr">input</span>: <span class="hljs-keyword">this</span>.getInputVariable(),\n  <span class="hljs-attr">mutationName</span>: <span class="hljs-keyword">this</span>.getMutationNode().name,\n  <span class="hljs-attr">mutation</span>: <span class="hljs-keyword">this</span>.getMutationNode(),\n  tracker,\n});\n\n<span class="hljs-comment">// =&gt; Returns a RelayQuery.Mutation</span>\n</code></pre>\n<p>A <code>RelayQuery.Mutation</code> object is basically an in memory representation of the <code>GraphQL</code> query that will be sent to the server. It supports a bunch of operations, but mainly we will use it to print our final GraphQL Query.</p>\n<h1>Building the final mutation query</h1>\n<p>The hard part here is building that object. Relay needs to build the correct fragments for you. These fragments depend on many things such as:</p>\n<ul>\n<li>The FatQuery you defined</li>\n<li>The configs you defined (RANGE_ADD, FIELDS_CHANGE, etc…)</li>\n<li>The Query Tracker</li>\n<li>Variables</li>\n</ul>\n<p><code>RelayMutationQuery.buildQuery</code> is used to build those final fragments and finally build our <code>RelayQuery.Mutation</code> object.</p>\n<p>So <code>buildQuery</code> goes through every config you have defined in your mutation object. For every config it will create a fragment using the corresponding function:</p>\n<ul>\n<li><code>RANGE_ADD</code> =&gt; <code>RelayMutationQuery.buildFragmentForEdgeInsertion</code></li>\n<li><code>RANGE_DELETE</code> =&gt; <code>RelayMutationQuery.buildFragmentForEdgeDeletion</code></li>\n<li><code>FIELDS_CHANGE</code> =&gt; <code>RelayMutationQuery.buildFragmentForFields</code></li>\n<li>…</li>\n</ul>\n<p>Each of these functions behave differently but let’s take for example <code>buildFragmentForEdgeInsertion</code> which creates a fragment used to fetch data necessary to insert a new edge into an existing connection.</p>\n<p>First, it will use the <code>tracker</code> to check if our application is actually using the connection we’re appending to. There’s no need to fetch extra data that we won’t use right ? Then since we’re doing a <code>RANGE_ADD</code> mutation, we’ll build the <code>newEdgeField</code>, which your server should be returning! Finally, we’ll use the <code>fatQuery</code> and the tracker to see what we should refetch.</p>\n<p>Relay will intersect your <code>fatQuery</code> and the <code>trackedQuery</code> for the parent node. That means that even if you add an enormous amount of fields in your <code>fatQuery</code>, if you current view doesn’t actually show these fields (they’re not tracked), Relay will not include these in the mutation fragment. This is done using the <code>intersectRelayQuery</code> function.</p>\n<p>All the nodes we are building are pushed into a fields array, that will be used to create our fragment object:</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> fragment = RelayQuery.Fragment.build(\n  <span class="hljs-string">\'MutationQuery\'</span>,\n  fatQuery.getType(),\n  fields\n);\n</code></pre>\n<p>When all the needed fragments are created (maybe you had many configurations), we’re ready to create the final <code>RelayQuery.Mutation</code> object.</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">return</span> RelayQuery.Mutation.build(\n  ...lotsOfStuff,\n  fragments\n);\n</code></pre>\n<h1>Sending it through the wire</h1>\n<p>The <code>RelayMutationRequest</code> we created with our <code>RelayQuery.Mutation</code> object is now ready to be sent.</p>\n<pre><code class="language-javascript">getNetworkLayer().sendMutation(request)\n</code></pre>\n<p>The <code>NetworkLayer</code> here can be the <code>DefaultNetworkLayer</code> that Relay Provides, but is also often a custom class in user land. That class should respond to <code>sendMutation</code>, which will receive the request.</p>\n<p>Finally, we can then use the multiple functions on the request object to send our payload to the server:</p>\n<pre><code class="language-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendMutation</span>(<span class="hljs-params">request</span>) </span>{\n  fetch(<span class="hljs-keyword">this</span>._uri, {\n    <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify({\n      <span class="hljs-attr">query</span>: request.getQueryString(),\n      <span class="hljs-attr">variables</span>: request.getVariables(),\n    }),\n    <span class="hljs-attr">headers</span>: {\n      <span class="hljs-string">\'Accept\'</span>: <span class="hljs-string">\'*/*\'</span>,\n      <span class="hljs-string">\'Content-Type\'</span>: <span class="hljs-string">\'application/json\'</span>,\n    },\n    <span class="hljs-attr">method</span>: <span class="hljs-string">\'POST\'</span>,\n  });\n}\n</code></pre>\n<p>So this was a high level overview of what happens when you execute a Mutation in Relay! I believe understanding what happens under the hood makes it easier to debug your mutations as it’s not always straight forward :).</p>\n<p>There’s a lot of other interesting things happening when we receive the response from the server, but I’ll keep that for part 2.</p>\n<p>This blog was based on what is at this time the latest master. Which you can find here <a href="https://github.com/facebook/relay/tree/beb150b86f1e0e4a2c22e8e20fb52003ed344196">https://github.com/facebook/relay/tree/beb150b86f1e0e4a2c22e8e20fb52003ed344196</a>.</p>\n<p>Let me know if you have any questions! And as always you can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a>!</p>\n'
}},function(e,t){e.exports={title:"Instrumenting Rails apps without impacting performance: Behind New Relic's Ruby Client",date:"2016-10-08T12:00:00.000Z",description:"My deep dive notes on RPM: New Relic's Ruby Client",body:'<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" content="@__xuorig__">\n<meta name="twitter:creator" content="@__xuorig__">\n<meta name="twitter:title" content="Instrumenting Rails apps without impacting performance: Behind New Relic\'s Ruby Client">\n<meta name="twitter:description" content="Instrumenting Rails apps without impacting performance: Behind New Relic\'s Ruby Client">\n<meta name="twitter:image" content="">\n<h4><em>Surprise! A blog post that is not about GraphQL ;)</em></h4>\n<p>Actually, it kind of begins with GraphQL. I was recently looking into ways of instrumenting GraphQL execution. <a href="https://github.com/rmosolgo/GraphQL-ruby">GraphQL-ruby</a> is about to get instrumentation events: <a href="https://github.com/rmosolgo/GraphQL-ruby/issues/186">https://github.com/rmosolgo/GraphQL-ruby/issues/186</a> and knowing exactly what time our resolvers take to resolve / logging deprecated field usage is really interesting.</p>\n<p>At the same time, Apollo is also releasing something called <a href="http://www.apollostack.com/optics">Apollo Optics</a>. It looks great and it would be great to send data to Optics from our Rails app. At the moment, there isn’t really any finished client for Optics so I looked at how we could implement one in Ruby.</p>\n<p>The main blocker here is that we’re using Rails with <a href="https://github.com/defunkt/unicorn"><em>Unicorn</em></a>. Unicorn is a pre-forking webserver and each request Unicorn handles is handled by one process, which is blocked until the request is finished. Sending data as an inline call to Optics or any other server during a request would be sad; we would block the process longer and also delay the response for the client. It shouldn’t impact our response time!</p>\n<p>I’ll admit I  was a bit confused on how to solve that problem, but I also knew that it was possible since it’s been done many times before! <a href="https://twitter.com/cjoudrey">@cjoudrey</a> pointed me to <a href="https://github.com/newrelic/rpm">RPM</a>, the New Relic Ruby client, which can be used easily in a Rails app to instrument a whole lot of different metrics.</p>\n<p>I explored the code base for some (a lot of) time and  got out alive. Here’s a few notes on how they make it work without impacting your app’s performance!</p>\n<h1>RPM</h1>\n<p>Repo: <a href="https://github.com/newrelic/rpm">https://github.com/newrelic/rpm</a></p>\n<p>Disclaimer: This post won’t actually be about how to use <a href="https://github.com/newrelic/rpm">RPM</a> in your app. It’s actually quite simple, the README is right here: <a href="https://github.com/newrelic/rpm">https://github.com/newrelic/rpm</a>. Instead we’ll focus on how things are implemented inside!</p>\n<p>Disclaimer 2: RPM works with pretty much all popular Ruby webservers, and also a lot of popular Ruby Web Frameworks. In this post we’ll focus on how they make it work for Unicorn &amp; Rails. Alright let’s start!</p>\n<p>Let’s go back to the original problem. We are using Unicorn, a pre-forking web server to handle requests. Making http calls to the New Relic server is quite expensive and we can’t afford to do that inline. As some of you maybe already guessed, RPM uses an “Agent Thread” to make those calls.</p>\n<p>The first thing that surprised me is that the Agent Thread isn’t started when you boot the App when you’re using Unicorn or another pre-forking server:</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_agent</span></span>\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> using_forking_dispatcher?\n  setup_and_start_agent\n<span class="hljs-keyword">end</span>\n</code></pre>\n<pre><code class="language-ruby"><span class="hljs-comment"># If we\'re using a dispatcher that forks before serving</span>\n<span class="hljs-comment"># requests, we need to wait until the children are forked</span>\n<span class="hljs-comment"># before connecting, otherwise the parent process sends useless data</span>\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">using_forking_dispatcher?</span></span>\n  <span class="hljs-keyword">if</span> [<span class="hljs-symbol">:unicorn</span>, ...].<span class="hljs-keyword">include</span>? Agent.config[<span class="hljs-symbol">:dispatcher</span>]\n    <span class="hljs-literal">true</span>\n  <span class="hljs-keyword">else</span>\n    <span class="hljs-literal">false</span>\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>You see here that if we’re using unicorn, RPM won’t actually start the Agent thread when asked, and will instead wait until later. When ? When we actually receive a request to be traced! Take a look at this method inside the <code>NewRelic::Agent::Harvester</code> class. The job of that class is to wait for a new transaction (request) and to start our Agent Thread when we receive it!</p>\n<p><em>I believe the reason why RPM doesnt start the agent on boot is that since Unicorn is a pre-forking server, we want to make sure the Agent is ran inside the actual processes. Waiting for a transaction to start makes sure we’ll be inside one of those processes!</em></p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_transaction</span><span class="hljs-params">(*<span class="hljs-number">_</span>)</span></span>\n  restart_harvest_thread\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>What <code>Harvester#restart_harvest_thread</code> ends up calling is <code>Agent#start_worker_thread</code>. <code>start_worker_thread</code> spawns a new Thread using their own abstraction <code>NewRelic::Agent::Threading::AgentThread</code>, and that thread starts working!</p>\n<h3>The Agent Thread</h3>\n<p>Inside that thread is where things start getting really interesting. Here’s what is ran inside:</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_and_run_event_loop</span></span>\n  @event_loop = create_event_loop\n  @event_loop.on(<span class="hljs-symbol">:report_data</span>) <span class="hljs-keyword">do</span>\n\ttransmit_data\n  <span class="hljs-keyword">end</span>\n\n  @event_loop.fire_every(Agent.config[<span class="hljs-symbol">:data_report_period</span>], <span class="hljs-symbol">:report_data</span>)\n\n  @event_loop.run\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Wow! What’s that event loop and what the hell is it doing ? We can see we seem to be subscribing to events and providing callbacks (transmit_data). And it also seems like we’re creating some sort of timer with <code>fire_every</code>.</p>\n<p><code>create_event_loop</code> gives us an instance of <code>EventLoop</code>. If we take a look inside the <code>NewRelic::Agent::EventLoop</code> class, we discover a pattern similar to what some of you might already be familiar with: <a href="https://en.wikipedia.org/wiki/Reactor_pattern">The Reactor Pattern</a>.</p>\n<h3>The EventLoop</h3>\n<pre><code class="language-ruby"><span class="hljs-comment"># NewRelic::Agent::EventLoop</span>\n\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run_once</span></span>\n  <span class="hljs-comment"># wait until we have stuff to do before executing once ( more on this later )</span>\n  wait_to_run\n\n  <span class="hljs-comment"># Execute timers which will populate the event_queue</span>\n  fire_timers\n\n  <span class="hljs-comment"># Consume all events that we have received</span>\n  <span class="hljs-keyword">until</span> @event_queue.empty?\n    evt, args = @event_queue.pop\n    dispatch_event(evt, args)\n    reschedule_timer_for_event(evt)\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>As you can see, the main loop takes care of firing any timers we’ve added, and also reads anything we might’ve put inside it’s event queue. That loop repeats until we instruct it to stop. You might’ve noticed the <code>wait_to_run</code> method called on top of the loop. Take a look at the implementation:</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># NewRelic::Agent::EventLoop</span>\n\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wait_to_run</span></span>\n  <span class="hljs-comment"># next timeout calculates how much time left until next timeout</span>\n  timeout = next_timeout\n\n  <span class="hljs-comment"># IO.select will block the loop until its time to execute a timer or</span>\n  <span class="hljs-comment"># if we have received something to read in <span class="hljs-doctag">@self</span>_pipe_rd (more on that later)</span>\n  ready = IO.select([@self_pipe_rd], <span class="hljs-literal">nil</span>, <span class="hljs-literal">nil</span>, timeout)\n\n  <span class="hljs-keyword">if</span> ready &amp;&amp; ready[<span class="hljs-number">0</span>] &amp;&amp; ready[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] &amp;&amp; ready[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] == @self_pipe_rd\n    @self_pipe_rd.read(<span class="hljs-number">1</span>)\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>The <code>wait_to_run</code> method blocks the execution using <code>IO.select</code>. It only blocks for the amount specified by <code>timeout</code>. In this case the timeout is the amount of time left until we need to fire the next timer! But what if theres a lot of time left before the next timer needs to be fired and we need to add an event in the queue ? Since it’s stuck in the loop waiting for the timer, our EventLoop won’t be able to execute the callback!</p>\n<p>This is why you see <code>@self_pipe_rd</code>. When we fire an event using the <code>fire</code> method, we’ll write a byte into <code>@self_pipe_rd</code> to “wakeup” the event loop, skipping the specified timeout using <code>IO.select</code>. This is the good ol’ “self-pipe” trick! Read more about it here: <a href="https://www.sitepoint.com/the-self-pipe-trick-explained/">https://www.sitepoint.com/the-self-pipe-trick-explained/</a></p>\n<p>OK, remember when we added timers to our event loop: <code>@event_loop.fire_every(Agent.config[:data_report_period], :report_data)</code>. With that we added a timer to the loop, and when it’s time to fire that timer, the event loop will queue the <code>:report_data</code> in the <code>event_queue</code> once the loop pops that event from the queue it will execute its callback:</p>\n<pre><code class="language-ruby">@event_loop.on(<span class="hljs-symbol">:report_data</span>) <span class="hljs-keyword">do</span>\n  transmit_data\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Finally! We’re sending our instrumentation data to New Relic’s servers. But where did we get that data from, and how do we access it ?</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">transmit_data</span></span>\n  @service.session <span class="hljs-keyword">do</span>\n    harvest_and_send_errors\n    harvest_and_send_error_event_data\n    harvest_and_send_transaction_traces\n    harvest_and_send_slowest_sql\n    harvest_and_send_timeslice_data\n\n    check_for_and_handle_agent_commands\n    harvest_and_send_for_agent_commands\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>As you see, we’re sending a lot of different data, but for this post I will focus only on errors. All different types of data are handled in a similar way.</p>\n<p><code>@service.session</code> will try to open a keep-alive connection with new relics servers so we can send it all these requests inside a single connection.</p>\n<p>As I just said, Lets focus on <code>harvest_and_send_errors</code>. All these <code>harvest_*</code> methods are quite similar. They call <code>harvest_and_send_from_container</code> specifying which ‘container’ they want to harvest from, and which type of data it wants from it.</p>\n<p>“Containers” are an abstraction in RPM. All containers define an <code>harvest!</code> method, which will return an array of data to be sent.</p>\n<p>In our case, the container is an instance of <code>NewRelic::Agent::ErrorTraceAggregator</code>. If we look at the source, we indeed see the <code>harvest!</code> method:</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># Get the errors currently queued up.  Unsent errors are left</span>\n<span class="hljs-comment"># over from a previous unsuccessful attempt to send them to the server.</span>\n\n<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">harvest!</span></span>\n  @lock.synchronize <span class="hljs-keyword">do</span>\n    errors = @errors\n    @errors = []\n    errors\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>The <code>harvest!</code> method’s job is quite simple, it takes all the errors it aggregated and returns them, while reseting it’s own aggregator array to an empty array <code>[]</code>.</p>\n<p>Notice we used <code>@lock</code>, a <code>Mutex</code> to synchronize that behaviour. This is because we’re inside the Threading Agent, but our Unicorn Process / Rails App might be also writting to it at the same time!</p>\n<p>Speaking of which, how did data end up in that aggregator ? It’s time to leave the <code>Agent</code> and take a loop how RPM integrates with Rails to populate these agregators.</p>\n<h3>Instrumenting the Rails Controller</h3>\n<p>RPM needs a way to hook into our normal Rails controller so it can trace it’s behaviour. The way they did it is by reimplementing <code>process_action</code> in a module. That module is included by RPM inside <code>ActionController</code> by default if you use the gem.</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_action</span><span class="hljs-params">(*args)</span></span> <span class="hljs-comment">#THREAD_LOCAL_ACCESS</span>\n  perform_action_with_newrelic_trace(\n    <span class="hljs-symbol">:category</span> =&gt; <span class="hljs-symbol">:controller</span>,\n    <span class="hljs-symbol">:name</span> =&gt; <span class="hljs-keyword">self</span>.action_name,\n    <span class="hljs-symbol">:path</span> =&gt; newrelic_metric_path,\n    <span class="hljs-symbol">:params</span> =&gt; munged_params,\n    <span class="hljs-symbol">:class_name</span> =&gt; <span class="hljs-keyword">self</span>.<span class="hljs-keyword">class</span>.name)  <span class="hljs-keyword">do</span>\n      <span class="hljs-keyword">super</span>\n    <span class="hljs-keyword">end</span>\n  en\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>RPM is basically wrapping <code>process_action</code> with it’s own instrumentation method, allowing it to catch errors, time the response time, and anything you can imagine!</p>\n<p>Inside <code>peform_action_with_newrelic_trace</code> we find the Core class in charge of instrumenting our app: <code>NewRelic::Agent::Transaction</code></p>\n<p>The result is that <code>process_action</code> is wrapped between a <code>Transaction.start</code> statement and a <code>Transaction.stop</code> statement.</p>\n<p>Remember the <code>on_transaction</code> method that made our agent boot up ? Well <code>Transaction.start</code> dispatches that event!</p>\n<p>There is a <strong>lot</strong> of stuff happening inside the <code>Transaction</code> class. I’ll stay the errors example and take a look at the <code>Transaction.stop</code> part, where errors are instrumented. <code>#stop</code> records metrics by finally calling the <code>commit!</code> method. This is where RPM fills our agregators / containers with data.</p>\n<p>Here’s a simplified version of the <code>commit!</code> method:</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">commit!</span><span class="hljs-params">(state, end_time, outermost_node_name)</span></span>\n  <span class="hljs-comment"># ... record a bunch of things</span>\n  record_exceptions\n  record_transaction_event\n  send_transaction_finished_event\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>What do you think <code>record_exceptions</code> does ? Queues up an error in our error_aggregator!</p>\n<pre><code class="language-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">record_exceptions</span></span>\n  @exceptions.each <span class="hljs-keyword">do</span> <span class="hljs-params">|exception, options|</span>\n    options[<span class="hljs-symbol">:uri</span>]      <span class="hljs-params">||</span>= request_path <span class="hljs-keyword">if</span> request_path\n    options[<span class="hljs-symbol">:port</span>]       = request_port <span class="hljs-keyword">if</span> request_port\n    options[<span class="hljs-symbol">:metric</span>]     = best_name\n    options[<span class="hljs-symbol">:attributes</span>] = @attributes\n\n    <span class="hljs-comment"># Add errors to the aggregator</span>\n    agent.error_collector.notice_error(exception, options)\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>With this finished we have the most important pieces of RPM’s instrumentation. Let’s make a little summary of our findings.</p>\n<h3>TL;DR</h3>\n<ul>\n<li>RPM monkey patches / wraps Rails with it’s own instrumentation methods</li>\n<li>These methods, instead of sending the data immediatly, queue up the data in “containers” / aggregators.</li>\n<li>These aggretator are shared objects between our Rails App and the Agent Thread.</li>\n<li>When RPM begins a transaction on unicorn, it boots up the Agent Thread which, using a clever EventLoop, triggers the transmition of data.</li>\n<li>The Agent pops off data from the aggregators, and sends it over an http long lived connection.</li>\n</ul>\n<p>Of course I haven’t covered everything. There’s a lot of classes for different aggregators and there’s also a lot of complex behaviour inside the <code>Transaction</code> class.</p>\n<p>Diving into RPM gave me a lot of ideas on how to implement my own AgentThread for GraphQL instrumentation. I really hope it gave you some ideas!</p>\n<p>If I missed anything or said blatantly wrong thing please let me know :)</p>\n<p>As always, you can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"My journey into GraphQL-Ruby's query execution",date:"2016-02-14T11:00:00.000Z",description:"Overview of how GraphQL-Ruby resolves GraphQL queries using it's Executor",body:'<p><code>schema.execute()</code> is the public method we all use to execute GraphQL queries on our GraphQL-ruby powered Apis currently. But what actually happens when we call that method ? A cool thing <code>GraphQL-ruby</code> allows us to do is create our own query executors to use with the gem. I went on a journey into the default executor used by <code>GraphQL-ruby</code> and here are my finding:</p>\n<h3>It all starts at <code>my_schema.execute()</code></h3>\n<h4><code>GraphQL::Query</code></h4>\n<p>All <code>schema.execute</code> does is create a <code>GraphQL::Query</code>, passing itself to the query and then calling <code>query.result</code>.</p>\n<p>The <code>GraphQL::Query</code> object will validate any errors in the query right away, early returning any errors found.</p>\n<p>In the case where there are no validation errors, the query object will use a <code>GraphQL::Query::Executor</code> the get the query results.</p>\n<h4><code>GraphQL::Query::Executor</code></h4>\n<p>The executor is in charge of executing an operation <code>query | mutation | subscription</code> on a GraphQL query. It also rescues any error that could happen during the execution.</p>\n<p>It will first find the <code>selected_operation</code>. You can technically have multiple operations in a GraphQL_query, but we it only execute one.</p>\n<p>With the <code>selected_operation</code> found, we can finally get the <code>RootType</code> for our operation. <code>GraphQL-ruby</code> calls <code>query.schema.public_send(operation_type)</code>. We’ll also need to get a special executor for that <code>operation_type</code>, so we call the schema to get the execution strategy too. (This is where you could set up your own strategy on the schema).</p>\n<p>Now that we have the <code>RootType</code> and the <code>execution_strategy</code> we need, let’s get their result!</p>\n<h4><code>execution_strategy.execute(operation, root_type, query)</code></h4>\n<p>For now, the <code>execution_strategy</code> for all operation types is always <code>SerialExecution</code></p>\n<h4><code>GraphQL::Query::SerialExecution</code></h4>\n<blockquote>\n<p>aka GraphQL::Query::BaseExecution</p>\n</blockquote>\n<p>SerialExecution is pretty much a wrapper for the three main classes we will need to resolve our query:</p>\n<pre><code class="language-javascript">  GraphQL::Query::BaseExecution::FieldResolution\n  GraphQL::Query::BaseExecution::OperationResolution\n  GraphQL::Query::BaseExecution::SelectionResolution\n</code></pre>\n<p>From the spec:</p>\n<blockquote>\n<p>When evaluating a grouped field set serially, the executor must consider each entry from the grouped field set in the order provided in the grouped field set. It must determine the corresponding entry in the result map for each item to completion before it continues on to the next item in the grouped field set:</p>\n</blockquote>\n<p>We were still at the beggining of our execution. So obviously we will be going to start by resolving our operation, the top level of our query. We pass it the <code>ast_operation</code>, <code>root_type</code>, <code>query_obj</code>, and <code>self</code>.</p>\n<h4><code>GraphQL::Query::BaseExecution::OperationResolution</code></h4>\n<p>Operation resolution is pretty straight forward. We take all the selections on the query, we instanciate a <code>SelectionResolution</code> object, pass it all the selections and let it do the rest of the job!</p>\n<h4><code>GraphQL::Query::BaseExecution::SelectionResolution</code></h4>\n<p>Before we go deeper, let’s mke sure we understand Operations, Selections and Fields. Take a look at this query where we fetch heroes of two starwars movies.\nOur <code>operation_type</code> is <code>query</code> and our <code>operation_name</code> that will be the selected operation here would be <code>starwars</code>.</p>\n<pre><code class="language-javascript">query starwars {\n  <span class="hljs-attr">heroNewHope</span>: hero(episode: NEWHOPE) {\n    id\n    name\n\n  }\n  heroJedi: hero(episode: JEDI) {\n    id\n    name\n  }\n}\n\n</code></pre>\n<p>The top level selections on this query would look something like this</p>\n<pre><code class="language-javascript">alias:heroNewHope, name=hero, selections=[id, name]\nalias:heroJedi, name=hero, selections =[id, name]\n</code></pre>\n<p>Ok. This is where more things happen, in the <code>SelectionResolution</code>, we first flatten all the selection, and merge all fields to avoid resolving the same thing more than once, that means that if we have something like this:</p>\n<pre><code class="language-javascript">fragment DuplicateFields on Character {\n  id\n  name\n  appearsIn\n}\n\nquery starwars {\n  <span class="hljs-attr">heroNewHope</span>: hero(episode: NEWHOPE) {\n    id\n    name\n    ...DuplicateFields\n  }\n}\n</code></pre>\n<p>we’ll first merge everything to this instead:</p>\n<pre><code class="language-javascript">query starwars {\n  <span class="hljs-attr">heroNewHope</span>: hero(episode: NEWHOPE) {\n    id\n    name\n    appearsIn\n  }\n}\n</code></pre>\n<p>This is also where we will apply directives like these:</p>\n<pre><code class="language-javascript">    ...DuplicateFields @include(<span class="hljs-keyword">if</span>: <span class="hljs-literal">true</span>)\n</code></pre>\n<p>And <code>GraphQL-ruby</code> uses a <code>DirectiveChain</code> to do that.</p>\n<p><code>DirectiveChain</code> is a simple class taking a block that will resolve a fragment. Using the <code>directive.resolve</code> proc, it determines if the fragment should be skipped/included or not.</p>\n<p>When we’ve flattened the selections, and passed them thorugh the directive chain, its time to resolve the fields.</p>\n<h4><code>GraphQL::Query::BaseExecution::FieldResolution</code></h4>\n<p>FieldResolution is where we finally call the <code>resolve</code> function of our Field.</p>\n<p>A fun thing that <code>graphq-ruby</code> adds to the <code>GraphQL</code> spec, is being able to use middlewares. Middlewares are applied right before actually resolving, and can be used to do anything you want with a field before its being resolved, including halting the execution on that field.</p>\n<h5><code>get_raw_value</code></h5>\n<p>Calls every step of the middleware chain and finally calls the resolve proc using <code>field_definition.resolve(parent, args, context)</code>.</p>\n<p>If the value we get is <code>GraphQL::Query::DEFAULT_RESOLVE</code>, a <code>public_send</code> with the field name is sent to the parent object.</p>\n<h5><code>get_finished_value</code></h5>\n<p>In <code>get_finished_value</code>, we take the value we got from <code>get_raw_value</code>, return if its <code>nil</code>, or an <code>ExecutionError</code>. If we actually have a value, we use <code>GraphQL::Query::BaseExecution::ValueResolution</code> to keep executing the query, on the value.</p>\n<h3>Value Resolution</h3>\n<p>Value Resolution defines different classes to resolve every GraphQL type such as:</p>\n<h4>Object</h4>\n<p>In the case of an Object type, we know we’ll have selections on it. So we get our <code>selection_resolution</code> and resolve these again.</p>\n<h4>List</h4>\n<p>When resolving a List type, we simply get the underlying type of the items, and resolve each of them individually.</p>\n<h4>Enum and Scalar</h4>\n<p>If we get a Scalar or an Enum, we know we’re at a the end of a patg and that we can get a value. <code>coerce_result</code> is called on the field to get the value. <code>coerce_result</code> is simply a proc used to manipulate the final result value.</p>\n<p>The proc could look like something like this for example:</p>\n<pre><code class="language-javascript">coerce_result -&gt; (value) { value.to_f }\n</code></pre>\n<h4>NonNull</h4>\n<p>For a <code>NonNull</code> type, kind of like with a <code>List</code> type, we get the underlying type and resolve it with the proper strategy.</p>\n<p>When all selections on the top level operation are resolved, we finally return the Hash containing the entire query resolved.</p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"Navigating and understanding large code bases",date:"2016-11-12T11:00:00.000Z",description:"How to quickly get up and running within a new project or understand an open source library.",body:'<p>You’ve just landed your new dream job and you’re given your first issue to fix in a gigantic code base. Or maybe you’re digging into a library to understand what the hell is going on in your app. Sometimes it can feel a bit overwhelming. Where do you start ?</p>\n<p>I’m personally kind of addicted to understanding the libraries I use. In the past few months I’ve read a bunch of open source stuff out there but also a lot of code at Shopify, where we have a huge Rails code base. I like to think that I’m getting slightly faster at understanding code and I’ve developed some kind of system for how I approach a complicated piece of code. I thought I’d formalize it in this blog post. Let’s get to it!</p>\n<p><em>Disclaimer: These are things that work well for me but everybody learns in a different way, so these tricks might be completely useless for you but maybe they’ll help you!</em></p>\n<h2>1. Always Be Writing</h2>\n<p>The most important thing for me is to write down what I find and learn. So many times I’ll go through a codebase and think I understand it, only to come back to it 2 weeks later and having to learn things again because I forgot.</p>\n<p>I personally use private <a href="https://gist.github.com/">gists</a> for that. My latest example is probably from my dive into RPM, New Relic’s Ruby Client. My notes looked like <a href="https://gist.github.com/xuorig/85c04a97d85e16756338638b9b2db1a3">this</a>.</p>\n<p>As you can see hey don’t have to be written down in a nice way. It’s really just for you; to remember and visualize it better.</p>\n<h2>2. Find an entry point</h2>\n<p>I like to think about a code base like some kind of directed graph. You can often pick a function call and follow it through edges until you can’t continue anymore. But which path should you explore? I like to pick an entry point into that graph that makes sense. Usually, if it’s a library, I would pick the main public API method and follow the path.</p>\n<p>For example, when I was diving into <a href="http://mgiroux.me/2016/quick-dive-into-relay-query-fetching/">Relay’s Codebase</a> I picked <code>RelayRenderer</code> as the main entry point and followed along to figure out how Relay was querying a GraphQL endpoint.</p>\n<h2>3. Prune branches</h2>\n<p>Every time we hit a new Graph “node” which would for example be the body of a method, we usually end up expanding our choice of paths. For example, take this fake method as an example:</p>\n<pre><code class="language-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDataFromAPI</span>(<span class="hljs-params">params, apiEndpoint</span>) </span>{\n  <span class="hljs-keyword">if</span> (params.something) {\n    params = getNewParamsFromParams(params);\n  }\n\n  <span class="hljs-keyword">if</span> (validateApiEndpoint(apiEndpoint)){\n    queryAPI(params, apiEndpoint);\n  } <span class="hljs-keyword">else</span> {\n    handleApiEndpointInvalid();\n  }\n}\n</code></pre>\n<p>There’s quite a few things happening in this method. Here’s what our graph looks like\nfor this region.</p>\n<pre><code class="language-bash">                       +------------------+\n                       |                  |\n                       |  getDataFromAPI  |\n                       |                  |\n                       +--+------+-----+--+\n                          |      |     |\n                          |      |     |\n                          |      |     |\n                          |      |     |\n                          |      |     |\n        +-----------------+      |     +----------------+\n        |                        |                      |\n        |                        |                      |\n        v                        v                      v\ngetNewParamsFromParams  handleApiEndpointInvalid     queryAPI\n</code></pre>\n<p>We’ve got 4 choices to explore now.</p>\n<ul>\n<li><strong>A:</strong> We could try and inspect what <code>getNewParamsFromParams</code> does, and why it’s called when <code>params.something</code> is present.</li>\n<li><strong>B:</strong> We could check out what happens when the <code>apiEndpoint</code> is invalid.</li>\n<li><strong>C:</strong> We could see what happens in <code>queryAPI</code></li>\n<li><strong>D:</strong> Explore all the things!</li>\n</ul>\n<p>Option D is rarely a good choice for me for a few reasons. First, we just added 3 new paths to explore. The number of nodes to understand just grew by a lot, and we have no way of knowing how deep we’ll have to search before we come back to <code>getDataFromAPI</code>. The second reason I don’t like option D is that not all code paths are important for us, especially on a <em>first read</em>.</p>\n<p>In this case, Option C would make the most sense. We have to remember what we were searching for in the first place: How is data fetched from that API. Error handling can be understood after, and edge cases don’t matter a this point. We’re looking a general understanding of the code base.</p>\n<p>Coming back to point #1, I always document the path I take by writing the file name I’m exploring, the class I’m in, the method called, and a summary of what is done in there.</p>\n<p>To summarize this point: <em>Aggressively try to prune certain paths from your traversal. Avoid expanding in breath, focus on depth first.</em></p>\n<p><strong>In reality, what we’re doing is pretty close to a <a href="https://en.wikipedia.org/wiki/Best-first_search">Best-First Search</a>, where the heuristic function is decided by your brain. You have to guess which branch will lead you to your goal of understanding a particular piece of code.</strong></p>\n<h2>4. Multiple passes</h2>\n<p>In point 3, I suggested you aggressively cut “useless” branches that won’t lead you to what you’re really interested in a method. In reality, I like to do multiple “passes” on a code base. On the first pass, I’ll cut a lot of corners, cut almost all branches except the main one.</p>\n<p>On the subsequent passes, I’ll start going into some of those branches. Since   we already have a general understanding of the code base, these branches start to make more sense to us.</p>\n<h2>5. Don’t use if you don’t understand</h2>\n<p>I’ll admit that point is a bit extreme and even I don’t always follow it 100%. But just trying to follow it can yield awesome results: try to never use a Class, Function, Library, API, without knowing a bit of it’s internals.</p>\n<p>In theory, the interface is enough to write great software. But in my experience, for personal development, trying to dive into everything you use helps you learn much faster.</p>\n<h2>Bonus: Time</h2>\n<p><img src="https://media.giphy.com/media/xTiQywlOn0gKyz0l56/giphy.gif" alt="Time Gif"></p>\n<p>Understanding complex code bases has no shortcuts. These tricks help me make sense out of them much faster, but in the end, you really just need to put time aside to really understand what you work on or what you use.</p>\n<p>Hope these tricks will help you! If not, please share what has worked for you! As always, you can find me on <a href="https://twitter.com/__xuorig__">Twitter</a> and <a href="http://github.com/xuorig">Github</a>!</p>\n'
}},function(e,t){e.exports={title:"A quick dive into how relay fetches GraphQL queries",date:"2016-01-31T17:00:00.000Z",description:"Quick intro to how Relay fetches GrapQL queries and caches it's results.",body:'<p>For my own curiosity I’ve recently decided to dive into Relay’s source to understand\nhow it actually fetches queries and caches them. I thought I’d share the notes I took from my adventure into Relay.</p>\n<p><em>Dislaimer: this blog entry will be more like a note pad than a full blog.</em></p>\n<p>So I started At <code>RelayRenderer</code>. <code>RelayRenderer</code>\'s goal is to render a container and it’s query config after fulfilling its data dependencies. And this all basically starts at <code>componentWillReceiveProps</code></p>\n<h3>componentWillReceiveProps(nextProps)</h3>\n<h4>_runQueries</h4>\n<p>calls <code>_runQueries</code> to update state\n<code>_runQueries</code> will, as the name says, run the queries found in the <code>querySet</code>, retrieved by <code>getRelayQueries</code>.</p>\n<h4>getRelayQueries</h4>\n<p><code>getRelayQueries</code> is called when rendering a Relay Container, and retrieves all queries for a component, given a route.\nIt caches using the route name and params.\n<code>cacheKey = route.name + \':\' + stableStringify(route.params);</code></p>\n<p>it will abort if there is a current pending request\nif the forceFetch props is present: <code>RelayStore.forceFetch</code> is called with the <code>querySet</code>\nif not <code>RelayStore.primeCache</code> is called with the <code>querySet</code>. Both <code>forceFetch</code> and <code>primeCache</code> are functions on <code>GraphQLQueryRunner</code>.</p>\n<h3>GraphQLQueryRunner</h3>\n<p>This is the high-level entry point for sending queries to the GraphQL\nendpoint. It provides methods for scheduling queries (<code>run</code>), force-fetching\nqueries (ie. ignoring the cache; <code>forceFetch</code>).\nIn order to send minimal queries and avoid re-retrieving data,\n<code>GraphQLQueryRunner</code> maintains a registry of pending (in-flight) queries, and\n&quot;subtracts&quot; those from any new queries that callers enqueue.</p>\n<h4>GraphQLQueryRunner.run</h4>\n<p>by default will run with mode <code>DliteFetchModeConstants.FETCH_MODE_CLIENT</code>\nwill run <code>diffQueries</code> which is calculated by the <code>diffRelayQuery</code> function.\nIt can also run in REFETCH mode which not even diff the query.</p>\n<h4>diffRelayQuery</h4>\n<p>diffRelayQuery computes the difference between the data requested in <code>root</code> and the data\navailable in <code>store</code>. It returns a minimal set of queries that will fulfill\nthe difference, or an empty array if the query can be resolved locally.</p>\n<p>It Uses <code>RelayDiffQueryBuilder</code> to create the diff.</p>\n<p>Lets take a look at what happens, based on the TODO example, when you first query with a connection, and then change variables, let’s say <code>first</code>.</p>\n<h5>First query</h5>\n<pre><code class="language-javascript">query TodoList{node(id:<span class="hljs-string">"VXNlcjptZQ=="</span>){...F8}}\nfragment F0 on Todo{id}\nfragment F1 on Todo{complete,id}\nfragment F2 on Todo{complete,id,text,...F0,...F1}\nfragment F3 on TodoConnection{edges{node{complete,id},cursor},pageInfo{hasNextPage,hasPreviousPage}}\nfragment F4 on User{id,totalCount}\nfragment F5 on User{id,completedCount}\nfragment F6 on User{completedCount,id,totalCount}\nfragment F7 on User{id,...F5,...F6}\nfragment F8 on User{completedCount,<span class="hljs-attr">_01</span>:todos(status:<span class="hljs-string">"any"</span>,<span class="hljs-attr">first</span>:<span class="hljs-number">2</span>){edges{node{id,...F2},cursor},pageInfo{hasNextPage,hasPreviousPage},...F3},totalCount,id,...F4,...F7}\n</code></pre>\n<h5>Change first to first + 1</h5>\n<pre><code class="language-javascript">query TodoList{node(id:"VXNlcjptZQ=="){...F4}}\nfragment F0 on Todo{id}\nfragment F1 on Todo{complete,id}\nfragment F2 on Todo{complete,id,text,...F0,…F1}\nfragment F3 on TodoConnection{edges{node{complete,id},cursor},pageInfo{hasNextPage,hasPreviousPage}}\nfragment F4 on User{_00:todos(status:"any",after:"YXJyYXljb25uZWN0aW9uOjA=",first:1){edges{node{id,...F2},cursor},pageInfo{hasNextPage,hasPreviousPage},...F3},id}\n{% endhighlight javascript %}\n\nAs you can see our second query is much smaller as it\'s been diffed with what Relay already had in store, it is also doing some magic with the connection. When we incremented the `first` connection arg, relay instead took the global node id of our last todo, set it to the `after` variable, and put our first to `1` instead of requerying the first todos which we already had.\n\nFor more information about how Relay actually caches things you can take a look at [Huey Petterson\'s post][Huey], which goes deeper into it.\n\n#### runQueries\nrunQueries, as the name says actually run the queries but also initializes callbacks and ready state and also keeps a map of wat has been fetched\n```javascript\nvar remainingFetchMap: {[queryID: string]: PendingFetch} = {};\nvar remainingRequiredFetchMap: {[queryID: string]: PendingFetch} = {};\n</code></pre>\n<h4>storeData.getPendingQueryTracker().add</h4>\n<p>to send a query, Relay adds a <code>PendingFetch</code> object to the PendingQueryTracker, an object to handles a map of <code>PendingFetch</code> objects.</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PendingFetch(params, {\n  <span class="hljs-attr">pendingFetchMap</span>: <span class="hljs-keyword">this</span>._pendingFetchMap,\n  <span class="hljs-attr">preloadQueryMap</span>: <span class="hljs-keyword">this</span>._preloadQueryMap,\n  <span class="hljs-attr">storeData</span>: <span class="hljs-keyword">this</span>._storeData\n});\n</code></pre>\n<h4>PendingFetch</h4>\n<p>PendingFetch object has a query to resolve. Depending on mode, it will either directly fetch it, or use <code>this._subtractPending(query);</code> and then fetch it after.</p>\n<p>A <code>PendingFetch</code> object subtracts all pending queries from the supplied <code>query</code> and returns the resulting difference. The difference can be null if the entire query is pending.</p>\n<p>When the pending fetch resolves succesfully, this is called:</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">this</span>._handleSubtractedQuerySuccess.bind(<span class="hljs-keyword">this</span>, subtractedQuery)\n</code></pre>\n<p>and enqueues a task</p>\n<pre><code class="language-javascript">_this2._storeData.handleQueryPayload(subtractedQuery, response, _this2._forceIndex);\n</code></pre>\n<p>to update the store and change tracker with the repsonse</p>\n<h4>RelayStoreData.handleQueryPaypload</h4>\n<blockquote>\n<p>Writes the results of a query into the base record store.</p>\n</blockquote>\n<pre><code class="language-javascript"><span class="hljs-string">`writeRelayQueryPayload(writer, query, response);`</span>\n</code></pre>\n<h4>writeRelayQueryPayload</h4>\n<p>Using results from payload: <code>RelayNodeInterface.getResultsFromPayload</code>\nuses a writter to write every result to the store.</p>\n<h4>RelayQueryWriter.prototype.writePayload</h4>\n<p>writePayload traverses a query and payload in parallel, writing the results into the store. Using a vistor, updates record Id’s using the payload. It updates the change tracker, the store and the queryTracker.</p>\n<h4>runQueries / onResolve</h4>\n<pre><code class="language-javascript"><span class="hljs-keyword">if</span>(there are still pending queries)\n<span class="hljs-string">`setReadyState({done: false, ready: true, stale: false});`</span>\n<span class="hljs-keyword">else</span>\n<span class="hljs-string">`setReadyState({done: true, ready: true, stale: false});`</span>\n</code></pre>\n<p>I find that how Relay handles diffs and substracts what is already being sent to the server really impressive and cool. Next step is to really dive into how the data is hashed / written to the store, which <a href="http://hueypetersen.com/posts/2015/09/30/quick-look-at-the-relay-store/">Huey’s post</a> explores!</p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"Real time updates with Relay and Rails' ActionCable",date:"2016-05-29T10:00:00.000Z",description:"Setting up live updates with Rails' ActionCable, GraphQL and Relay",body:'<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" content="@__xuorig__">\n<meta name="twitter:creator" content="@__xuorig__">\n<meta name="twitter:title" content="Real time updates with Relay and Rails\' ActionCable">\n<meta name="twitter:description" content="Setting up live updates with Rails\' ActionCable, GraphQL and Relay">\n<meta name="twitter:image" content="http://mgiroux.me/assets/images/realtimerelay.gif">\n<p>To me, the only thing missing to the GraphQL ecosystem and spec today are live updates. When our client applications require live updates from the server for data they care about, we need some sort of mechanism and the GraphQL team has talked about introducing a third operation besides <code>query</code> and <code>mutation</code>: the <a href="http://GraphQL.org/blog/subscriptions-in-GraphQL-and-relay/">subscriptions</a>.</p>\n<p>Unfortunatly for us, the spec hasn’t described the “way” to do it just yet and no real implementation or spec of <code>subscriptions</code> exists. The good news is that it’s still possible to have real time updates in our Relay applications using our current existing strategies, such as a standard WebSocket connection.</p>\n<p>This weekend I took that challenge and at the same time gave Rails’ <code>ActionCable</code> for a ride.</p>\n<h2>A bit of context on what we’ll build</h2>\n<p>I’m building <a href="https://github.com/reviewbuddy/review-buddy">ReviewBuddy</a> on my spare time. ReviewBuddy is a small app to keep track of your own pull requests, and other pull requests that you need to review. Now, when somebody updates these pull requests, I’d like the pull requests on review buddy to be udpated too. It would be even better if it was in real time!</p>\n<h2>ActionCable</h2>\n<p>Let’s setup ActionCable first. Since my client app doesn’t live inside my Rails GraphQL API, we’ll need to whitelist that domain for ActionCable to work:</p>\n<pre><code class="language-ruby">  <span class="hljs-comment"># config/environments/development.rb</span>\n  config.action_cable.allowed_request_origins = [<span class="hljs-string">\'http://localhost:8080\'</span>]\n</code></pre>\n<p>ActionCable works using “Channels”. For anything we need to stream to client, we have to define a <code>Channel</code>. For PullRequests, I’ve created a <code>PullRequestsChannel</code>:</p>\n<pre><code class="language-ruby"><span class="hljs-comment"># app/channels/pull_requests_channel.rb</span>\n<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PullRequestsChannel</span> &lt; ApplicationCable::Channel</span>\n  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">subscribed</span></span>\n    stream_from <span class="hljs-string">\'pull_requests\'</span>\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>The only thing left to do is to actually stream data when something has changed! We could simply have an <code>after_commit</code> that streams the pull request when something changed, but that’s always a bad desision ;). let’s just broadcast from where we modify the pull request.</p>\n<p>All the Pull Request updates happen in a job. On perform, we find the PullRequest from the Github webhook params, and we update what we care about.</p>\n<p>After a successful save, we broadcast the changes to the client using <code>ActionCable.server.broadcast</code>, using the <code>pull_requests</code> stream and our <code>pull_request</code> as a param.</p>\n<pre><code class="language-ruby">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">perform</span><span class="hljs-params">(params)</span></span>\n    pr = PullRequest.find_by(\n      <span class="hljs-symbol">repo:</span> params[<span class="hljs-symbol">:repository</span>][<span class="hljs-symbol">:name</span>],\n      <span class="hljs-symbol">owner:</span> params[<span class="hljs-symbol">:repository</span>][<span class="hljs-symbol">:owner</span>][<span class="hljs-symbol">:login</span>],\n      <span class="hljs-symbol">number:</span> params[<span class="hljs-symbol">:number</span>],\n    )\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">unless</span> pr\n\n    pr.title = params[<span class="hljs-symbol">:pull_request</span>][<span class="hljs-symbol">:title</span>]\n    pr.merged = params[<span class="hljs-symbol">:pull_request</span>][<span class="hljs-symbol">:merged</span>]\n\n    <span class="hljs-keyword">if</span> pr.save!\n      broadcast_pr_change(pr)\n    <span class="hljs-keyword">end</span>\n  <span class="hljs-keyword">end</span>\n\n  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">broadcast_pr_change</span><span class="hljs-params">(pr)</span></span>\n    ActionCable.server.broadcast <span class="hljs-string">\'pull_requests\'</span>,\n      <span class="hljs-symbol">pull_request:</span> {\n        <span class="hljs-symbol">id:</span> pr.to_global_id.to_s,\n        <span class="hljs-symbol">title:</span> pr.title\n      }\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<h2>Relay Client App</h2>\n<p>Now the hard thing was communicating with <code>ActionCable</code> in the <code>Relay</code> app, and also updating the <code>Relay</code> Store. <code>ActionCable</code> is really tied to <code>Rails</code>, and trying to use it with an external client side app + API was harder than expected.</p>\n<p>With the help of this <a href="https://github.com/NullVoxPopuli/action_cable_client#the-action-cable-protocol">repo</a>, I was able to create own javascript client to implement the <code>ActionCable</code> protocol.</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ActionCableClient</span> </span>{\n  <span class="hljs-keyword">constructor</span>(uri, channel, onMessage) {\n    <span class="hljs-keyword">this</span>.uri = uri;\n    <span class="hljs-keyword">this</span>.channel = channel;\n    <span class="hljs-keyword">this</span>.onMessage = onMessage;\n\n    <span class="hljs-keyword">this</span>.socket = <span class="hljs-keyword">new</span> WebSocket(uri);\n    <span class="hljs-keyword">this</span>.socket.onmessage = <span class="hljs-keyword">this</span>._handleMessage.bind(<span class="hljs-keyword">this</span>);\n\n    <span class="hljs-keyword">this</span>._onReadyPromise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {\n      <span class="hljs-keyword">this</span>._resolveOnReady = resolve;\n      <span class="hljs-keyword">this</span>._rejectOnReady= reject;\n    });\n  }\n\n  <span class="hljs-keyword">static</span> connect(uri, channel, onMessage) {\n    <span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>(uri, channel, onMessage);\n    <span class="hljs-keyword">return</span> instance.connect();\n  }\n\n  connect() {\n    <span class="hljs-keyword">this</span>.socket.onopen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {\n      <span class="hljs-keyword">this</span>.socket.send(<span class="hljs-keyword">this</span>._getSubscribePayload())\n    };\n\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._onReadyPromise;\n  }\n\n  _handleMessage(event) {\n    <span class="hljs-keyword">const</span> msg = <span class="hljs-built_in">JSON</span>.parse(event.data);\n    <span class="hljs-keyword">if</span> (msg.type === <span class="hljs-string">\'confirm_subscription\'</span>) {\n      <span class="hljs-keyword">this</span>._resolveOnReady(<span class="hljs-keyword">this</span>);\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-keyword">this</span>.onMessage(msg);\n    }\n  }\n\n  _getSubscribePayload() {\n    <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.stringify({\n      <span class="hljs-attr">command</span>: <span class="hljs-string">\'subscribe\'</span>,\n      <span class="hljs-attr">identifier</span>: <span class="hljs-built_in">JSON</span>.stringify({\n        <span class="hljs-attr">channel</span>: <span class="hljs-keyword">this</span>.channel\n      })\n    });\n  }\n}\n</code></pre>\n<p>I’ve created a gist of that client right here <a href="https://gist.github.com/xuorig/b167b27f75c149b8da5837b79585169f">https://gist.github.com/xuorig/b167b27f75c149b8da5837b79585169f</a>.</p>\n<p>And this is how it can be used inside your app:</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> myEventHandlerFunction = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {\n  <span class="hljs-built_in">console</span>.log(event.message);\n}\n\nActionCableClient.connect(\n  <span class="hljs-string">\'ws://localhost:3000/cable\'</span>,\n  <span class="hljs-string">\'YourChannel\'</span>,\n  myEventHandlerFunction\n).then(<span class="hljs-function"><span class="hljs-params">client</span> =&gt;</span> {\n  client is guaranteed to be initialized properly\n  when promise is resolved.\n});\n</code></pre>\n<p>With the client finished, we have all we need to start speaking with our API in real time. The only challenge left is how to update the RelayStore from another source. This is where having an actual subscription would be amazing but for now we have to choose another path.</p>\n<p>I used this amazing issue from the Relay repo <a href="https://github.com/facebook/relay/issues/541">https://github.com/facebook/relay/issues/541</a> to derive a solution to this problem. Turns out we can use the <code>Relay.Store.getStoreData().handleQueryPayload</code> to programatically apply a payload to the store.</p>\n<p>Here’s my <code>ActionCable</code> message handler</p>\n<pre><code class="language-javascript">onActionCableMessage(event) {\n  <span class="hljs-keyword">const</span> pull_request = event.message.pull_request;\n\n  <span class="hljs-keyword">const</span> query = Relay.createQuery(Relay.QL <span class="hljs-string">`\n    query {\n      node(id: $id) {\n        ... on PullRequest {\n          title\n        }\n      }\n    }\n  `</span>, { <span class="hljs-attr">id</span>: pull_request.id });\n\n  <span class="hljs-keyword">const</span> payload = {\n    <span class="hljs-attr">node</span>: {\n      <span class="hljs-attr">title</span>: pull_request.title\n    }\n  };\n\n  Relay.Store.getStoreData().handleQueryPayload(query, payload);\n}\n</code></pre>\n<p>Basically, we build a query and it’s respective payload, and make relay update it’s store using <code>handleQueryPayload</code>. Here we simply update the pull request title for the example. Take a look at the result:</p>\n<p><img src="./realtimerelay.gif" alt="Realtime Demo"></p>\n<p>That’s it! We have real time updates in our Relay App using Rails ActionCable :)</p>\n<p>Let me know if you’ve found other ways of doing it or if you have any problems following the post!</p>\n<p>As always, you can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"Relay's new applyUpdate function",date:"2016-01-10T17:00:00.000Z",description:"How to use Relay's applyUpdate function and retry a failed transaction",body:'<p>I recently contributed to Relay and helped implementing a new function on the Relay Store,\n<code>applyUpdate</code>. It was recently merged into master and the standard <code>update</code> method was deprecated in <code>v0.6.1</code>.</p>\n<p>Before this, we were limited to <code>RelayStore.update</code> when wanting to use Mutations. For those who are less familiar with how relay mutations work under the cover, Relay has an internal queue to handle mutations. When using <code>RelayStore.update</code>, we were essentially creating a mutation transaction in the queue and committing it instantly.</p>\n<p>This actually worked well in most cases, but for more advanced use cases like for debouncing quick mutations on a single field, we needed something else. This is where <code>RelayStore.applyUpdate</code> gets useful. The <code>applyUpdate</code> function adds a mutation just like <code>update</code>, but does not commit it. It returns a <code>RelayMutationTransaction</code> that can be committed, recommitted or rollbacked at a later time.</p>\n<h1>Example use case</h1>\n<p>I’ve recently seen somebody ask this question on StackOverFlow: We want to enable\nretrying a failed mutation. Lets take an example from <a href="https://facebook.github.io/relay/docs/api-reference-relay-container.html#getpendingtransactions">Relay’s docs</a> to do this.</p>\n<p>So we want to post a Story, but if it fails, we want to display a link to retry posting\nthe same story. To do this using <code>applyUpdate</code>, we could keep for example the transaction\nin our Component state. When we try the mutation, we create it with applyUpdate, store it,\nand try to commit it after.</p>\n<p>We now have a reference to this transaction, if we see that the transaction has\na status of COMMIT_FAILED during render, we can actually show the the link to retry,\nand call <code>transaction.recommit</code> to try again. Using only <code>update</code> we would lose our\nreference to the transaction and doing more things with the transaction after becomes\nmuch more complicated. Here’s what your component could look like:</p>\n<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Story</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{\n  <span class="hljs-keyword">constructor</span>(props) {\n    <span class="hljs-keyword">super</span>(props);\n    <span class="hljs-keyword">this</span>.state = {\n      <span class="hljs-attr">transaction</span>: <span class="hljs-literal">null</span>\n    };\n  }\n\n  postStory(transaction) {\n    <span class="hljs-keyword">const</span> onSuccess = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {\n      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">\'Mutation successful!\'</span>);\n    };\n\n    <span class="hljs-keyword">const</span> onFailure = <span class="hljs-function">(<span class="hljs-params">transaction</span>) =&gt;</span> {\n      <span class="hljs-keyword">const</span> error = transaction.getError()\n      <span class="hljs-built_in">console</span>.error(error);\n    };\n\n    <span class="hljs-keyword">const</span> mutation = <span class="hljs-keyword">new</span> MyMutation({...});\n    <span class="hljs-keyword">let</span> transaction = Relay.Store.applyUpdate(\n      mutation, { onFailure, onSuccess}\n    );\n\n    <span class="hljs-keyword">this</span>.setState({<span class="hljs-attr">transaction</span>: transaction});\n    transaction.commit();\n  }\n\n  retryPostStory() {\n    <span class="hljs-keyword">let</span> transaction = <span class="hljs-keyword">this</span>.state.transaction;\n    transaction.recommit;\n  }\n\n  render() {\n    <span class="hljs-keyword">var</span> story = <span class="hljs-keyword">this</span>.props.story;\n    <span class="hljs-keyword">let</span> transaction = <span class="hljs-keyword">this</span>.state.transaction;\n\n    <span class="hljs-keyword">if</span> (transaction) {\n      <span class="hljs-keyword">if</span> (transaction.getStatus() === <span class="hljs-string">\'COMMIT_FAILED\'</span>) {\n        <span class="hljs-keyword">return</span> (\n          <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>\n            This story failed to post.\n            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.retryPostStory.bind(this)}</span>&gt;</span>\n              Try Again.\n            <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>\n          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>\n        );\n      }\n    }\n    <span class="hljs-comment">// Render story normally.</span>\n  }\n}\n\n<span class="hljs-built_in">module</span>.exports = Relay.createContainer(Story, {\n  <span class="hljs-attr">fragments</span>: {\n    <span class="hljs-attr">story</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> Relay.QL<span class="hljs-string">`\n      fragment on story {\n        # ...\n      }\n    `</span>,\n  },\n});\n</code></pre>\n<p>I have seen a lot of questions on using Relay that could be solved using apply_update really easily.\nAlso keep in mind that <code>update</code> is now deprecated and you should use <code>RelayStore#commitUpdate</code> to get the same behavior!</p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"Setting up GraphiQL in a Rails Application",date:"2016-02-20T12:00:00.000Z",description:"Learn how to setup GraphiQL in your Rails Application and test your queries without problem",body:'<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" content="@__xuorig__">\n<meta name="twitter:creator" content="@__xuorig__">\n<meta name="twitter:title" content="Setting up GraphiQL in a Rails Application">\n<meta name="twitter:description" content=" Learn how to setup GraphiQL in your Rails Application and test your queries without problem">\n<meta name="twitter:image" content="https://cloud.githubusercontent.com/assets/1919498/13198607/7ec37800-d7db-11e5-9d1b-55dcd982bd63.png">\n<p>A cool thing that GraphQL’s Introspection brings us is the ability to make awesome tools around your schema. One of them is <a href="https://github.com/GraphQL/graphiql">GraphiQL</a> (Graphical). GraphiQL enables you to test queries against you schema without the need of using curl or other tools. It has autocomplete which is really awesome, and a lot of other nice features.</p>\n<h2>Installation</h2>\n<h3>With Gem</h3>\n<p>You can use the <a href="https://github.com/rmosolgo/graphiql-rails">GraphiQl-Rails</a> gem to easily mount the Graphiql endpoint in your Rails app. The steps are clearly outlined in ReadMe.</p>\n<h3>Manually</h3>\n<p>To use GraphiQL we’ll need 4 different js files in our assets. Lets just add them in <code>app/assets/javascripts</code> but you could place them wherever you want.</p>\n<h4>Graphiql.js</h4>\n<p>You can get the graphiql source right <a href="https://github.com/GraphQL/graphiql">here</a>. I personally used their <code>build.sh</code> script. Clone the repo and run this script. You should then have a <code>GraphQL.js</code> and a <code>GraphQL.css</code> in the root folder. Copy the js file into your javascripts and the css file in your stylesheets.</p>\n<p>Note: I personally had to add this css rule for <code>graphiql</code> to render correctly\n{% highlight css %}\nhtml, body {\nheight: 100%;\n}</p>\n<pre><code>\nNext!\n\n<span class="hljs-section">#### fetch.js</span>\n\nGraphiql needs some kind of library to call your GraphQL server. They recommend [<span class="hljs-string">fetch</span>][<span class="hljs-symbol">fetch</span>]. To get the <span class="hljs-code">`fetch.js`</span> file, head to [<span class="hljs-string">Github\'s fetch polyfill repo</span>][<span class="hljs-symbol">github</span>] and download the <span class="hljs-code">`fetch.js`</span> file. Place it in your assets too!\n\n<span class="hljs-section">#### React and React-Dom</span>\n\nGraphiQL uses react components to render, so we\'ll need that too. Clone [<span class="hljs-string">React</span>][<span class="hljs-symbol">react</span>], and run <span class="hljs-code">`npm install`</span>. If you haven\'t already, install <span class="hljs-code">`grunt`</span> and <span class="hljs-code">`grunt-cli`</span> globally using <span class="hljs-code">`npm`</span>. Then, run <span class="hljs-code">`grunt build`</span>.\n\nYou should now have a build folder containing, both <span class="hljs-code">`react.js`</span> and <span class="hljs-code">`react-dom.js`</span>. Add both of them to your assets!\n\nOk, now let\'s include all those assets in our <span class="hljs-code">`application.css`</span> and <span class="hljs-code">`application.js`</span> files.\n\n<span class="hljs-section">#### application.css</span>\n{% highlight css %}\n/*\n = require ./graphiql\n */\n</code></pre>\n<h4>application.js</h4>\n<p>{% highlight js %}\n//= require ./react\n//= require ./react-dom\n//= require ./fetch\n//= require ./graphiql</p>\n<pre><code>\nWe have <span class="hljs-keyword">finally</span> all we need <span class="hljs-built_in">to</span> <span class="hljs-built_in">start</span> <span class="hljs-keyword">using</span> graphiql. The <span class="hljs-keyword">first</span> step is <span class="hljs-built_in">to</span> <span class="hljs-built_in">create</span> <span class="hljs-keyword">a</span> controller that will render GraphiQL.\n\n```ruby\n<span class="hljs-comment"># app/controllers/graphiql_controller.rb</span>\nclass GraphiqlController &lt; ApplicationController\n  def show\n  <span class="hljs-function"><span class="hljs-keyword">end</span>\n<span class="hljs-title">end</span></span>\n</code></pre>\n<p>As you can see the controller does nothing special, our work will be mainly in the view, in <code>app/views/graphiql/show.html.erb</code>:</p>\n<p>{% highlight html %}</p>\n<div id="graphiql-container"></div>\n<script>\n// Define your graphQLFetcher (Which will call your GraphQL api)\nfunction graphQLFetcher(graphQLParams) {\n  return fetch(window.location.origin + \'/queries\', {\n    method: \'post\',\n    headers: { \'Content-Type\': \'application/json\' },\n    body: JSON.stringify(graphQLParams),\n  }).then(response => response.json());\n}\nReactDOM.render(\n  React.createElement(GraphiQL, {\n    fetcher: graphQLFetcher,\n  }),\n  document.getElementById("graphiql-container")\n);\n</script>\n<pre><code>\nWe render <span class="hljs-keyword">the</span> `GraphiQL` React component, <span class="hljs-keyword">and</span> pass <span class="hljs-keyword">it</span> our fetcher, which will <span class="hljs-built_in">post</span> <span class="hljs-built_in">to</span> our `queries_controller`. (Replace this <span class="hljs-keyword">by</span> wherever you execute GraphQL queries <span class="hljs-keyword">in</span> your App.)\n\nFinally, lets <span class="hljs-built_in">add</span> <span class="hljs-keyword">a</span> route so we can access GraphiQL. In `routes.rb` <span class="hljs-built_in">add</span> this <span class="hljs-built_in">line</span>:\n\n```ruby\n  <span class="hljs-built_in">get</span> <span class="hljs-string">\'graphiql\'</span>, <span class="hljs-built_in">to</span>: <span class="hljs-string">\'graphiql#show\'</span>\n</code></pre>\n<p>Now head to <code>/graphiql</code> and you should see the GraphiQL interface! Time to test your queries :)</p>\n<img width="595" alt="screenshot 2016-02-20 14 06 19" src="https://cloud.githubusercontent.com/assets/1919498/13198607/7ec37800-d7db-11e5-9d1b-55dcd982bd63.png">\n<p>You can see an example of this setup at my <a href="https://github.com/xuorig/my-simple-blogging-app">Simple Blogging App</a> repo.</p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'
}},function(e,t){e.exports={title:"RANGE_ADD mutations and the mysterious Relay Range Behaviors",date:"2016-05-06T10:00:00.000Z",description:"Demystifying Relay Range Behaviors when using RANGE_ADD mutations",body:'<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" content="@__xuorig__">\n<meta name="twitter:creator" content="@__xuorig__">\n<meta name="twitter:title" content="The mysterious Relay Range Behaviors">\n<meta name="twitter:description" content="Demystifying Relay Range Behaviors when using RANGE_ADD mutations">\n<meta name="twitter:image" content="https://cloud.githubusercontent.com/assets/2231765/9094460/cb43861e-3b66-11e5-9fbf-71066ff3ab13.png">\n<p>One of the coolest features of Relay is it’s amazing client side cache. When we mutate our data using Mutations, Relay needs to know how to update it’s client cache. The way the Relay team chose to manage that is by having <code>Mutator Configurations</code>. The <code>Mutator Configuration</code> is a way to instruct Relay what to do with the Mutation payload, AKA how to to update it’s client side cache with the serve response. There is currently 5 ways to use this <code>Mutator Configuration</code>:</p>\n<ul>\n<li><code>REQUIRED_CHILDREN</code></li>\n<li><code>FIELDS_CHANGE</code></li>\n<li><code>NODE_DELETE</code></li>\n<li><code>RANGE_DELETE</code></li>\n<li><code>RANGE_ADD</code></li>\n</ul>\n<h3>RANGE_ADD Mutations</h3>\n<p>Most apps will eventually want to add some item to some collections, and you’ll usually end up using the <code>RANGE_ADD</code> configuration, this post will be strictly about <code>RANGE_ADD</code> and some of it’s gotchas. I have contributed a bit on mutations, especially <code>RANGE_ADD</code> so I thought it would be a good idea to share some new things about this!</p>\n<p>First let’s take a look at what it looks like! Let’s take the famous TODO app example. We want to create a Mutation that will add a new Todo item to our list:</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddTodoMutation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Relay</span>.<span class="hljs-title">Mutation</span> </span>{\n  getMutation() {\n    <span class="hljs-keyword">return</span> Relay.QL<span class="hljs-string">`mutation{addTodo}`</span>;\n  }\n\n  getFatQuery() {\n    <span class="hljs-keyword">return</span> Relay.QL<span class="hljs-string">`\n      fragment on AddTodoPayload {\n        todoEdge,\n        viewer {\n          todos,\n          totalCount,\n        },\n      }\n    `</span>;\n  }\n\n  getConfigs() {\n    <span class="hljs-keyword">return</span> [{\n      <span class="hljs-attr">type</span>: <span class="hljs-string">\'RANGE_ADD\'</span>,\n      <span class="hljs-attr">parentName</span>: <span class="hljs-string">\'viewer\'</span>,\n      <span class="hljs-attr">parentID</span>: <span class="hljs-keyword">this</span>.props.viewer.id,\n      <span class="hljs-attr">connectionName</span>: <span class="hljs-string">\'todos\'</span>,\n      <span class="hljs-attr">edgeName</span>: <span class="hljs-string">\'todoEdge\'</span>,\n      <span class="hljs-attr">rangeBehaviors</span>: {\n        <span class="hljs-string">\'\'</span>: <span class="hljs-string">\'append\'</span>,\n        <span class="hljs-string">\'status(any)\'</span>: <span class="hljs-string">\'append\'</span>,\n        <span class="hljs-string">\'status(active)\'</span>: <span class="hljs-string">\'append\'</span>,\n        <span class="hljs-string">\'status(completed)\'</span>: <span class="hljs-string">\'ignore\'</span>,\n      },\n    }];\n  }\n\n  getVariables() {\n    <span class="hljs-keyword">return</span> {\n      <span class="hljs-attr">text</span>: <span class="hljs-keyword">this</span>.props.text,\n    };\n  }\n}\n</code></pre>\n<p>Take a look at the <code>getConfigs</code> function above, this is the <code>Mutator Configuration</code> for that Mutation. We specify the type (RANGE_ADD), the parent, connection, the new edgeName that we expect to receive from the server and the <code>rangeBehaviors</code>. What is are rangeBehaviors? It’s a way of telling Relay what you want to do with that new edge.</p>\n<h4>Range Behavior values</h4>\n<p>Previously the only two choices we had were either <code>append</code> or <code>prepend</code>. As you might’ve guessed, these were telling Relay to either <code>append</code> the new edge to the connection in the cache, or to prepend it.</p>\n<p>What if you didn’t want to do anything with the new edge ? You could pass <code>null</code> instead, but it was not the cleanest way to do it.</p>\n<p>Wanted to actually refetch the whole connection and trust the server instead of updating the client cache with a single new edge ? No real way of doing it, except simply not adding an entry in the <code>rangeBehaviors</code> object. Unfortunatly that would result in a warning, telling you that Relay refetched the whole connection, even though maybe that was the desired behaviour.</p>\n<p>Since then, two new range behaviors were introduced, <code>ignore</code> and <code>refetch</code>. <code>ignore</code> is  meant to replace the <code>null</code> to instruct Relay not to do anything with the new edge and <code>refetch</code> is meant to squelch the warning Relay would throw when not including a range in the <code>rangeBehaviors</code> object.</p>\n<p>Alright, we know which values to use in our <code>rangeBehaviors</code>, but what should I put in the key ? The keys allow you to define different behaviors for different connections. Take a look at the <code>rangeBehaviors</code> from the previous example:</p>\n<pre><code class="language-javascript">rangeBehaviors: {\n  <span class="hljs-string">\'\'</span>: <span class="hljs-string">\'append\'</span>,\n  <span class="hljs-string">\'status(any)\'</span>: <span class="hljs-string">\'append\'</span>,\n  <span class="hljs-string">\'status(active)\'</span>: <span class="hljs-string">\'append\'</span>,\n  <span class="hljs-string">\'status(completed)\'</span>: <span class="hljs-string">\'ignore\'</span>,\n}\n</code></pre>\n<p>We have an empty string <code>\'\'</code>, <code>status(any)</code>, <code>status(active)</code>, and <code>status(completed)</code>. To understand why we have to format our <code>rangeBehaviors</code> this way, we have to understand how Relay matches a connection to a <code>rangeBehavior</code>!</p>\n<p>When trying to get a <code>rangeBehavior</code> for a particular connection, Relay first gets the <code>rangeFilterCalls</code>. <code>rangeFilterCalls</code> are simply an Array containing what the connection was called with. Keeping the same example, if we queried the todos by <code>status: \'any\'</code> we would have these <code>rangeFilterCalls</code>:</p>\n<pre><code class="language-javascript">[{<span class="hljs-attr">name</span>: <span class="hljs-string">\'status\'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">\'any\'</span>}]\n</code></pre>\n<p>Now, to match a key with these calls, Relay transforms these calls by serializing them into a nice string such as <code>status(any)</code>, making it way easier to use it as a key.</p>\n<p>It <code>maps</code> over each call and serializes the call this way: <code>.name(value)</code>. If we were to have these calls:</p>\n<pre><code class="language-javascript">[{\n  <span class="hljs-attr">name</span>: <span class="hljs-string">\'status\'</span>,\n  <span class="hljs-attr">value</span>: <span class="hljs-string">\'any\'</span>\n}, {\n  <span class="hljs-attr">name</span>: <span class="hljs-string">\'someArg\'</span>,\n  <span class="hljs-attr">value</span>: <span class="hljs-string">\'someValue\'</span>\n}]\n</code></pre>\n<p>We would end up with this key: <code>someArg(someValue).status(any)</code> (Notice that rangeFilterCalls are sorted and that the first <code>.</code> is removed!)</p>\n<p>For this reason, you have to make sure to include all calls when defining your <code>rangeBehaviors</code> oobject. Using the same calls, a range behavior of <code>someArg(someValue): \'append\'</code> would trigger a warning since we forgot to also include the <code>.status(any)</code>.</p>\n<p>Now, you’ll notice it’s not always possible to choose the best behavior given only the serialized key. Sometimes we want to have <code>append</code> when <code>someArg</code> has <code>someValue</code>, but only when <code>status</code> is <code>complete</code>. We had no way of doing this before recently.</p>\n<h4>Defining rangeBehaviors as a function</h4>\n<p>I recently submitted a PR to have another way to define <code>rangeBehaviors</code>. As I’m writting this, this feature has been merged on <code>master</code> but is not released yet (<a href="https://github.com/facebook/relay/pull/1054">https://github.com/facebook/relay/pull/1054</a>)</p>\n<p>Here’s how our Todo example looks with a <code>rangeBehaviors</code> function instead of the plain object.</p>\n<pre><code class="language-javascript">rangeBehaviors: <span class="hljs-function">(<span class="hljs-params">calls</span>) =&gt;</span> {\n  <span class="hljs-keyword">if</span> (calls.status === <span class="hljs-string">\'completed\'</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-string">\'ignore\'</span>;\n  } <span class="hljs-keyword">else</span> {\n    <span class="hljs-keyword">return</span> <span class="hljs-string">\'append\'</span>;\n  }\n}\n</code></pre>\n<p>When we define <code>rangeBehaviors</code> as a function, Relay won’t serialize the calls but simply pass them to the function. We can then implement any logic needed to decide on the proper behavior for this connection/calls. Much better right ?</p>\n<p>Time to try it yourself! Let me know how it goes :)</p>\n<p>As always, you can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t){e.exports={title:"Authentication in Relay Applications using Rails and GraphQL",date:"2016-03-06T10:00:00.000Z",description:"Using an Authorization Token to enable authentication in Relay applications using Rails with Devise and GraphQL",body:'<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" content="@__xuorig__">\n<meta name="twitter:creator" content="@__xuorig__">\n<meta name="twitter:title" content="Authentication in Relay Applications using Rails and GraphQL">\n<meta name="twitter:description" content="Using an Authorization Token to enable authentication in Relay applications using Rails with Devise and GraphQL">\n<meta name="twitter:image" content="https://cloud.githubusercontent.com/assets/2231765/9094460/cb43861e-3b66-11e5-9fbf-71066ff3ab13.png">\n<p>Most of apps today have users and require some form of Auth. It can be tricky to implement it in a Relay app because we don’t have explicit control on what we send to the server.</p>\n<p>Here’s the way I’ve been doing it in my project, this solution assumes that you’re using <a href="https://github.com/plataformatec/devise">Devise</a> for authentication in your Rails app.</p>\n<h3>Authorization Token</h3>\n<p>The way I’ve implemented Authentication in my Relay app is by using an Authorization Token in the request headers.</p>\n<p>First thing we’re going to do is modify the <code>DefaultNetworkLayer</code> to always send the <code>Authorization</code> header when we have it. We’re going to hold the token in <code>localStorage</code>.</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> token = localStorage.getItem(<span class="hljs-string">\'auth_token\'</span>);\n<span class="hljs-keyword">const</span> headers = { <span class="hljs-attr">Authorization</span>: token }\n\nRelay.injectNetworkLayer(\n  <span class="hljs-keyword">new</span> Relay.DefaultNetworkLayer(<span class="hljs-string">\'http://localhost:3000/your_GraphQL_endpoint\'</span>, {\n    <span class="hljs-attr">headers</span>: headers\n  })\n);\n</code></pre>\n<p>Now everytime Relay fetches data, our token will be sent as a header so we can auth server side.</p>\n<h3>Handling the token server side</h3>\n<h4>Authorization Token</h4>\n<p>If we want to use an <code>auth_token</code> to identify our users, we’ll need that in our database. Let’s create a migration to add the column:</p>\n<pre><code class="language-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddAccessTokenToUser</span> &lt; ActiveRecord::Migration</span>\n  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">change</span></span>\n    add_column <span class="hljs-symbol">:users</span>, <span class="hljs-symbol">:access_token</span>, <span class="hljs-symbol">:string</span>\n  <span class="hljs-keyword">end</span>\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>Alright, now that we have that column, we can actually use it. We want every user to have an <code>auth_token</code>. What we can do is generate one everytime we create a new user, like this:</p>\n<pre><code class="language-ruby">  <span class="hljs-comment"># models/user.rb</span>\n  after_create <span class="hljs-symbol">:update_access_token!</span>\n\n  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_access_token!</span></span>\n    access_token = <span class="hljs-string">"<span class="hljs-subst">#{<span class="hljs-keyword">self</span>.id}</span>:<span class="hljs-subst">#{Devise.friendly_token}</span>"</span>\n    save!\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>A note here on how we generate that token. I’ve taken this idea from a great gist made by Jose Valim: <a href="https://gist.github.com/josevalim/fb706b1e933ef01e4fb6">https://gist.github.com/josevalim/fb706b1e933ef01e4fb6</a></p>\n<p>We could’ve used only <code>Devise.friendly_token</code> for the token, and then find the user by this token everytime we want to retrieve it, but it’s not ideal for two main reasons: First, using <code>find_by(access_token: token)</code> is way slower that using the primary key like what we’re going to do here. Second, searching for the token itself is vulnerable to timing attacks. Here is a great blog post about that type of attack: <a href="https://codahale.com/a-lesson-in-timing-attacks/">https://codahale.com/a-lesson-in-timing-attacks/</a></p>\n<p>Keep in mind that using the id here is faster and avoids timing attacks but I still would not use that in production. You should probably encrypt the id instead of having that plain text in our token, since it’s very obvious what it is in that case.</p>\n<h4>Authenticate using the token</h4>\n<p>The plan here is to be able to do <code>before_action :authenticate_user_from_token!</code> in our <code>GraphQL_controller</code>.</p>\n<p>So lets define this method:</p>\n<pre><code class="language-ruby">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">authenticate_user_from_token!</span></span>\n    auth_token = request.headers[<span class="hljs-string">\'Authorization\'</span>]\n    <span class="hljs-keyword">return</span> authentication_error <span class="hljs-keyword">unless</span> auth_token\n    authenticate_with_auth_token auth_token\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>Fairly straight forward. We grab the token from the headers and return a <code>401</code> if it is not there.\nIf it is there, we’re going to call <code>authenticate_with_auth_token</code> with it.</p>\n<pre><code class="language-ruby">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">authenticate_with_auth_token</span><span class="hljs-params">(auth_token)</span></span>\n    <span class="hljs-comment"># return if the token does not have the right format</span>\n    <span class="hljs-keyword">return</span> authentication_error <span class="hljs-keyword">unless</span> auth_token.<span class="hljs-keyword">include</span>?(<span class="hljs-string">\':\'</span>)\n\n    <span class="hljs-comment"># Find the user by splitting the token and finding by id</span>\n    <span class="hljs-comment"># Again, not the most secure way to do it, but works as an example.</span>\n    user_id = auth_token.split(<span class="hljs-string">\':\'</span>).first\n    user = User.where(<span class="hljs-symbol">id:</span> user_id).first\n\n    <span class="hljs-comment"># Use secure_compare to mitigate timing atttacks</span>\n    <span class="hljs-keyword">if</span> user &amp;&amp; Devise.secure_compare(user.access_token, auth_token)\n      sign_in user, <span class="hljs-symbol">store:</span> <span class="hljs-literal">false</span>\n    <span class="hljs-keyword">else</span>\n      authentication_error\n    <span class="hljs-keyword">end</span>\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>We should be all set to start authenticating our users! Let’s see how we can use this.\nHere’s an example of how you could handle GraphQL queries using the <code>GraphQL-ruby</code> gem.</p>\n<pre><code class="language-ruby">  <span class="hljs-comment"># controllers/GraphQL_controller.rb</span>\n  before_action <span class="hljs-symbol">:authenticate_user_from_token!</span>\n\n  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create</span></span>\n    query_string = params[<span class="hljs-symbol">:query</span>]\n    query_variables = params[<span class="hljs-symbol">:variables</span>] <span class="hljs-params">||</span> {}\n    result = YourSchema.execute(\n      query_string,\n      <span class="hljs-symbol">variables:</span> query_variables,\n      <span class="hljs-symbol">context:</span> {<span class="hljs-symbol">current_user:</span> current_user}, <span class="hljs-comment"># Add the current_user into the query context</span>\n    )\n    render <span class="hljs-symbol">json:</span> result\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p><code>authenticate_user_from_token!</code> sets our current_user correctly if the token matches\na user, or will fail with a <code>401</code> if it cannot.</p>\n<p>We can now use current_user anywhere in the query execution. We can simply have a <code>currentUser</code>\nfield on our <code>QueryRoot</code>, that our Relay app fetches.</p>\n<pre><code class="language-ruby">  field <span class="hljs-symbol">:currentUser</span> <span class="hljs-keyword">do</span>\n    type UserType\n    resolve -&gt; (obj, args, ctx) {\n      ctx[<span class="hljs-symbol">:current_user</span>]\n    }\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>You can then easily access the <code>currentUser</code> in your Relay app by including it in your fragments.</p>\n<h4>Signing in users</h4>\n<p>Now that we can authenticate users with their auth_token, it would be fun to actually get that <code>auth_token</code> when we don’t have it in the first place, aka log in a user.</p>\n<p>Turns out we can actually use a Relay Mutation for that purpose. Take a look at this mutation definition:</p>\n<pre><code class="language-ruby">SignInMutation = GraphQL::Relay::Mutation.define <span class="hljs-keyword">do</span>\n  name <span class="hljs-string">"SignIn"</span>\n  input_field <span class="hljs-symbol">:email</span>, !types.String\n  input_field <span class="hljs-symbol">:password</span>, !types.String\n\n  return_field <span class="hljs-symbol">:access_token</span>, types.String\n\n  resolve -&gt; (args, ctx) {\n    @user = User.find_for_database_authentication(<span class="hljs-symbol">email:</span> args[<span class="hljs-symbol">:email</span>])\n    access_token = <span class="hljs-keyword">if</span> @user.valid_password?(args[<span class="hljs-symbol">:password</span>])\n      @user.access_token\n    <span class="hljs-keyword">end</span>\n    { <span class="hljs-symbol">access_token:</span> access_token }\n  }\n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>The mutation is pretty straight forward too. We find the user by his email and validate the password passed in the arguments. If we successfuly authenticate the user, we can return his <code>access_token</code>!</p>\n<p>On the Relay side, simply call the mutation with the <code>email</code> and <code>password</code> values coming from your sign in form, and set your local storage key with the <code>access_token</code> from the response.</p>\n<p>Calling the mutation:</p>\n<pre><code class="language-javascript">  <span class="hljs-keyword">let</span> onFailure = <span class="hljs-function">(<span class="hljs-params">transaction</span>) =&gt;</span> {\n    <span class="hljs-keyword">var</span> error = transaction.getError() || <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">\'Mutation failed.\'</span>);\n    <span class="hljs-built_in">console</span>.error(error);\n  };\n\n  <span class="hljs-keyword">let</span> onSuccess = <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {\n    <span class="hljs-keyword">const</span> access_token = response.signin.access_token;\n    localStorage.setItem(<span class="hljs-string">\'access_token\'</span>, access_token);\n    <span class="hljs-built_in">window</span>.location = <span class="hljs-string">\'/\'</span>;\n  }\n\n  Relay.Store.update(<span class="hljs-keyword">new</span> SignInMutation({\n    <span class="hljs-attr">email</span>: email,\n    <span class="hljs-attr">password</span>: password\n  }), {onFailure, onSuccess});\n</code></pre>\n<p>The mutation itself (Notice the <code>REQUIRED_CHILDREN</code> config, which lets you force fragments to be included in the query):</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SignInMutation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Relay</span>.<span class="hljs-title">Mutation</span> </span>{\n  getMutation() {\n    <span class="hljs-keyword">return</span> Relay.QL<span class="hljs-string">`mutation {\n      signin\n    }`</span>;\n  }\n\n  getVariables() {\n    <span class="hljs-keyword">return</span> {\n      <span class="hljs-attr">email</span>: <span class="hljs-keyword">this</span>.props.email,\n      <span class="hljs-attr">password</span>: <span class="hljs-keyword">this</span>.props.password,\n    };\n  }\n\n  getFatQuery() {\n    <span class="hljs-keyword">return</span> Relay.QL<span class="hljs-string">`\n      fragment on SignInPayload {\n        access_token\n      }\n    `</span>;\n  }\n\n  getConfigs() {\n      <span class="hljs-keyword">return</span> [{\n        <span class="hljs-attr">type</span>: <span class="hljs-string">\'REQUIRED_CHILDREN\'</span>,\n        <span class="hljs-comment">// Forces these fragments to be included in the query</span>\n        children: [Relay.QL<span class="hljs-string">`\n          fragment on SignInPayload {\n            access_token\n          }\n        `</span>],\n      }];\n    }\n}\n</code></pre>\n<p>If the mutation is a success, and your <code>access_token</code> is successfuly set in localStorage, your next queries will have the correct <code>Authorization</code> header, making the currentUser available in your queries!</p>\n<p>Hope this will help some of you, I’ve seen a lot of different ways of handling Authentication in GraphQL/Relay apps, so let me know if you have any other ways of doing it!</p>\n<p>You can find me on Twitter <a href="https://twitter.com/__xuorig__">@__xuorig__</a> or <a href="http://github.com/xuorig">Github</a></p>\n'}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=(n(164),n(238)),p=a(c),d=(n(373),n(392)),h=a(d),f=n(469),m=a(f),y=n(375),g=n(419),v=a(g),b=n(470),w=a(b),_=n(497),k=a(_),j=n(499),x=a(j);n(476);var T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={postCount:4},n.onLoadMore=n.loadMore.bind(n),n}return s(t,e),i(t,[{key:"loadMore",value:function(){this.setState(function(e,t){return{postCount:e.postCount+4}})}},{key:"render",value:function(){var e=[],t=(0,p.default)(this.props.route.pages,function(e){return(0,m.default)(e,"data.date")}).reverse();t.forEach(function(t){if("md"===(0,m.default)(t,"file.ext")&&!(0,v.default)(t.path,"/404")){(0,m.default)(t,"data.title")||t.path;e.push(u.default.createElement(k.default,{key:t.path,title:t.data.title,desc:t.data.description,date:t.data.date,path:t.path}))}}),e=e.slice(0,this.state.postCount);var n=void 0;return n=this.state.postCount<t.length-1?u.default.createElement("div",{className:"load-more"},"Haven't found what you're looking for? ",u.default.createElement("button",{onClick:this.onLoadMore},"Load More!")):u.default.createElement("div",{className:"love"},u.default.createElement("span",null,"You've reached the end. Made with ❤️ in Montreal")),u.default.createElement("div",{className:"wrapper"},u.default.createElement(h.default,{title:y.config.blogTitle,meta:[{name:"description",content:"Marc-Andre Giroux's Blog"},{name:"keywords",content:"blog, Marc-Andre, Giroux, GraphQL, React, Relay, Rails, Ruby"}]}),u.default.createElement(w.default,null),u.default.createElement("section",{className:"post-list"},u.default.createElement("h2",{style:{marginTop:10,marginBottom:60,fontWeight:300,fontSize:29}},"Recent Posts"),u.default.createElement(x.default,{transitionName:"post-list__item",transitionEnterTimeout:500,transitionLeaveTimeout:300,transitionAppear:!0,transitionAppearTimeout:500},e),n))}}]),t}(u.default.Component);T.propTypes={route:u.default.PropTypes.object},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l);n(498);var c=n(164),p=n(373),d=n(391),h=a(d),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=(0,h.default)(this.props.date).format("ll");return u.default.createElement(c.Link,{className:"post-list__item",to:(0,p.prefixLink)(this.props.path)},u.default.createElement("article",null,u.default.createElement("header",{className:"post-list__item__header"},u.default.createElement("h1",{className:"post-list__item__header__title"},this.props.title),u.default.createElement("span",{className:"post-list__item__header__date"},e)),u.default.createElement("div",null,u.default.createElement("p",{className:"post-list__item__desc"},this.props.desc))))}}]),t}(u.default.Component);f.propTypes={title:u.default.PropTypes.string,desc:u.default.PropTypes.string,date:u.default.PropTypes.string},t.default=f,e.exports=t.default},472,function(e,t,n){e.exports=n(500)},function(e,t,n){"use strict";function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var r=n(4),o=n(3),s=n(501),i=n(503),l=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:i.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o.createElement(i,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return o.createElement(s,r({},this.props,{childFactory:this._wrapChild}))}});e.exports=l},function(e,t,n){"use strict";var a=n(4),r=n(3),o=(n(110),n(502)),s=n(12),i=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:s.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t;t=o.getChildMapping(e.children);var n=this.state.children;this.setState({children:o.mergeChildMappings(n,t)});var a;for(a in t){var r=n&&n.hasOwnProperty(a);!t[a]||r||this.currentlyTransitioningKeys[a]||this.keysToEnter.push(a)}for(a in n){var s=t&&t.hasOwnProperty(a);!n[a]||s||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),
delete this.currentlyTransitioningKeys[e];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=a({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(r.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var o=a({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,r.createElement(this.props.component,o,e)}});e.exports=i},function(e,t,n){"use strict";var a=n(122),r={getChildMapping:function(e,t){return e?a(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var a={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(a[o]=r,r=[]):r.push(o);var s,i={};for(var l in t){if(a.hasOwnProperty(l))for(s=0;s<a[l].length;s++){var u=a[l][s];i[a[l][s]]=n(u)}i[l]=n(l)}for(s=0;s<r.length;s++)i[r[s]]=n(r[s]);return i}};e.exports=r},function(e,t,n){"use strict";var a=n(3),r=n(32),o=n(504),s=n(505),i=n(30),l=17,u=a.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.shape({enter:a.PropTypes.string,leave:a.PropTypes.string,active:a.PropTypes.string}),a.PropTypes.shape({enter:a.PropTypes.string,enterActive:a.PropTypes.string,leave:a.PropTypes.string,leaveActive:a.PropTypes.string,appear:a.PropTypes.string,appearActive:a.PropTypes.string})]).isRequired,appear:a.PropTypes.bool,enter:a.PropTypes.bool,leave:a.PropTypes.bool,appearTimeout:a.PropTypes.number,enterTimeout:a.PropTypes.number,leaveTimeout:a.PropTypes.number},transition:function(e,t,n){var a=r.findDOMNode(this);if(!a)return void(t&&t());var i=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||i+"-active",u=null,c=function(e){e&&e.target!==a||(clearTimeout(u),o.removeClass(a,i),o.removeClass(a,l),s.removeEndEventListener(a,c),t&&t())};o.addClass(a,i),this.queueClassAndNode(l,a),n?(u=setTimeout(c,n),this.transitionTimeouts.push(u)):s.addEndEventListener(a,c)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,l))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){o.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return i(this.props.children)}});e.exports=u},function(e,t,n){"use strict";function a(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var a=n.querySelectorAll(t);return Array.prototype.indexOf.call(a,e)!==-1}var r=n(8),o={addClass:function(e,t){return/\s/.test(t)?r(!1):void 0,t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?r(!1):void 0,t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?r(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return a(e,t)};return n.call(e,t)}};e.exports=o},function(e,t,n){"use strict";function a(){var e=i("animationend"),t=i("transitionend");e&&l.push(e),t&&l.push(t)}function r(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var s=n(46),i=n(100),l=[];s.canUseDOM&&a();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){o(e,n,t)})}};e.exports=u},function(e,t){e.exports={path:"/404.html",body:"<h1>NOT FOUND</h1>\n<p>You just hit a route that doesn’t exist… the sadness.</p>\n"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=(n(164),n(373),n(392)),p=a(c),d=n(375),h=n(508),f=a(h),m=n(509),y=a(m);n(476);var g=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"wrapper"},u.default.createElement(p.default,{title:d.config.blogTitle,meta:[{name:"description",content:"Marc-Andre Giroux's Blog"},{name:"keywords",content:"blog, Marc-Andre, Giroux, GraphQL, React, Relay, Rails, Ruby"}]}),u.default.createElement(f.default,{title:"Speaking",subtitle:"Check out some of my past talks, and where I'm speaking next!"}),u.default.createElement(y.default,null),u.default.createElement("div",{className:"love"},u.default.createElement("span",null,"Made with ❤️ in Montreal")))}}]),t}(u.default.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),c=n(471),p=a(c);n(472);var d=n(373),h=n(164),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle;return u.default.createElement("header",{className:"me"},u.default.createElement("div",{className:"me__photo"},u.default.createElement("img",{src:p.default,alt:"Marc-Andre Giroux's Photo",className:"me__photo__avatar"})),u.default.createElement("div",{className:"me__profile"},u.default.createElement("h1",{className:"me__profile__name"},t),u.default.createElement("h2",{className:"me__profile__desc"},n),u.default.createElement("p",null,"Or go back to ",u.default.createElement(h.Link,{to:(0,d.prefixLink)("/")},"Home")," 🏠")))}}]),t}(u.default.Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l);n(510);var c=n(511),p=a(c),d=n(512),h=a(d),f=n(391),m=a(f),y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=[],t=[],n=h.default.sort(function(e,t){return e<=t?-1:t>=e?1:0});n.forEach(function(n){var a=(0,m.default)(n.date);a>=(0,m.default)()?e.push(n):t.push(n)});var a=e.map(function(e){return u.default.createElement(p.default,{key:e.name+e.event,talk:e})}),r=t.map(function(e){return u.default.createElement(p.default,{key:e.name+e.event,talk:e})});return u.default.createElement("section",{className:"talk-list"},u.default.createElement("h2",{style:{marginTop:0,marginBottom:40,fontWeight:300,fontSize:29}},"Upcoming Talks"),a,u.default.createElement("h2",{style:{marginTop:40,marginBottom:40,fontWeight:300,fontSize:29}},"Past Talks"),r)}}]),t}(u.default.Component);t.default=y,e.exports=t.default},472,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l);n(510);var c=n(391),p=a(c),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uniqueId=n.props.talk.name+n.props.talk.event,n.uniqueId=n.uniqueId.replace(/ /g,""),n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e={lat:this.props.talk.lat,lng:this.props.talk.long},t=new window.google.maps.Map(document.getElementById(this.uniqueId),{zoom:4,center:e,disableDefaultUI:!0});new window.google.maps.Marker({position:e,map:t})}},{key:"render",value:function(){var e=this.props.talk,t=e.name,n=e.event,a=e.location,r=e.date,o=e.cancelled,s=e.url,i=e.slides,l=e.video,c="talk-list__talk__content__name"+(o?" talk-list__talk__content__name--cancelled":""),d=o?u.default.createElement("span",{className:"cancelled"}," (Cancelled)"):null,h=i?u.default.createElement("p",null,u.default.createElement("a",{href:i},"View Slides")):null,f=l?u.default.createElement("p",null,u.default.createElement("a",{href:l},"View Recording")):null;return u.default.createElement("div",{className:"talk-list__talk"},u.default.createElement("div",{id:this.uniqueId,className:"talk-list__talk__map"}),u.default.createElement("div",{className:"talk-list__talk__content"},u.default.createElement("p",null,u.default.createElement("a",{href:s,className:c},t),d),u.default.createElement("p",{className:"talk-list__talk__content__event"},n),u.default.createElement("p",{className:"light"},a),u.default.createElement("p",{className:"light"},(0,p.default)(r).fromNow()),h,f))}}]),t}(u.default.Component);t.default=d,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"Exploring GraphQL",event:"ConFoo Montreal",location:"Montreal, Canada",date:"2017-03-08",lat:45.5111012,long:-73.6021945,url:"https://confoo.ca/fr/yul2017/session/exploring-graphql"},{name:"Becoming a REST Elitist",event:"Pycon Canada",location:"Toronto, Canada",date:"2016-11-12",cancelled:!0,lat:43.7178991,long:-79.6582408},{name:"GraphQL @ Shopify",event:"GraphQL Summit",location:"San Francisco, USA",date:"2016-10-26",lat:37.7576793,long:-122.50764,url:"http://graphqlsummit.com/",slides:"https://speakerdeck.com/xuorig/graphql-at-shopify",video:"https://youtu.be/Wlu_PWCjc6Y"},{name:"From REST to GraphQL",event:"FullStack Toronto",location:"Toronto Canada",date:"2016-10-17",lat:43.7178991,long:-79.6582408,url:"https://fsto.co/"},{name:"From REST to GraphQL",event:"FullStackFest",location:"Barcelona, Spain",date:"2016-09-05",lat:41.3947688,long:2.0787279,url:"https://2016.fullstackfest.com/",slides:"https://speakerdeck.com/xuorig/from-rest-to-graphql",video:"https://www.youtube.com/watch?v=eD7kLFGOgVw"},{name:"GraphQL on Rails",event:"EuRuKo",location:"Sofia, Bulgaria",date:"2016-09-23",lat:42.6954108,long:23.2539069,url:"http://euruko2016.org/",slides:"https://speakerdeck.com/xuorig/graphql-on-rails-2",video:"https://www.youtube.com/watch?v=_V96jduEvjY"},{name:"Data-fetching for React Applications with Relay & GrapQL",event:"Montreal JS Meetup",location:"Montreal, Canada",date:"2016-08-09",lat:45.5111012,long:-73.6021945,url:"http://js-montreal.org/",slides:"https://speakerdeck.com/xuorig/data-fetching-in-react-applications-with-relay-and-graphql"},{name:"GraphQL on Rails",event:"Montreal Ruby Meetup",location:"Montreal, Canada",date:"2016-03-15",lat:45.5111012,long:-73.6021945,url:"http://www.montrealrb.com/",slides:"https://speakerdeck.com/xuorig/graphql-on-rails-1"}],e.exports=t.default}]));
//# sourceMappingURL=bundle.js.map